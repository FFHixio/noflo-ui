{"version":3,"sources":["webpack:///./node_modules/events/events.js","webpack:///./node_modules/tv4/tv4.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js","webpack:///../src/Journal.ts","webpack:///../src/JournalStore.ts","webpack:///../src/Graph.ts","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/fbp/lib/fbp.js","webpack:///./node_modules/fbp/lib/serialize.js","webpack:///./node_modules/path-browserify/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/clone/clone.js","webpack:///./node_modules/node-libs-browser/node_modules/buffer/index.js","webpack:///../src/index.ts","webpack:///./node_modules/uuid/dist/esm-browser/stringify.js","webpack:///../src/MemoryJournalStore.ts","webpack:///../src/Platform.ts","webpack:///./node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/fbp/lib/index.js","webpack:///./node_modules/object-assign/index.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/uuid/dist/esm-browser/rng.js"],"names":["ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","this","module","exports","once","emitter","name","Promise","resolve","reject","eventListener","undefined","errorListener","removeListener","slice","arguments","err","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","create","newListener","emit","unshift","push","length","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","defineProperty","enumerable","get","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","handler","len","listeners","addListener","on","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","hasOwnProperty","hasDontEnumBug","dontEnums","dontEnumsLength","toString","propertyIsEnumerable","obj","result","prop","F","o","isArray","vArg","indexOf","searchElement","t","Infinity","Math","floor","abs","k","max","isFrozen","random","e","uriTemplateGlobalModifiers","uriTemplateSuffices","notReallyPercentEncode","string","encodeURI","replace","doubleEncoded","substring","uriTemplateSubstitution","spec","modifier","charAt","separator","prefix","shouldEscape","showVariables","trimEmptyString","varNames","varList","split","varSpecs","varSpecMap","varName","truncate","parts","parseInt","suffices","varSpec","subFunction","valueFunction","startIndex","j","encodeURIComponent","first","substitution","UriTemplate","template","textParts","prefixes","substitutions","part","remainder","funcs","fill","fillFromObject","ValidatorContext","parent","collectMultiple","errorReporter","checkRecursive","trackUnknownProperties","missing","missingMap","formatValidators","schemas","errors","handleError","collectError","returnError","scanned","scannedFrozen","scannedFrozenSchemas","scannedFrozenValidationErrors","validatedSchemasKey","validationErrorsKey","knownPropertyPaths","unknownPropertyPaths","defaultErrorReporter","definedKeywords","recursiveCompare","A","B","defineKeyword","keyword","keywordFunction","createError","code","messageParams","dataPath","schemaPath","subErrors","data","schema","ValidationError","prefixErrors","prefixWith","banUnknownProperties","unknownPath","ErrorCodes","UNKNOWN_PROPERTY","path","addFormat","format","validator","resolveRefs","urlHistory","CIRCULAR_REFERENCE","urls","join","getSchema","url","baseUrl","fragment","pointerPath","decodeURIComponent","component","searchSchemas","id","testUrl","isTrustedUrl","uri","getDocumentUri","addSchema","normSchema","getSchemaMap","map","getSchemaUris","filterRegExp","test","getMissingUris","dropSchemas","reset","validateAll","dataPathParts","schemaPathParts","dataPointerPath","topLevel","frozenIndex","startErrorCount","scannedFrozenSchemaIndex","scannedSchemasIndex","schemaIndex","frozenSchemaIndex","configurable","errorCount","validateBasic","validateNumeric","validateString","validateArray","validateObject","validateCombinations","validateHypermedia","validateFormat","validateDefinedKeywords","dataPart","schemaPart","errorMessage","FORMAT_CUSTOM","validationFunctions","func","KEYWORD_CUSTOM","validateType","validateEnum","dataType","allowedTypes","INVALID_TYPE","expected","ENUM_MISMATCH","JSON","stringify","validateMultipleOf","validateMinMax","validateNaN","CLOSE_ENOUGH_LOW","pow","CLOSE_ENOUGH_HIGH","parseURI","match","href","protocol","authority","host","hostname","port","pathname","search","hash","resolveUrl","base","input","lastIndexOf","output","p","baseUri","language","errorMessages","languages","messageTemplate","ErrorMessagesDefault","params","whole","subValue","multipleOf","divisibleBy","NUMBER_MULTIPLE_OF","minimum","NUMBER_MINIMUM","exclusiveMinimum","NUMBER_MINIMUM_EXCLUSIVE","maximum","NUMBER_MAXIMUM","exclusiveMaximum","NUMBER_MAXIMUM_EXCLUSIVE","NUMBER_NOT_A_NUMBER","validateStringLength","validateStringPattern","minLength","STRING_LENGTH_SHORT","maxLength","STRING_LENGTH_LONG","pattern","RegExp","regexp","body","flags","literal","STRING_PATTERN","validateArrayLength","validateArrayUniqueItems","validateArrayItems","minItems","ARRAY_LENGTH_SHORT","maxItems","ARRAY_LENGTH_LONG","uniqueItems","ARRAY_UNIQUE","match1","match2","items","additionalItems","ARRAY_ADDITIONAL_ITEMS","validateObjectMinMaxProperties","validateObjectRequiredProperties","validateObjectProperties","validateObjectDependencies","minProperties","OBJECT_PROPERTIES_MINIMUM","propertyCount","maxProperties","OBJECT_PROPERTIES_MAXIMUM","required","OBJECT_REQUIRED","keyPointerPath","foundMatch","properties","patternProperties","patternKey","additionalProperties","OBJECT_ADDITIONAL_PROPERTIES","dependencies","depKey","dep","OBJECT_DEPENDENCY_KEY","requiredKey","validateAllOf","validateAnyOf","validateOneOf","validateNot","allOf","subSchema","anyOf","oldUnknownPropertyPaths","oldKnownPropertyPaths","errorAtEnd","knownKey","unknownKey","ANY_OF_MISSING","oneOf","validIndex","ONE_OF_MULTIPLE","index1","index2","ONE_OF_MISSING","not","oldErrorCount","notErrors","NOT_PASSED","links","ldo","rel","allPresent","ErrorCodeLookup","stack","stacktrace","constructor","dataPrefix","schemaPrefix","tv4","createApi","currentLanguage","customErrorReporter","globalContext","api","setErrorReporter","reporter","addLanguage","messageMap","rootCode","freshApi","validate","def","valid","validateResult","validateMultiple","defineError","codeName","codeNumber","defaultMessage","langCode","errorCodes","options","buf","offset","rnds","rng","entry","a","from","setMeta","r","callback","graph","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","Arr","_byteLength","curByte","revLookup","charCodeAt","fromByteArray","uint8","extraBytes","len2","encodeChunk","lookup","Uint8Array","start","end","num","read","buffer","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","d","s","NaN","write","c","rt","log","LN2","peg$SyntaxError","found","location","captureStackTrace","child","ctor","peg$subclass","SyntaxError","parse","peg$result","nodes","parser","peg$FAILED","peg$startRuleFunctions","peg$parsestart","peg$startRuleFunction","peg$c0","getResult","peg$c1","peg$c2","description","peg$c3","peg$c4","peg$c5","peg$c6","peg$c7","node","pub","registerInports","peg$c8","peg$c9","peg$c10","registerOutports","peg$c11","peg$c12","peg$c13","defaultInPort","peg$c14","peg$c15","peg$c16","defaultOutPort","peg$c17","annotation","registerAnnotation","peg$c18","edges","registerEdges","peg$c19","peg$c20","peg$c21","peg$c22","peg$c23","peg$c24","peg$c25","peg$c26","peg$c27","x","y","peg$c28","proc","makeInPort","makeOutPort","peg$c29","peg$c30","peg$c31","peg$c32","peg$c33","iip","peg$c34","peg$c35","peg$c36","peg$c37","peg$c38","peg$c39","peg$c40","makeName","peg$c41","comp","addNode","peg$c42","addAnonymousNode","peg$c43","peg$c44","peg$c45","peg$c46","peg$c47","peg$c48","peg$c49","meta","peg$c50","peg$c51","peg$c52","peg$c53","peg$c54","peg$c55","peg$c56","peg$c57","peg$c58","peg$c59","peg$c60","portname","portindex","caseSensitive","toLowerCase","peg$c61","peg$c62","peg$c63","peg$c64","peg$c65","peg$c66","peg$c67","peg$c68","peg$c69","peg$c70","peg$c71","peg$c72","peg$c73","peg$c74","peg$c75","peg$c76","peg$c77","peg$c78","peg$c79","peg$c80","peg$c81","peg$c82","peg$c83","peg$c84","peg$c85","peg$c86","peg$c87","peg$c88","peg$c89","peg$c90","peg$c91","peg$c92","peg$c93","peg$c94","peg$c95","peg$c96","peg$c97","peg$c98","peg$c99","peg$c100","head","peg$c101","tail","peg$c102","members","peg$c103","peg$c104","v","peg$c105","peg$c106","values","peg$c107","peg$c108","parseFloat","text","peg$c109","peg$c110","peg$c111","peg$c112","peg$c113","peg$c114","peg$c115","peg$c116","peg$c117","peg$c118","peg$c119","peg$c120","chars","peg$c121","peg$c122","peg$c123","peg$c124","peg$c125","peg$c126","peg$c127","peg$c128","peg$c129","peg$c130","peg$c131","peg$c132","peg$c133","peg$c134","peg$c135","peg$c136","peg$c137","peg$c138","peg$c139","peg$c140","peg$c141","peg$c142","peg$c143","peg$c144","digits","fromCharCode","peg$c145","sequence","peg$c146","peg$c147","peg$c148","peg$c149","peg$currPos","peg$savedPos","peg$posDetailsCache","line","column","seenCR","peg$maxFailPos","peg$maxFailExpected","peg$silentFails","startRule","peg$computeLocation","peg$computePosDetails","pos","ch","details","startPos","endPos","startPosDetails","endPosDetails","peg$fail","peg$buildException","sort","b","splice","cleanupExpected","expectedDescs","hex","toUpperCase","stringEscape","buildMessage","s0","s1","s2","peg$parseline","s3","s4","s5","s6","s7","s9","peg$parse_","substr","peg$parsenode","peg$parseportName","peg$parseLineTerminator","peg$parseannotation","peg$parsenewline","peg$parsecomment","peg$parseconnection","peg$parseanychar","peg$parsesource","peg$parsedestination","peg$parsebridge","peg$parseoutport","peg$parseiip","peg$parseinport","peg$parseport__","peg$parse__port","peg$parsenodeWithComponent","peg$parseiipchar","peg$parseJSON_text","peg$parsenodeNameAndComponent","peg$parsenodeName","peg$parsenodeComponent","peg$parsecomponent","peg$parsecompMeta","peg$parse__","peg$parseport","peg$parseportIndex","peg$parsews","peg$parsevalue","peg$parsebegin_array","peg$parsebegin_object","peg$parseend_array","peg$parseend_object","peg$parsename_separator","peg$parsevalue_separator","peg$parsefalse","peg$parsenull","peg$parsetrue","peg$parseobject","peg$parsearray","peg$parsenumber","peg$parsestring","peg$parsemember","peg$parseminus","peg$parseint","peg$parsefrac","peg$parseexp","peg$parsedecimal_point","peg$parsedigit1_9","peg$parsee","peg$parseplus","peg$parseDIGIT","peg$parsezero","peg$parsequotation_mark","peg$parsechar","s8","peg$parseunescaped","peg$parseescape","peg$parseHEXDIG","inports","outports","groups","validateContents","processes","forEach","portDef","process","connections","edge","tgt","src","nodeName","metadata","item","anonymousIndexes","anonymousNodeNames","componentName","processEdges","validateSchema","validation","flatten","array","isShallow","makePort","defaultPort","environment","flats","grouped","l","conn","getInOutName","getName","inPort","namedComponents","outPort","ref","ref1","ref2","srcName","srcPort","srcProcess","tgtName","tgtPort","tgtProcess","label","propval","normalizeArray","allowAboveRoot","up","last","filter","xs","f","res","resolvedPath","resolvedAbsolute","cwd","normalize","isAbsolute","trailingSlash","paths","relative","to","trim","fromParts","toParts","min","samePartsLength","outputParts","sep","delimiter","dirname","hasRoot","matchedSlash","basename","ext","extname","startDot","startPart","preDotState","str","g","window","_instanceof","nativeMap","nativeSet","nativePromise","Map","_","Set","clone","circular","depth","includeNonEnumerable","allParents","allChildren","useBuffer","Buffer","_clone","proto","then","__isArray","__isRegExp","source","__getRegExpFlags","lastIndex","__isDate","Date","getTime","isBuffer","allocUnsafe","keyChild","valueChild","entryChild","add","attrs","getOwnPropertyDescriptor","symbols","symbol","descriptor","allPropertyNames","propertyName","__objToStr","re","global","ignoreCase","multiline","clonePrototype","base64","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","__proto__","encodingOrOffset","ArrayBuffer","byteOffset","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","fromString","checked","val","fromObject","assertSize","size","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","Symbol","species","allocUnsafeSlow","_isBuffer","compare","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","out","toHex","bytes","checkOffset","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","leadSurrogate","stringtrim","base64clean","dst","Graph_1","byteToHex","uuid","serialize","propIsEnumerable","toObject","assign","test1","test2","test3","letter","shouldUseNative","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","env","argv","version","versions","binding","chdir","umask","getRandomValues","rnds8","crypto","msCrypto"],"mappings":"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","file":"vendors~backend~ui.1db44c59d661b2ad1df9.min.js","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","/*\r\nAuthor: Geraint Luff and others\r\nYear: 2013\r\n\r\nThis code is released into the \"public domain\" by its author(s).  Anybody may use, alter and distribute the code without restriction.  The author makes no guarantees, and takes no liability of any kind for use of this code.\r\n\r\nIf you find a bug or make an improvement, it would be courteous to let the author know, but it is not compulsory.\r\n*/\r\n(function (global, factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n    // AMD. Register as an anonymous module.\r\n    define([], factory);\r\n  } else if (typeof module !== 'undefined' && module.exports){\r\n    // CommonJS. Define export.\r\n    module.exports = factory();\r\n  } else {\r\n    // Browser globals\r\n    global.tv4 = factory();\r\n  }\r\n}(this, function () {\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FObject%2Fkeys\r\nif (!Object.keys) {\r\n\tObject.keys = (function () {\r\n\t\tvar hasOwnProperty = Object.prototype.hasOwnProperty,\r\n\t\t\thasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),\r\n\t\t\tdontEnums = [\r\n\t\t\t\t'toString',\r\n\t\t\t\t'toLocaleString',\r\n\t\t\t\t'valueOf',\r\n\t\t\t\t'hasOwnProperty',\r\n\t\t\t\t'isPrototypeOf',\r\n\t\t\t\t'propertyIsEnumerable',\r\n\t\t\t\t'constructor'\r\n\t\t\t],\r\n\t\t\tdontEnumsLength = dontEnums.length;\r\n\r\n\t\treturn function (obj) {\r\n\t\t\tif (typeof obj !== 'object' && typeof obj !== 'function' || obj === null) {\r\n\t\t\t\tthrow new TypeError('Object.keys called on non-object');\r\n\t\t\t}\r\n\r\n\t\t\tvar result = [];\r\n\r\n\t\t\tfor (var prop in obj) {\r\n\t\t\t\tif (hasOwnProperty.call(obj, prop)) {\r\n\t\t\t\t\tresult.push(prop);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (hasDontEnumBug) {\r\n\t\t\t\tfor (var i=0; i < dontEnumsLength; i++) {\r\n\t\t\t\t\tif (hasOwnProperty.call(obj, dontEnums[i])) {\r\n\t\t\t\t\t\tresult.push(dontEnums[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t};\r\n\t})();\r\n}\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\r\nif (!Object.create) {\r\n\tObject.create = (function(){\r\n\t\tfunction F(){}\r\n\r\n\t\treturn function(o){\r\n\t\t\tif (arguments.length !== 1) {\r\n\t\t\t\tthrow new Error('Object.create implementation only accepts one parameter.');\r\n\t\t\t}\r\n\t\t\tF.prototype = o;\r\n\t\t\treturn new F();\r\n\t\t};\r\n\t})();\r\n}\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FisArray\r\nif(!Array.isArray) {\r\n\tArray.isArray = function (vArg) {\r\n\t\treturn Object.prototype.toString.call(vArg) === \"[object Array]\";\r\n\t};\r\n}\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FindexOf\r\nif (!Array.prototype.indexOf) {\r\n\tArray.prototype.indexOf = function (searchElement /*, fromIndex */ ) {\r\n\t\tif (this === null) {\r\n\t\t\tthrow new TypeError();\r\n\t\t}\r\n\t\tvar t = Object(this);\r\n\t\tvar len = t.length >>> 0;\r\n\r\n\t\tif (len === 0) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\tvar n = 0;\r\n\t\tif (arguments.length > 1) {\r\n\t\t\tn = Number(arguments[1]);\r\n\t\t\tif (n !== n) { // shortcut for verifying if it's NaN\r\n\t\t\t\tn = 0;\r\n\t\t\t} else if (n !== 0 && n !== Infinity && n !== -Infinity) {\r\n\t\t\t\tn = (n > 0 || -1) * Math.floor(Math.abs(n));\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (n >= len) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\tvar k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);\r\n\t\tfor (; k < len; k++) {\r\n\t\t\tif (k in t && t[k] === searchElement) {\r\n\t\t\t\treturn k;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t};\r\n}\r\n\r\n// Grungey Object.isFrozen hack\r\nif (!Object.isFrozen) {\r\n\tObject.isFrozen = function (obj) {\r\n\t\tvar key = \"tv4_test_frozen_key\";\r\n\t\twhile (obj.hasOwnProperty(key)) {\r\n\t\t\tkey += Math.random();\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tobj[key] = true;\r\n\t\t\tdelete obj[key];\r\n\t\t\treturn false;\r\n\t\t} catch (e) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t};\r\n}\r\n// Based on: https://github.com/geraintluff/uri-templates, but with all the de-substitution stuff removed\r\n\r\nvar uriTemplateGlobalModifiers = {\r\n\t\"+\": true,\r\n\t\"#\": true,\r\n\t\".\": true,\r\n\t\"/\": true,\r\n\t\";\": true,\r\n\t\"?\": true,\r\n\t\"&\": true\r\n};\r\nvar uriTemplateSuffices = {\r\n\t\"*\": true\r\n};\r\n\r\nfunction notReallyPercentEncode(string) {\r\n\treturn encodeURI(string).replace(/%25[0-9][0-9]/g, function (doubleEncoded) {\r\n\t\treturn \"%\" + doubleEncoded.substring(3);\r\n\t});\r\n}\r\n\r\nfunction uriTemplateSubstitution(spec) {\r\n\tvar modifier = \"\";\r\n\tif (uriTemplateGlobalModifiers[spec.charAt(0)]) {\r\n\t\tmodifier = spec.charAt(0);\r\n\t\tspec = spec.substring(1);\r\n\t}\r\n\tvar separator = \"\";\r\n\tvar prefix = \"\";\r\n\tvar shouldEscape = true;\r\n\tvar showVariables = false;\r\n\tvar trimEmptyString = false;\r\n\tif (modifier === '+') {\r\n\t\tshouldEscape = false;\r\n\t} else if (modifier === \".\") {\r\n\t\tprefix = \".\";\r\n\t\tseparator = \".\";\r\n\t} else if (modifier === \"/\") {\r\n\t\tprefix = \"/\";\r\n\t\tseparator = \"/\";\r\n\t} else if (modifier === '#') {\r\n\t\tprefix = \"#\";\r\n\t\tshouldEscape = false;\r\n\t} else if (modifier === ';') {\r\n\t\tprefix = \";\";\r\n\t\tseparator = \";\";\r\n\t\tshowVariables = true;\r\n\t\ttrimEmptyString = true;\r\n\t} else if (modifier === '?') {\r\n\t\tprefix = \"?\";\r\n\t\tseparator = \"&\";\r\n\t\tshowVariables = true;\r\n\t} else if (modifier === '&') {\r\n\t\tprefix = \"&\";\r\n\t\tseparator = \"&\";\r\n\t\tshowVariables = true;\r\n\t}\r\n\r\n\tvar varNames = [];\r\n\tvar varList = spec.split(\",\");\r\n\tvar varSpecs = [];\r\n\tvar varSpecMap = {};\r\n\tfor (var i = 0; i < varList.length; i++) {\r\n\t\tvar varName = varList[i];\r\n\t\tvar truncate = null;\r\n\t\tif (varName.indexOf(\":\") !== -1) {\r\n\t\t\tvar parts = varName.split(\":\");\r\n\t\t\tvarName = parts[0];\r\n\t\t\ttruncate = parseInt(parts[1], 10);\r\n\t\t}\r\n\t\tvar suffices = {};\r\n\t\twhile (uriTemplateSuffices[varName.charAt(varName.length - 1)]) {\r\n\t\t\tsuffices[varName.charAt(varName.length - 1)] = true;\r\n\t\t\tvarName = varName.substring(0, varName.length - 1);\r\n\t\t}\r\n\t\tvar varSpec = {\r\n\t\t\ttruncate: truncate,\r\n\t\t\tname: varName,\r\n\t\t\tsuffices: suffices\r\n\t\t};\r\n\t\tvarSpecs.push(varSpec);\r\n\t\tvarSpecMap[varName] = varSpec;\r\n\t\tvarNames.push(varName);\r\n\t}\r\n\tvar subFunction = function (valueFunction) {\r\n\t\tvar result = \"\";\r\n\t\tvar startIndex = 0;\r\n\t\tfor (var i = 0; i < varSpecs.length; i++) {\r\n\t\t\tvar varSpec = varSpecs[i];\r\n\t\t\tvar value = valueFunction(varSpec.name);\r\n\t\t\tif (value === null || value === undefined || (Array.isArray(value) && value.length === 0) || (typeof value === 'object' && Object.keys(value).length === 0)) {\r\n\t\t\t\tstartIndex++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (i === startIndex) {\r\n\t\t\t\tresult += prefix;\r\n\t\t\t} else {\r\n\t\t\t\tresult += (separator || \",\");\r\n\t\t\t}\r\n\t\t\tif (Array.isArray(value)) {\r\n\t\t\t\tif (showVariables) {\r\n\t\t\t\t\tresult += varSpec.name + \"=\";\r\n\t\t\t\t}\r\n\t\t\t\tfor (var j = 0; j < value.length; j++) {\r\n\t\t\t\t\tif (j > 0) {\r\n\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\r\n\t\t\t\t\t\tif (varSpec.suffices['*'] && showVariables) {\r\n\t\t\t\t\t\t\tresult += varSpec.name + \"=\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[j]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[j]);\r\n\t\t\t\t}\r\n\t\t\t} else if (typeof value === \"object\") {\r\n\t\t\t\tif (showVariables && !varSpec.suffices['*']) {\r\n\t\t\t\t\tresult += varSpec.name + \"=\";\r\n\t\t\t\t}\r\n\t\t\t\tvar first = true;\r\n\t\t\t\tfor (var key in value) {\r\n\t\t\t\t\tif (!first) {\r\n\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfirst = false;\r\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(key).replace(/!/g, \"%21\") : notReallyPercentEncode(key);\r\n\t\t\t\t\tresult += varSpec.suffices['*'] ? '=' : \",\";\r\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[key]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[key]);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (showVariables) {\r\n\t\t\t\t\tresult += varSpec.name;\r\n\t\t\t\t\tif (!trimEmptyString || value !== \"\") {\r\n\t\t\t\t\t\tresult += \"=\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (varSpec.truncate != null) {\r\n\t\t\t\t\tvalue = value.substring(0, varSpec.truncate);\r\n\t\t\t\t}\r\n\t\t\t\tresult += shouldEscape ? encodeURIComponent(value).replace(/!/g, \"%21\"): notReallyPercentEncode(value);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tsubFunction.varNames = varNames;\r\n\treturn {\r\n\t\tprefix: prefix,\r\n\t\tsubstitution: subFunction\r\n\t};\r\n}\r\n\r\nfunction UriTemplate(template) {\r\n\tif (!(this instanceof UriTemplate)) {\r\n\t\treturn new UriTemplate(template);\r\n\t}\r\n\tvar parts = template.split(\"{\");\r\n\tvar textParts = [parts.shift()];\r\n\tvar prefixes = [];\r\n\tvar substitutions = [];\r\n\tvar varNames = [];\r\n\twhile (parts.length > 0) {\r\n\t\tvar part = parts.shift();\r\n\t\tvar spec = part.split(\"}\")[0];\r\n\t\tvar remainder = part.substring(spec.length + 1);\r\n\t\tvar funcs = uriTemplateSubstitution(spec);\r\n\t\tsubstitutions.push(funcs.substitution);\r\n\t\tprefixes.push(funcs.prefix);\r\n\t\ttextParts.push(remainder);\r\n\t\tvarNames = varNames.concat(funcs.substitution.varNames);\r\n\t}\r\n\tthis.fill = function (valueFunction) {\r\n\t\tvar result = textParts[0];\r\n\t\tfor (var i = 0; i < substitutions.length; i++) {\r\n\t\t\tvar substitution = substitutions[i];\r\n\t\t\tresult += substitution(valueFunction);\r\n\t\t\tresult += textParts[i + 1];\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tthis.varNames = varNames;\r\n\tthis.template = template;\r\n}\r\nUriTemplate.prototype = {\r\n\ttoString: function () {\r\n\t\treturn this.template;\r\n\t},\r\n\tfillFromObject: function (obj) {\r\n\t\treturn this.fill(function (varName) {\r\n\t\t\treturn obj[varName];\r\n\t\t});\r\n\t}\r\n};\r\nvar ValidatorContext = function ValidatorContext(parent, collectMultiple, errorReporter, checkRecursive, trackUnknownProperties) {\r\n\tthis.missing = [];\r\n\tthis.missingMap = {};\r\n\tthis.formatValidators = parent ? Object.create(parent.formatValidators) : {};\r\n\tthis.schemas = parent ? Object.create(parent.schemas) : {};\r\n\tthis.collectMultiple = collectMultiple;\r\n\tthis.errors = [];\r\n\tthis.handleError = collectMultiple ? this.collectError : this.returnError;\r\n\tif (checkRecursive) {\r\n\t\tthis.checkRecursive = true;\r\n\t\tthis.scanned = [];\r\n\t\tthis.scannedFrozen = [];\r\n\t\tthis.scannedFrozenSchemas = [];\r\n\t\tthis.scannedFrozenValidationErrors = [];\r\n\t\tthis.validatedSchemasKey = 'tv4_validation_id';\r\n\t\tthis.validationErrorsKey = 'tv4_validation_errors_id';\r\n\t}\r\n\tif (trackUnknownProperties) {\r\n\t\tthis.trackUnknownProperties = true;\r\n\t\tthis.knownPropertyPaths = {};\r\n\t\tthis.unknownPropertyPaths = {};\r\n\t}\r\n\tthis.errorReporter = errorReporter || defaultErrorReporter('en');\r\n\tif (typeof this.errorReporter === 'string') {\r\n\t\tthrow new Error('debug');\r\n\t}\r\n\tthis.definedKeywords = {};\r\n\tif (parent) {\r\n\t\tfor (var key in parent.definedKeywords) {\r\n\t\t\tthis.definedKeywords[key] = parent.definedKeywords[key].slice(0);\r\n\t\t}\r\n\t}\r\n};\r\nValidatorContext.prototype.defineKeyword = function (keyword, keywordFunction) {\r\n\tthis.definedKeywords[keyword] = this.definedKeywords[keyword] || [];\r\n\tthis.definedKeywords[keyword].push(keywordFunction);\r\n};\r\nValidatorContext.prototype.createError = function (code, messageParams, dataPath, schemaPath, subErrors, data, schema) {\r\n\tvar error = new ValidationError(code, messageParams, dataPath, schemaPath, subErrors);\r\n\terror.message = this.errorReporter(error, data, schema);\r\n\treturn error;\r\n};\r\nValidatorContext.prototype.returnError = function (error) {\r\n\treturn error;\r\n};\r\nValidatorContext.prototype.collectError = function (error) {\r\n\tif (error) {\r\n\t\tthis.errors.push(error);\r\n\t}\r\n\treturn null;\r\n};\r\nValidatorContext.prototype.prefixErrors = function (startIndex, dataPath, schemaPath) {\r\n\tfor (var i = startIndex; i < this.errors.length; i++) {\r\n\t\tthis.errors[i] = this.errors[i].prefixWith(dataPath, schemaPath);\r\n\t}\r\n\treturn this;\r\n};\r\nValidatorContext.prototype.banUnknownProperties = function (data, schema) {\r\n\tfor (var unknownPath in this.unknownPropertyPaths) {\r\n\t\tvar error = this.createError(ErrorCodes.UNKNOWN_PROPERTY, {path: unknownPath}, unknownPath, \"\", null, data, schema);\r\n\t\tvar result = this.handleError(error);\r\n\t\tif (result) {\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.addFormat = function (format, validator) {\r\n\tif (typeof format === 'object') {\r\n\t\tfor (var key in format) {\r\n\t\t\tthis.addFormat(key, format[key]);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\tthis.formatValidators[format] = validator;\r\n};\r\nValidatorContext.prototype.resolveRefs = function (schema, urlHistory) {\r\n\tif (schema['$ref'] !== undefined) {\r\n\t\turlHistory = urlHistory || {};\r\n\t\tif (urlHistory[schema['$ref']]) {\r\n\t\t\treturn this.createError(ErrorCodes.CIRCULAR_REFERENCE, {urls: Object.keys(urlHistory).join(', ')}, '', '', null, undefined, schema);\r\n\t\t}\r\n\t\turlHistory[schema['$ref']] = true;\r\n\t\tschema = this.getSchema(schema['$ref'], urlHistory);\r\n\t}\r\n\treturn schema;\r\n};\r\nValidatorContext.prototype.getSchema = function (url, urlHistory) {\r\n\tvar schema;\r\n\tif (this.schemas[url] !== undefined) {\r\n\t\tschema = this.schemas[url];\r\n\t\treturn this.resolveRefs(schema, urlHistory);\r\n\t}\r\n\tvar baseUrl = url;\r\n\tvar fragment = \"\";\r\n\tif (url.indexOf('#') !== -1) {\r\n\t\tfragment = url.substring(url.indexOf(\"#\") + 1);\r\n\t\tbaseUrl = url.substring(0, url.indexOf(\"#\"));\r\n\t}\r\n\tif (typeof this.schemas[baseUrl] === 'object') {\r\n\t\tschema = this.schemas[baseUrl];\r\n\t\tvar pointerPath = decodeURIComponent(fragment);\r\n\t\tif (pointerPath === \"\") {\r\n\t\t\treturn this.resolveRefs(schema, urlHistory);\r\n\t\t} else if (pointerPath.charAt(0) !== \"/\") {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\tvar parts = pointerPath.split(\"/\").slice(1);\r\n\t\tfor (var i = 0; i < parts.length; i++) {\r\n\t\t\tvar component = parts[i].replace(/~1/g, \"/\").replace(/~0/g, \"~\");\r\n\t\t\tif (schema[component] === undefined) {\r\n\t\t\t\tschema = undefined;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tschema = schema[component];\r\n\t\t}\r\n\t\tif (schema !== undefined) {\r\n\t\t\treturn this.resolveRefs(schema, urlHistory);\r\n\t\t}\r\n\t}\r\n\tif (this.missing[baseUrl] === undefined) {\r\n\t\tthis.missing.push(baseUrl);\r\n\t\tthis.missing[baseUrl] = baseUrl;\r\n\t\tthis.missingMap[baseUrl] = baseUrl;\r\n\t}\r\n};\r\nValidatorContext.prototype.searchSchemas = function (schema, url) {\r\n\tif (Array.isArray(schema)) {\r\n\t\tfor (var i = 0; i < schema.length; i++) {\r\n\t\t\tthis.searchSchemas(schema[i], url);\r\n\t\t}\r\n\t} else if (schema && typeof schema === \"object\") {\r\n\t\tif (typeof schema.id === \"string\") {\r\n\t\t\tif (isTrustedUrl(url, schema.id)) {\r\n\t\t\t\tif (this.schemas[schema.id] === undefined) {\r\n\t\t\t\t\tthis.schemas[schema.id] = schema;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (var key in schema) {\r\n\t\t\tif (key !== \"enum\") {\r\n\t\t\t\tif (typeof schema[key] === \"object\") {\r\n\t\t\t\t\tthis.searchSchemas(schema[key], url);\r\n\t\t\t\t} else if (key === \"$ref\") {\r\n\t\t\t\t\tvar uri = getDocumentUri(schema[key]);\r\n\t\t\t\t\tif (uri && this.schemas[uri] === undefined && this.missingMap[uri] === undefined) {\r\n\t\t\t\t\t\tthis.missingMap[uri] = uri;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\nValidatorContext.prototype.addSchema = function (url, schema) {\r\n\t//overload\r\n\tif (typeof url !== 'string' || typeof schema === 'undefined') {\r\n\t\tif (typeof url === 'object' && typeof url.id === 'string') {\r\n\t\t\tschema = url;\r\n\t\t\turl = schema.id;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\tif (url === getDocumentUri(url) + \"#\") {\r\n\t\t// Remove empty fragment\r\n\t\turl = getDocumentUri(url);\r\n\t}\r\n\tthis.schemas[url] = schema;\r\n\tdelete this.missingMap[url];\r\n\tnormSchema(schema, url);\r\n\tthis.searchSchemas(schema, url);\r\n};\r\n\r\nValidatorContext.prototype.getSchemaMap = function () {\r\n\tvar map = {};\r\n\tfor (var key in this.schemas) {\r\n\t\tmap[key] = this.schemas[key];\r\n\t}\r\n\treturn map;\r\n};\r\n\r\nValidatorContext.prototype.getSchemaUris = function (filterRegExp) {\r\n\tvar list = [];\r\n\tfor (var key in this.schemas) {\r\n\t\tif (!filterRegExp || filterRegExp.test(key)) {\r\n\t\t\tlist.push(key);\r\n\t\t}\r\n\t}\r\n\treturn list;\r\n};\r\n\r\nValidatorContext.prototype.getMissingUris = function (filterRegExp) {\r\n\tvar list = [];\r\n\tfor (var key in this.missingMap) {\r\n\t\tif (!filterRegExp || filterRegExp.test(key)) {\r\n\t\t\tlist.push(key);\r\n\t\t}\r\n\t}\r\n\treturn list;\r\n};\r\n\r\nValidatorContext.prototype.dropSchemas = function () {\r\n\tthis.schemas = {};\r\n\tthis.reset();\r\n};\r\nValidatorContext.prototype.reset = function () {\r\n\tthis.missing = [];\r\n\tthis.missingMap = {};\r\n\tthis.errors = [];\r\n};\r\n\r\nValidatorContext.prototype.validateAll = function (data, schema, dataPathParts, schemaPathParts, dataPointerPath) {\r\n\tvar topLevel;\r\n\tschema = this.resolveRefs(schema);\r\n\tif (!schema) {\r\n\t\treturn null;\r\n\t} else if (schema instanceof ValidationError) {\r\n\t\tthis.errors.push(schema);\r\n\t\treturn schema;\r\n\t}\r\n\r\n\tvar startErrorCount = this.errors.length;\r\n\tvar frozenIndex, scannedFrozenSchemaIndex = null, scannedSchemasIndex = null;\r\n\tif (this.checkRecursive && data && typeof data === 'object') {\r\n\t\ttopLevel = !this.scanned.length;\r\n\t\tif (data[this.validatedSchemasKey]) {\r\n\t\t\tvar schemaIndex = data[this.validatedSchemasKey].indexOf(schema);\r\n\t\t\tif (schemaIndex !== -1) {\r\n\t\t\t\tthis.errors = this.errors.concat(data[this.validationErrorsKey][schemaIndex]);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (Object.isFrozen(data)) {\r\n\t\t\tfrozenIndex = this.scannedFrozen.indexOf(data);\r\n\t\t\tif (frozenIndex !== -1) {\r\n\t\t\t\tvar frozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].indexOf(schema);\r\n\t\t\t\tif (frozenSchemaIndex !== -1) {\r\n\t\t\t\t\tthis.errors = this.errors.concat(this.scannedFrozenValidationErrors[frozenIndex][frozenSchemaIndex]);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.scanned.push(data);\r\n\t\tif (Object.isFrozen(data)) {\r\n\t\t\tif (frozenIndex === -1) {\r\n\t\t\t\tfrozenIndex = this.scannedFrozen.length;\r\n\t\t\t\tthis.scannedFrozen.push(data);\r\n\t\t\t\tthis.scannedFrozenSchemas.push([]);\r\n\t\t\t}\r\n\t\t\tscannedFrozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].length;\r\n\t\t\tthis.scannedFrozenSchemas[frozenIndex][scannedFrozenSchemaIndex] = schema;\r\n\t\t\tthis.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = [];\r\n\t\t} else {\r\n\t\t\tif (!data[this.validatedSchemasKey]) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tObject.defineProperty(data, this.validatedSchemasKey, {\r\n\t\t\t\t\t\tvalue: [],\r\n\t\t\t\t\t\tconfigurable: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tObject.defineProperty(data, this.validationErrorsKey, {\r\n\t\t\t\t\t\tvalue: [],\r\n\t\t\t\t\t\tconfigurable: true\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t//IE 7/8 workaround\r\n\t\t\t\t\tdata[this.validatedSchemasKey] = [];\r\n\t\t\t\t\tdata[this.validationErrorsKey] = [];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tscannedSchemasIndex = data[this.validatedSchemasKey].length;\r\n\t\t\tdata[this.validatedSchemasKey][scannedSchemasIndex] = schema;\r\n\t\t\tdata[this.validationErrorsKey][scannedSchemasIndex] = [];\r\n\t\t}\r\n\t}\r\n\r\n\tvar errorCount = this.errors.length;\r\n\tvar error = this.validateBasic(data, schema, dataPointerPath)\r\n\t\t|| this.validateNumeric(data, schema, dataPointerPath)\r\n\t\t|| this.validateString(data, schema, dataPointerPath)\r\n\t\t|| this.validateArray(data, schema, dataPointerPath)\r\n\t\t|| this.validateObject(data, schema, dataPointerPath)\r\n\t\t|| this.validateCombinations(data, schema, dataPointerPath)\r\n\t\t|| this.validateHypermedia(data, schema, dataPointerPath)\r\n\t\t|| this.validateFormat(data, schema, dataPointerPath)\r\n\t\t|| this.validateDefinedKeywords(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n\r\n\tif (topLevel) {\r\n\t\twhile (this.scanned.length) {\r\n\t\t\tvar item = this.scanned.pop();\r\n\t\t\tdelete item[this.validatedSchemasKey];\r\n\t\t}\r\n\t\tthis.scannedFrozen = [];\r\n\t\tthis.scannedFrozenSchemas = [];\r\n\t}\r\n\r\n\tif (error || errorCount !== this.errors.length) {\r\n\t\twhile ((dataPathParts && dataPathParts.length) || (schemaPathParts && schemaPathParts.length)) {\r\n\t\t\tvar dataPart = (dataPathParts && dataPathParts.length) ? \"\" + dataPathParts.pop() : null;\r\n\t\t\tvar schemaPart = (schemaPathParts && schemaPathParts.length) ? \"\" + schemaPathParts.pop() : null;\r\n\t\t\tif (error) {\r\n\t\t\t\terror = error.prefixWith(dataPart, schemaPart);\r\n\t\t\t}\r\n\t\t\tthis.prefixErrors(errorCount, dataPart, schemaPart);\r\n\t\t}\r\n\t}\r\n\r\n\tif (scannedFrozenSchemaIndex !== null) {\r\n\t\tthis.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = this.errors.slice(startErrorCount);\r\n\t} else if (scannedSchemasIndex !== null) {\r\n\t\tdata[this.validationErrorsKey][scannedSchemasIndex] = this.errors.slice(startErrorCount);\r\n\t}\r\n\r\n\treturn this.handleError(error);\r\n};\r\nValidatorContext.prototype.validateFormat = function (data, schema) {\r\n\tif (typeof schema.format !== 'string' || !this.formatValidators[schema.format]) {\r\n\t\treturn null;\r\n\t}\r\n\tvar errorMessage = this.formatValidators[schema.format].call(null, data, schema);\r\n\tif (typeof errorMessage === 'string' || typeof errorMessage === 'number') {\r\n\t\treturn this.createError(ErrorCodes.FORMAT_CUSTOM, {message: errorMessage}, '', '/format', null, data, schema);\r\n\t} else if (errorMessage && typeof errorMessage === 'object') {\r\n\t\treturn this.createError(ErrorCodes.FORMAT_CUSTOM, {message: errorMessage.message || \"?\"}, errorMessage.dataPath || '', errorMessage.schemaPath || \"/format\", null, data, schema);\r\n\t}\r\n\treturn null;\r\n};\r\nValidatorContext.prototype.validateDefinedKeywords = function (data, schema, dataPointerPath) {\r\n\tfor (var key in this.definedKeywords) {\r\n\t\tif (typeof schema[key] === 'undefined') {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tvar validationFunctions = this.definedKeywords[key];\r\n\t\tfor (var i = 0; i < validationFunctions.length; i++) {\r\n\t\t\tvar func = validationFunctions[i];\r\n\t\t\tvar result = func(data, schema[key], schema, dataPointerPath);\r\n\t\t\tif (typeof result === 'string' || typeof result === 'number') {\r\n\t\t\t\treturn this.createError(ErrorCodes.KEYWORD_CUSTOM, {key: key, message: result}, '', '', null, data, schema).prefixWith(null, key);\r\n\t\t\t} else if (result && typeof result === 'object') {\r\n\t\t\t\tvar code = result.code;\r\n\t\t\t\tif (typeof code === 'string') {\r\n\t\t\t\t\tif (!ErrorCodes[code]) {\r\n\t\t\t\t\t\tthrow new Error('Undefined error code (use defineError): ' + code);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcode = ErrorCodes[code];\r\n\t\t\t\t} else if (typeof code !== 'number') {\r\n\t\t\t\t\tcode = ErrorCodes.KEYWORD_CUSTOM;\r\n\t\t\t\t}\r\n\t\t\t\tvar messageParams = (typeof result.message === 'object') ? result.message : {key: key, message: result.message || \"?\"};\r\n\t\t\t\tvar schemaPath = result.schemaPath || (\"/\" + key.replace(/~/g, '~0').replace(/\\//g, '~1'));\r\n\t\t\t\treturn this.createError(code, messageParams, result.dataPath || null, schemaPath, null, data, schema);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nfunction recursiveCompare(A, B) {\r\n\tif (A === B) {\r\n\t\treturn true;\r\n\t}\r\n\tif (A && B && typeof A === \"object\" && typeof B === \"object\") {\r\n\t\tif (Array.isArray(A) !== Array.isArray(B)) {\r\n\t\t\treturn false;\r\n\t\t} else if (Array.isArray(A)) {\r\n\t\t\tif (A.length !== B.length) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tfor (var i = 0; i < A.length; i++) {\r\n\t\t\t\tif (!recursiveCompare(A[i], B[i])) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar key;\r\n\t\t\tfor (key in A) {\r\n\t\t\t\tif (B[key] === undefined && A[key] !== undefined) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (key in B) {\r\n\t\t\t\tif (A[key] === undefined && B[key] !== undefined) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (key in A) {\r\n\t\t\t\tif (!recursiveCompare(A[key], B[key])) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nValidatorContext.prototype.validateBasic = function validateBasic(data, schema, dataPointerPath) {\r\n\tvar error;\r\n\tif (error = this.validateType(data, schema, dataPointerPath)) {\r\n\t\treturn error.prefixWith(null, \"type\");\r\n\t}\r\n\tif (error = this.validateEnum(data, schema, dataPointerPath)) {\r\n\t\treturn error.prefixWith(null, \"type\");\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateType = function validateType(data, schema) {\r\n\tif (schema.type === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar dataType = typeof data;\r\n\tif (data === null) {\r\n\t\tdataType = \"null\";\r\n\t} else if (Array.isArray(data)) {\r\n\t\tdataType = \"array\";\r\n\t}\r\n\tvar allowedTypes = schema.type;\r\n\tif (!Array.isArray(allowedTypes)) {\r\n\t\tallowedTypes = [allowedTypes];\r\n\t}\r\n\r\n\tfor (var i = 0; i < allowedTypes.length; i++) {\r\n\t\tvar type = allowedTypes[i];\r\n\t\tif (type === dataType || (type === \"integer\" && dataType === \"number\" && (data % 1 === 0))) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\treturn this.createError(ErrorCodes.INVALID_TYPE, {type: dataType, expected: allowedTypes.join(\"/\")}, '', '', null, data, schema);\r\n};\r\n\r\nValidatorContext.prototype.validateEnum = function validateEnum(data, schema) {\r\n\tif (schema[\"enum\"] === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tfor (var i = 0; i < schema[\"enum\"].length; i++) {\r\n\t\tvar enumVal = schema[\"enum\"][i];\r\n\t\tif (recursiveCompare(data, enumVal)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\treturn this.createError(ErrorCodes.ENUM_MISMATCH, {value: (typeof JSON !== 'undefined') ? JSON.stringify(data) : data}, '', '', null, data, schema);\r\n};\r\n\r\nValidatorContext.prototype.validateNumeric = function validateNumeric(data, schema, dataPointerPath) {\r\n\treturn this.validateMultipleOf(data, schema, dataPointerPath)\r\n\t\t|| this.validateMinMax(data, schema, dataPointerPath)\r\n\t\t|| this.validateNaN(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nvar CLOSE_ENOUGH_LOW = Math.pow(2, -51);\r\nvar CLOSE_ENOUGH_HIGH = 1 - CLOSE_ENOUGH_LOW;\r\nValidatorContext.prototype.validateMultipleOf = function validateMultipleOf(data, schema) {\r\n\tvar multipleOf = schema.multipleOf || schema.divisibleBy;\r\n\tif (multipleOf === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tif (typeof data === \"number\") {\r\n\t\tvar remainder = (data/multipleOf)%1;\r\n\t\tif (remainder >= CLOSE_ENOUGH_LOW && remainder < CLOSE_ENOUGH_HIGH) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MULTIPLE_OF, {value: data, multipleOf: multipleOf}, '', '', null, data, schema);\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateMinMax = function validateMinMax(data, schema) {\r\n\tif (typeof data !== \"number\") {\r\n\t\treturn null;\r\n\t}\r\n\tif (schema.minimum !== undefined) {\r\n\t\tif (data < schema.minimum) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MINIMUM, {value: data, minimum: schema.minimum}, '', '/minimum', null, data, schema);\r\n\t\t}\r\n\t\tif (schema.exclusiveMinimum && data === schema.minimum) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MINIMUM_EXCLUSIVE, {value: data, minimum: schema.minimum}, '', '/exclusiveMinimum', null, data, schema);\r\n\t\t}\r\n\t}\r\n\tif (schema.maximum !== undefined) {\r\n\t\tif (data > schema.maximum) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MAXIMUM, {value: data, maximum: schema.maximum}, '', '/maximum', null, data, schema);\r\n\t\t}\r\n\t\tif (schema.exclusiveMaximum && data === schema.maximum) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MAXIMUM_EXCLUSIVE, {value: data, maximum: schema.maximum}, '', '/exclusiveMaximum', null, data, schema);\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateNaN = function validateNaN(data, schema) {\r\n\tif (typeof data !== \"number\") {\r\n\t\treturn null;\r\n\t}\r\n\tif (isNaN(data) === true || data === Infinity || data === -Infinity) {\r\n\t\treturn this.createError(ErrorCodes.NUMBER_NOT_A_NUMBER, {value: data}, '', '/type', null, data, schema);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateString = function validateString(data, schema, dataPointerPath) {\r\n\treturn this.validateStringLength(data, schema, dataPointerPath)\r\n\t\t|| this.validateStringPattern(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nValidatorContext.prototype.validateStringLength = function validateStringLength(data, schema) {\r\n\tif (typeof data !== \"string\") {\r\n\t\treturn null;\r\n\t}\r\n\tif (schema.minLength !== undefined) {\r\n\t\tif (data.length < schema.minLength) {\r\n\t\t\treturn this.createError(ErrorCodes.STRING_LENGTH_SHORT, {length: data.length, minimum: schema.minLength}, '', '/minLength', null, data, schema);\r\n\t\t}\r\n\t}\r\n\tif (schema.maxLength !== undefined) {\r\n\t\tif (data.length > schema.maxLength) {\r\n\t\t\treturn this.createError(ErrorCodes.STRING_LENGTH_LONG, {length: data.length, maximum: schema.maxLength}, '', '/maxLength', null, data, schema);\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateStringPattern = function validateStringPattern(data, schema) {\r\n\tif (typeof data !== \"string\" || (typeof schema.pattern !== \"string\" && !(schema.pattern instanceof RegExp))) {\r\n\t\treturn null;\r\n\t}\r\n\tvar regexp;\r\n\tif (schema.pattern instanceof RegExp) {\r\n\t  regexp = schema.pattern;\r\n\t}\r\n\telse {\r\n\t  var body, flags = '';\r\n\t  // Check for regular expression literals\r\n\t  // @see http://www.ecma-international.org/ecma-262/5.1/#sec-7.8.5\r\n\t  var literal = schema.pattern.match(/^\\/(.+)\\/([img]*)$/);\r\n\t  if (literal) {\r\n\t    body = literal[1];\r\n\t    flags = literal[2];\r\n\t  }\r\n\t  else {\r\n\t    body = schema.pattern;\r\n\t  }\r\n\t  regexp = new RegExp(body, flags);\r\n\t}\r\n\tif (!regexp.test(data)) {\r\n\t\treturn this.createError(ErrorCodes.STRING_PATTERN, {pattern: schema.pattern}, '', '/pattern', null, data, schema);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateArray = function validateArray(data, schema, dataPointerPath) {\r\n\tif (!Array.isArray(data)) {\r\n\t\treturn null;\r\n\t}\r\n\treturn this.validateArrayLength(data, schema, dataPointerPath)\r\n\t\t|| this.validateArrayUniqueItems(data, schema, dataPointerPath)\r\n\t\t|| this.validateArrayItems(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nValidatorContext.prototype.validateArrayLength = function validateArrayLength(data, schema) {\r\n\tvar error;\r\n\tif (schema.minItems !== undefined) {\r\n\t\tif (data.length < schema.minItems) {\r\n\t\t\terror = this.createError(ErrorCodes.ARRAY_LENGTH_SHORT, {length: data.length, minimum: schema.minItems}, '', '/minItems', null, data, schema);\r\n\t\t\tif (this.handleError(error)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (schema.maxItems !== undefined) {\r\n\t\tif (data.length > schema.maxItems) {\r\n\t\t\terror = this.createError(ErrorCodes.ARRAY_LENGTH_LONG, {length: data.length, maximum: schema.maxItems}, '', '/maxItems', null, data, schema);\r\n\t\t\tif (this.handleError(error)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateArrayUniqueItems = function validateArrayUniqueItems(data, schema) {\r\n\tif (schema.uniqueItems) {\r\n\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\tfor (var j = i + 1; j < data.length; j++) {\r\n\t\t\t\tif (recursiveCompare(data[i], data[j])) {\r\n\t\t\t\t\tvar error = this.createError(ErrorCodes.ARRAY_UNIQUE, {match1: i, match2: j}, '', '/uniqueItems', null, data, schema);\r\n\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateArrayItems = function validateArrayItems(data, schema, dataPointerPath) {\r\n\tif (schema.items === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar error, i;\r\n\tif (Array.isArray(schema.items)) {\r\n\t\tfor (i = 0; i < data.length; i++) {\r\n\t\t\tif (i < schema.items.length) {\r\n\t\t\t\tif (error = this.validateAll(data[i], schema.items[i], [i], [\"items\", i], dataPointerPath + \"/\" + i)) {\r\n\t\t\t\t\treturn error;\r\n\t\t\t\t}\r\n\t\t\t} else if (schema.additionalItems !== undefined) {\r\n\t\t\t\tif (typeof schema.additionalItems === \"boolean\") {\r\n\t\t\t\t\tif (!schema.additionalItems) {\r\n\t\t\t\t\t\terror = (this.createError(ErrorCodes.ARRAY_ADDITIONAL_ITEMS, {}, '/' + i, '/additionalItems', null, data, schema));\r\n\t\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (error = this.validateAll(data[i], schema.additionalItems, [i], [\"additionalItems\"], dataPointerPath + \"/\" + i)) {\r\n\t\t\t\t\treturn error;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tfor (i = 0; i < data.length; i++) {\r\n\t\t\tif (error = this.validateAll(data[i], schema.items, [i], [\"items\"], dataPointerPath + \"/\" + i)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateObject = function validateObject(data, schema, dataPointerPath) {\r\n\tif (typeof data !== \"object\" || data === null || Array.isArray(data)) {\r\n\t\treturn null;\r\n\t}\r\n\treturn this.validateObjectMinMaxProperties(data, schema, dataPointerPath)\r\n\t\t|| this.validateObjectRequiredProperties(data, schema, dataPointerPath)\r\n\t\t|| this.validateObjectProperties(data, schema, dataPointerPath)\r\n\t\t|| this.validateObjectDependencies(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nValidatorContext.prototype.validateObjectMinMaxProperties = function validateObjectMinMaxProperties(data, schema) {\r\n\tvar keys = Object.keys(data);\r\n\tvar error;\r\n\tif (schema.minProperties !== undefined) {\r\n\t\tif (keys.length < schema.minProperties) {\r\n\t\t\terror = this.createError(ErrorCodes.OBJECT_PROPERTIES_MINIMUM, {propertyCount: keys.length, minimum: schema.minProperties}, '', '/minProperties', null, data, schema);\r\n\t\t\tif (this.handleError(error)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (schema.maxProperties !== undefined) {\r\n\t\tif (keys.length > schema.maxProperties) {\r\n\t\t\terror = this.createError(ErrorCodes.OBJECT_PROPERTIES_MAXIMUM, {propertyCount: keys.length, maximum: schema.maxProperties}, '', '/maxProperties', null, data, schema);\r\n\t\t\tif (this.handleError(error)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateObjectRequiredProperties = function validateObjectRequiredProperties(data, schema) {\r\n\tif (schema.required !== undefined) {\r\n\t\tfor (var i = 0; i < schema.required.length; i++) {\r\n\t\t\tvar key = schema.required[i];\r\n\t\t\tif (data[key] === undefined) {\r\n\t\t\t\tvar error = this.createError(ErrorCodes.OBJECT_REQUIRED, {key: key}, '', '/required/' + i, null, data, schema);\r\n\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\treturn error;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateObjectProperties = function validateObjectProperties(data, schema, dataPointerPath) {\r\n\tvar error;\r\n\tfor (var key in data) {\r\n\t\tvar keyPointerPath = dataPointerPath + \"/\" + key.replace(/~/g, '~0').replace(/\\//g, '~1');\r\n\t\tvar foundMatch = false;\r\n\t\tif (schema.properties !== undefined && schema.properties[key] !== undefined) {\r\n\t\t\tfoundMatch = true;\r\n\t\t\tif (error = this.validateAll(data[key], schema.properties[key], [key], [\"properties\", key], keyPointerPath)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (schema.patternProperties !== undefined) {\r\n\t\t\tfor (var patternKey in schema.patternProperties) {\r\n\t\t\t\tvar regexp = new RegExp(patternKey);\r\n\t\t\t\tif (regexp.test(key)) {\r\n\t\t\t\t\tfoundMatch = true;\r\n\t\t\t\t\tif (error = this.validateAll(data[key], schema.patternProperties[patternKey], [key], [\"patternProperties\", patternKey], keyPointerPath)) {\r\n\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!foundMatch) {\r\n\t\t\tif (schema.additionalProperties !== undefined) {\r\n\t\t\t\tif (this.trackUnknownProperties) {\r\n\t\t\t\t\tthis.knownPropertyPaths[keyPointerPath] = true;\r\n\t\t\t\t\tdelete this.unknownPropertyPaths[keyPointerPath];\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof schema.additionalProperties === \"boolean\") {\r\n\t\t\t\t\tif (!schema.additionalProperties) {\r\n\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_ADDITIONAL_PROPERTIES, {key: key}, '', '/additionalProperties', null, data, schema).prefixWith(key, null);\r\n\t\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (error = this.validateAll(data[key], schema.additionalProperties, [key], [\"additionalProperties\"], keyPointerPath)) {\r\n\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (this.trackUnknownProperties && !this.knownPropertyPaths[keyPointerPath]) {\r\n\t\t\t\tthis.unknownPropertyPaths[keyPointerPath] = true;\r\n\t\t\t}\r\n\t\t} else if (this.trackUnknownProperties) {\r\n\t\t\tthis.knownPropertyPaths[keyPointerPath] = true;\r\n\t\t\tdelete this.unknownPropertyPaths[keyPointerPath];\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateObjectDependencies = function validateObjectDependencies(data, schema, dataPointerPath) {\r\n\tvar error;\r\n\tif (schema.dependencies !== undefined) {\r\n\t\tfor (var depKey in schema.dependencies) {\r\n\t\t\tif (data[depKey] !== undefined) {\r\n\t\t\t\tvar dep = schema.dependencies[depKey];\r\n\t\t\t\tif (typeof dep === \"string\") {\r\n\t\t\t\t\tif (data[dep] === undefined) {\r\n\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: dep}, '', '', null, data, schema).prefixWith(null, depKey).prefixWith(null, \"dependencies\");\r\n\t\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (Array.isArray(dep)) {\r\n\t\t\t\t\tfor (var i = 0; i < dep.length; i++) {\r\n\t\t\t\t\t\tvar requiredKey = dep[i];\r\n\t\t\t\t\t\tif (data[requiredKey] === undefined) {\r\n\t\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: requiredKey}, '', '/' + i, null, data, schema).prefixWith(null, depKey).prefixWith(null, \"dependencies\");\r\n\t\t\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (error = this.validateAll(data, dep, [], [\"dependencies\", depKey], dataPointerPath)) {\r\n\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateCombinations = function validateCombinations(data, schema, dataPointerPath) {\r\n\treturn this.validateAllOf(data, schema, dataPointerPath)\r\n\t\t|| this.validateAnyOf(data, schema, dataPointerPath)\r\n\t\t|| this.validateOneOf(data, schema, dataPointerPath)\r\n\t\t|| this.validateNot(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nValidatorContext.prototype.validateAllOf = function validateAllOf(data, schema, dataPointerPath) {\r\n\tif (schema.allOf === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar error;\r\n\tfor (var i = 0; i < schema.allOf.length; i++) {\r\n\t\tvar subSchema = schema.allOf[i];\r\n\t\tif (error = this.validateAll(data, subSchema, [], [\"allOf\", i], dataPointerPath)) {\r\n\t\t\treturn error;\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateAnyOf = function validateAnyOf(data, schema, dataPointerPath) {\r\n\tif (schema.anyOf === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar errors = [];\r\n\tvar startErrorCount = this.errors.length;\r\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\r\n\tif (this.trackUnknownProperties) {\r\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\r\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\r\n\t}\r\n\tvar errorAtEnd = true;\r\n\tfor (var i = 0; i < schema.anyOf.length; i++) {\r\n\t\tif (this.trackUnknownProperties) {\r\n\t\t\tthis.unknownPropertyPaths = {};\r\n\t\t\tthis.knownPropertyPaths = {};\r\n\t\t}\r\n\t\tvar subSchema = schema.anyOf[i];\r\n\r\n\t\tvar errorCount = this.errors.length;\r\n\t\tvar error = this.validateAll(data, subSchema, [], [\"anyOf\", i], dataPointerPath);\r\n\r\n\t\tif (error === null && errorCount === this.errors.length) {\r\n\t\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\r\n\t\t\tif (this.trackUnknownProperties) {\r\n\t\t\t\tfor (var knownKey in this.knownPropertyPaths) {\r\n\t\t\t\t\toldKnownPropertyPaths[knownKey] = true;\r\n\t\t\t\t\tdelete oldUnknownPropertyPaths[knownKey];\r\n\t\t\t\t}\r\n\t\t\t\tfor (var unknownKey in this.unknownPropertyPaths) {\r\n\t\t\t\t\tif (!oldKnownPropertyPaths[unknownKey]) {\r\n\t\t\t\t\t\toldUnknownPropertyPaths[unknownKey] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// We need to continue looping so we catch all the property definitions, but we don't want to return an error\r\n\t\t\t\terrorAtEnd = false;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (error) {\r\n\t\t\terrors.push(error.prefixWith(null, \"\" + i).prefixWith(null, \"anyOf\"));\r\n\t\t}\r\n\t}\r\n\tif (this.trackUnknownProperties) {\r\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\r\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\r\n\t}\r\n\tif (errorAtEnd) {\r\n\t\terrors = errors.concat(this.errors.slice(startErrorCount));\r\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\t\treturn this.createError(ErrorCodes.ANY_OF_MISSING, {}, \"\", \"/anyOf\", errors, data, schema);\r\n\t}\r\n};\r\n\r\nValidatorContext.prototype.validateOneOf = function validateOneOf(data, schema, dataPointerPath) {\r\n\tif (schema.oneOf === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar validIndex = null;\r\n\tvar errors = [];\r\n\tvar startErrorCount = this.errors.length;\r\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\r\n\tif (this.trackUnknownProperties) {\r\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\r\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\r\n\t}\r\n\tfor (var i = 0; i < schema.oneOf.length; i++) {\r\n\t\tif (this.trackUnknownProperties) {\r\n\t\t\tthis.unknownPropertyPaths = {};\r\n\t\t\tthis.knownPropertyPaths = {};\r\n\t\t}\r\n\t\tvar subSchema = schema.oneOf[i];\r\n\r\n\t\tvar errorCount = this.errors.length;\r\n\t\tvar error = this.validateAll(data, subSchema, [], [\"oneOf\", i], dataPointerPath);\r\n\r\n\t\tif (error === null && errorCount === this.errors.length) {\r\n\t\t\tif (validIndex === null) {\r\n\t\t\t\tvalidIndex = i;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\t\t\t\treturn this.createError(ErrorCodes.ONE_OF_MULTIPLE, {index1: validIndex, index2: i}, \"\", \"/oneOf\", null, data, schema);\r\n\t\t\t}\r\n\t\t\tif (this.trackUnknownProperties) {\r\n\t\t\t\tfor (var knownKey in this.knownPropertyPaths) {\r\n\t\t\t\t\toldKnownPropertyPaths[knownKey] = true;\r\n\t\t\t\t\tdelete oldUnknownPropertyPaths[knownKey];\r\n\t\t\t\t}\r\n\t\t\t\tfor (var unknownKey in this.unknownPropertyPaths) {\r\n\t\t\t\t\tif (!oldKnownPropertyPaths[unknownKey]) {\r\n\t\t\t\t\t\toldUnknownPropertyPaths[unknownKey] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (error) {\r\n\t\t\terrors.push(error);\r\n\t\t}\r\n\t}\r\n\tif (this.trackUnknownProperties) {\r\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\r\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\r\n\t}\r\n\tif (validIndex === null) {\r\n\t\terrors = errors.concat(this.errors.slice(startErrorCount));\r\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\t\treturn this.createError(ErrorCodes.ONE_OF_MISSING, {}, \"\", \"/oneOf\", errors, data, schema);\r\n\t} else {\r\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateNot = function validateNot(data, schema, dataPointerPath) {\r\n\tif (schema.not === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar oldErrorCount = this.errors.length;\r\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\r\n\tif (this.trackUnknownProperties) {\r\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\r\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\r\n\t\tthis.unknownPropertyPaths = {};\r\n\t\tthis.knownPropertyPaths = {};\r\n\t}\r\n\tvar error = this.validateAll(data, schema.not, null, null, dataPointerPath);\r\n\tvar notErrors = this.errors.slice(oldErrorCount);\r\n\tthis.errors = this.errors.slice(0, oldErrorCount);\r\n\tif (this.trackUnknownProperties) {\r\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\r\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\r\n\t}\r\n\tif (error === null && notErrors.length === 0) {\r\n\t\treturn this.createError(ErrorCodes.NOT_PASSED, {}, \"\", \"/not\", null, data, schema);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateHypermedia = function validateCombinations(data, schema, dataPointerPath) {\r\n\tif (!schema.links) {\r\n\t\treturn null;\r\n\t}\r\n\tvar error;\r\n\tfor (var i = 0; i < schema.links.length; i++) {\r\n\t\tvar ldo = schema.links[i];\r\n\t\tif (ldo.rel === \"describedby\") {\r\n\t\t\tvar template = new UriTemplate(ldo.href);\r\n\t\t\tvar allPresent = true;\r\n\t\t\tfor (var j = 0; j < template.varNames.length; j++) {\r\n\t\t\t\tif (!(template.varNames[j] in data)) {\r\n\t\t\t\t\tallPresent = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (allPresent) {\r\n\t\t\t\tvar schemaUrl = template.fillFromObject(data);\r\n\t\t\t\tvar subSchema = {\"$ref\": schemaUrl};\r\n\t\t\t\tif (error = this.validateAll(data, subSchema, [], [\"links\", i], dataPointerPath)) {\r\n\t\t\t\t\treturn error;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// parseURI() and resolveUrl() are from https://gist.github.com/1088850\r\n//   -  released as public domain by author (\"Yaffle\") - see comments on gist\r\n\r\nfunction parseURI(url) {\r\n\tvar m = String(url).replace(/^\\s+|\\s+$/g, '').match(/^([^:\\/?#]+:)?(\\/\\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\\/?#]*)(?::(\\d*))?))?([^?#]*)(\\?[^#]*)?(#[\\s\\S]*)?/);\r\n\t// authority = '//' + user + ':' + pass '@' + hostname + ':' port\r\n\treturn (m ? {\r\n\t\thref     : m[0] || '',\r\n\t\tprotocol : m[1] || '',\r\n\t\tauthority: m[2] || '',\r\n\t\thost     : m[3] || '',\r\n\t\thostname : m[4] || '',\r\n\t\tport     : m[5] || '',\r\n\t\tpathname : m[6] || '',\r\n\t\tsearch   : m[7] || '',\r\n\t\thash     : m[8] || ''\r\n\t} : null);\r\n}\r\n\r\nfunction resolveUrl(base, href) {// RFC 3986\r\n\r\n\tfunction removeDotSegments(input) {\r\n\t\tvar output = [];\r\n\t\tinput.replace(/^(\\.\\.?(\\/|$))+/, '')\r\n\t\t\t.replace(/\\/(\\.(\\/|$))+/g, '/')\r\n\t\t\t.replace(/\\/\\.\\.$/, '/../')\r\n\t\t\t.replace(/\\/?[^\\/]*/g, function (p) {\r\n\t\t\t\tif (p === '/..') {\r\n\t\t\t\t\toutput.pop();\r\n\t\t\t\t} else {\r\n\t\t\t\t\toutput.push(p);\r\n\t\t\t\t}\r\n\t\t});\r\n\t\treturn output.join('').replace(/^\\//, input.charAt(0) === '/' ? '/' : '');\r\n\t}\r\n\r\n\thref = parseURI(href || '');\r\n\tbase = parseURI(base || '');\r\n\r\n\treturn !href || !base ? null : (href.protocol || base.protocol) +\r\n\t\t(href.protocol || href.authority ? href.authority : base.authority) +\r\n\t\tremoveDotSegments(href.protocol || href.authority || href.pathname.charAt(0) === '/' ? href.pathname : (href.pathname ? ((base.authority && !base.pathname ? '/' : '') + base.pathname.slice(0, base.pathname.lastIndexOf('/') + 1) + href.pathname) : base.pathname)) +\r\n\t\t(href.protocol || href.authority || href.pathname ? href.search : (href.search || base.search)) +\r\n\t\thref.hash;\r\n}\r\n\r\nfunction getDocumentUri(uri) {\r\n\treturn uri.split('#')[0];\r\n}\r\nfunction normSchema(schema, baseUri) {\r\n\tif (schema && typeof schema === \"object\") {\r\n\t\tif (baseUri === undefined) {\r\n\t\t\tbaseUri = schema.id;\r\n\t\t} else if (typeof schema.id === \"string\") {\r\n\t\t\tbaseUri = resolveUrl(baseUri, schema.id);\r\n\t\t\tschema.id = baseUri;\r\n\t\t}\r\n\t\tif (Array.isArray(schema)) {\r\n\t\t\tfor (var i = 0; i < schema.length; i++) {\r\n\t\t\t\tnormSchema(schema[i], baseUri);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (typeof schema['$ref'] === \"string\") {\r\n\t\t\t\tschema['$ref'] = resolveUrl(baseUri, schema['$ref']);\r\n\t\t\t}\r\n\t\t\tfor (var key in schema) {\r\n\t\t\t\tif (key !== \"enum\") {\r\n\t\t\t\t\tnormSchema(schema[key], baseUri);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction defaultErrorReporter(language) {\r\n\tlanguage = language || 'en';\r\n\r\n\tvar errorMessages = languages[language];\r\n\r\n\treturn function (error) {\r\n\t\tvar messageTemplate = errorMessages[error.code] || ErrorMessagesDefault[error.code];\r\n\t\tif (typeof messageTemplate !== 'string') {\r\n\t\t\treturn \"Unknown error code \" + error.code + \": \" + JSON.stringify(error.messageParams);\r\n\t\t}\r\n\t\tvar messageParams = error.params;\r\n\t\t// Adapted from Crockford's supplant()\r\n\t\treturn messageTemplate.replace(/\\{([^{}]*)\\}/g, function (whole, varName) {\r\n\t\t\tvar subValue = messageParams[varName];\r\n\t\t\treturn typeof subValue === 'string' || typeof subValue === 'number' ? subValue : whole;\r\n\t\t});\r\n\t};\r\n}\r\n\r\nvar ErrorCodes = {\r\n\tINVALID_TYPE: 0,\r\n\tENUM_MISMATCH: 1,\r\n\tANY_OF_MISSING: 10,\r\n\tONE_OF_MISSING: 11,\r\n\tONE_OF_MULTIPLE: 12,\r\n\tNOT_PASSED: 13,\r\n\t// Numeric errors\r\n\tNUMBER_MULTIPLE_OF: 100,\r\n\tNUMBER_MINIMUM: 101,\r\n\tNUMBER_MINIMUM_EXCLUSIVE: 102,\r\n\tNUMBER_MAXIMUM: 103,\r\n\tNUMBER_MAXIMUM_EXCLUSIVE: 104,\r\n\tNUMBER_NOT_A_NUMBER: 105,\r\n\t// String errors\r\n\tSTRING_LENGTH_SHORT: 200,\r\n\tSTRING_LENGTH_LONG: 201,\r\n\tSTRING_PATTERN: 202,\r\n\t// Object errors\r\n\tOBJECT_PROPERTIES_MINIMUM: 300,\r\n\tOBJECT_PROPERTIES_MAXIMUM: 301,\r\n\tOBJECT_REQUIRED: 302,\r\n\tOBJECT_ADDITIONAL_PROPERTIES: 303,\r\n\tOBJECT_DEPENDENCY_KEY: 304,\r\n\t// Array errors\r\n\tARRAY_LENGTH_SHORT: 400,\r\n\tARRAY_LENGTH_LONG: 401,\r\n\tARRAY_UNIQUE: 402,\r\n\tARRAY_ADDITIONAL_ITEMS: 403,\r\n\t// Custom/user-defined errors\r\n\tFORMAT_CUSTOM: 500,\r\n\tKEYWORD_CUSTOM: 501,\r\n\t// Schema structure\r\n\tCIRCULAR_REFERENCE: 600,\r\n\t// Non-standard validation options\r\n\tUNKNOWN_PROPERTY: 1000\r\n};\r\nvar ErrorCodeLookup = {};\r\nfor (var key in ErrorCodes) {\r\n\tErrorCodeLookup[ErrorCodes[key]] = key;\r\n}\r\nvar ErrorMessagesDefault = {\r\n\tINVALID_TYPE: \"Invalid type: {type} (expected {expected})\",\r\n\tENUM_MISMATCH: \"No enum match for: {value}\",\r\n\tANY_OF_MISSING: \"Data does not match any schemas from \\\"anyOf\\\"\",\r\n\tONE_OF_MISSING: \"Data does not match any schemas from \\\"oneOf\\\"\",\r\n\tONE_OF_MULTIPLE: \"Data is valid against more than one schema from \\\"oneOf\\\": indices {index1} and {index2}\",\r\n\tNOT_PASSED: \"Data matches schema from \\\"not\\\"\",\r\n\t// Numeric errors\r\n\tNUMBER_MULTIPLE_OF: \"Value {value} is not a multiple of {multipleOf}\",\r\n\tNUMBER_MINIMUM: \"Value {value} is less than minimum {minimum}\",\r\n\tNUMBER_MINIMUM_EXCLUSIVE: \"Value {value} is equal to exclusive minimum {minimum}\",\r\n\tNUMBER_MAXIMUM: \"Value {value} is greater than maximum {maximum}\",\r\n\tNUMBER_MAXIMUM_EXCLUSIVE: \"Value {value} is equal to exclusive maximum {maximum}\",\r\n\tNUMBER_NOT_A_NUMBER: \"Value {value} is not a valid number\",\r\n\t// String errors\r\n\tSTRING_LENGTH_SHORT: \"String is too short ({length} chars), minimum {minimum}\",\r\n\tSTRING_LENGTH_LONG: \"String is too long ({length} chars), maximum {maximum}\",\r\n\tSTRING_PATTERN: \"String does not match pattern: {pattern}\",\r\n\t// Object errors\r\n\tOBJECT_PROPERTIES_MINIMUM: \"Too few properties defined ({propertyCount}), minimum {minimum}\",\r\n\tOBJECT_PROPERTIES_MAXIMUM: \"Too many properties defined ({propertyCount}), maximum {maximum}\",\r\n\tOBJECT_REQUIRED: \"Missing required property: {key}\",\r\n\tOBJECT_ADDITIONAL_PROPERTIES: \"Additional properties not allowed\",\r\n\tOBJECT_DEPENDENCY_KEY: \"Dependency failed - key must exist: {missing} (due to key: {key})\",\r\n\t// Array errors\r\n\tARRAY_LENGTH_SHORT: \"Array is too short ({length}), minimum {minimum}\",\r\n\tARRAY_LENGTH_LONG: \"Array is too long ({length}), maximum {maximum}\",\r\n\tARRAY_UNIQUE: \"Array items are not unique (indices {match1} and {match2})\",\r\n\tARRAY_ADDITIONAL_ITEMS: \"Additional items not allowed\",\r\n\t// Format errors\r\n\tFORMAT_CUSTOM: \"Format validation failed ({message})\",\r\n\tKEYWORD_CUSTOM: \"Keyword failed: {key} ({message})\",\r\n\t// Schema structure\r\n\tCIRCULAR_REFERENCE: \"Circular $refs: {urls}\",\r\n\t// Non-standard validation options\r\n\tUNKNOWN_PROPERTY: \"Unknown property (not in schema)\"\r\n};\r\n\r\nfunction ValidationError(code, params, dataPath, schemaPath, subErrors) {\r\n\tError.call(this);\r\n\tif (code === undefined) {\r\n\t\tthrow new Error (\"No error code supplied: \" + schemaPath);\r\n\t}\r\n\tthis.message = '';\r\n\tthis.params = params;\r\n\tthis.code = code;\r\n\tthis.dataPath = dataPath || \"\";\r\n\tthis.schemaPath = schemaPath || \"\";\r\n\tthis.subErrors = subErrors || null;\r\n\r\n\tvar err = new Error(this.message);\r\n\tthis.stack = err.stack || err.stacktrace;\r\n\tif (!this.stack) {\r\n\t\ttry {\r\n\t\t\tthrow err;\r\n\t\t}\r\n\t\tcatch(err) {\r\n\t\t\tthis.stack = err.stack || err.stacktrace;\r\n\t\t}\r\n\t}\r\n}\r\nValidationError.prototype = Object.create(Error.prototype);\r\nValidationError.prototype.constructor = ValidationError;\r\nValidationError.prototype.name = 'ValidationError';\r\n\r\nValidationError.prototype.prefixWith = function (dataPrefix, schemaPrefix) {\r\n\tif (dataPrefix !== null) {\r\n\t\tdataPrefix = dataPrefix.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\r\n\t\tthis.dataPath = \"/\" + dataPrefix + this.dataPath;\r\n\t}\r\n\tif (schemaPrefix !== null) {\r\n\t\tschemaPrefix = schemaPrefix.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\r\n\t\tthis.schemaPath = \"/\" + schemaPrefix + this.schemaPath;\r\n\t}\r\n\tif (this.subErrors !== null) {\r\n\t\tfor (var i = 0; i < this.subErrors.length; i++) {\r\n\t\t\tthis.subErrors[i].prefixWith(dataPrefix, schemaPrefix);\r\n\t\t}\r\n\t}\r\n\treturn this;\r\n};\r\n\r\nfunction isTrustedUrl(baseUrl, testUrl) {\r\n\tif(testUrl.substring(0, baseUrl.length) === baseUrl){\r\n\t\tvar remainder = testUrl.substring(baseUrl.length);\r\n\t\tif ((testUrl.length > 0 && testUrl.charAt(baseUrl.length - 1) === \"/\")\r\n\t\t\t|| remainder.charAt(0) === \"#\"\r\n\t\t\t|| remainder.charAt(0) === \"?\") {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nvar languages = {};\r\nfunction createApi(language) {\r\n\tvar globalContext = new ValidatorContext();\r\n\tvar currentLanguage;\r\n\tvar customErrorReporter;\r\n\tvar api = {\r\n\t\tsetErrorReporter: function (reporter) {\r\n\t\t\tif (typeof reporter === 'string') {\r\n\t\t\t\treturn this.language(reporter);\r\n\t\t\t}\r\n\t\t\tcustomErrorReporter = reporter;\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\taddFormat: function () {\r\n\t\t\tglobalContext.addFormat.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tlanguage: function (code) {\r\n\t\t\tif (!code) {\r\n\t\t\t\treturn currentLanguage;\r\n\t\t\t}\r\n\t\t\tif (!languages[code]) {\r\n\t\t\t\tcode = code.split('-')[0]; // fall back to base language\r\n\t\t\t}\r\n\t\t\tif (languages[code]) {\r\n\t\t\t\tcurrentLanguage = code;\r\n\t\t\t\treturn code; // so you can tell if fall-back has happened\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\taddLanguage: function (code, messageMap) {\r\n\t\t\tvar key;\r\n\t\t\tfor (key in ErrorCodes) {\r\n\t\t\t\tif (messageMap[key] && !messageMap[ErrorCodes[key]]) {\r\n\t\t\t\t\tmessageMap[ErrorCodes[key]] = messageMap[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar rootCode = code.split('-')[0];\r\n\t\t\tif (!languages[rootCode]) { // use for base language if not yet defined\r\n\t\t\t\tlanguages[code] = messageMap;\r\n\t\t\t\tlanguages[rootCode] = messageMap;\r\n\t\t\t} else {\r\n\t\t\t\tlanguages[code] = Object.create(languages[rootCode]);\r\n\t\t\t\tfor (key in messageMap) {\r\n\t\t\t\t\tif (typeof languages[rootCode][key] === 'undefined') {\r\n\t\t\t\t\t\tlanguages[rootCode][key] = messageMap[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlanguages[code][key] = messageMap[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tfreshApi: function (language) {\r\n\t\t\tvar result = createApi();\r\n\t\t\tif (language) {\r\n\t\t\t\tresult.language(language);\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tvalidate: function (data, schema, checkRecursive, banUnknownProperties) {\r\n\t\t\tvar def = defaultErrorReporter(currentLanguage);\r\n\t\t\tvar errorReporter = customErrorReporter ? function (error, data, schema) {\r\n\t\t\t\treturn customErrorReporter(error, data, schema) || def(error, data, schema);\r\n\t\t\t} : def;\r\n\t\t\tvar context = new ValidatorContext(globalContext, false, errorReporter, checkRecursive, banUnknownProperties);\r\n\t\t\tif (typeof schema === \"string\") {\r\n\t\t\t\tschema = {\"$ref\": schema};\r\n\t\t\t}\r\n\t\t\tcontext.addSchema(\"\", schema);\r\n\t\t\tvar error = context.validateAll(data, schema, null, null, \"\");\r\n\t\t\tif (!error && banUnknownProperties) {\r\n\t\t\t\terror = context.banUnknownProperties(data, schema);\r\n\t\t\t}\r\n\t\t\tthis.error = error;\r\n\t\t\tthis.missing = context.missing;\r\n\t\t\tthis.valid = (error === null);\r\n\t\t\treturn this.valid;\r\n\t\t},\r\n\t\tvalidateResult: function () {\r\n\t\t\tvar result = {toString: function () {\r\n\t\t\t\treturn this.valid ? 'valid' : this.error.message;\r\n\t\t\t}};\r\n\t\t\tthis.validate.apply(result, arguments);\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tvalidateMultiple: function (data, schema, checkRecursive, banUnknownProperties) {\r\n\t\t\tvar def = defaultErrorReporter(currentLanguage);\r\n\t\t\tvar errorReporter = customErrorReporter ? function (error, data, schema) {\r\n\t\t\t\treturn customErrorReporter(error, data, schema) || def(error, data, schema);\r\n\t\t\t} : def;\r\n\t\t\tvar context = new ValidatorContext(globalContext, true, errorReporter, checkRecursive, banUnknownProperties);\r\n\t\t\tif (typeof schema === \"string\") {\r\n\t\t\t\tschema = {\"$ref\": schema};\r\n\t\t\t}\r\n\t\t\tcontext.addSchema(\"\", schema);\r\n\t\t\tcontext.validateAll(data, schema, null, null, \"\");\r\n\t\t\tif (banUnknownProperties) {\r\n\t\t\t\tcontext.banUnknownProperties(data, schema);\r\n\t\t\t}\r\n\t\t\tvar result = {toString: function () {\r\n\t\t\t\treturn this.valid ? 'valid' : this.error.message;\r\n\t\t\t}};\r\n\t\t\tresult.errors = context.errors;\r\n\t\t\tresult.missing = context.missing;\r\n\t\t\tresult.valid = (result.errors.length === 0);\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\taddSchema: function () {\r\n\t\t\treturn globalContext.addSchema.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tgetSchema: function () {\r\n\t\t\treturn globalContext.getSchema.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tgetSchemaMap: function () {\r\n\t\t\treturn globalContext.getSchemaMap.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tgetSchemaUris: function () {\r\n\t\t\treturn globalContext.getSchemaUris.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tgetMissingUris: function () {\r\n\t\t\treturn globalContext.getMissingUris.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tdropSchemas: function () {\r\n\t\t\tglobalContext.dropSchemas.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tdefineKeyword: function () {\r\n\t\t\tglobalContext.defineKeyword.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tdefineError: function (codeName, codeNumber, defaultMessage) {\r\n\t\t\tif (typeof codeName !== 'string' || !/^[A-Z]+(_[A-Z]+)*$/.test(codeName)) {\r\n\t\t\t\tthrow new Error('Code name must be a string in UPPER_CASE_WITH_UNDERSCORES');\r\n\t\t\t}\r\n\t\t\tif (typeof codeNumber !== 'number' || codeNumber%1 !== 0 || codeNumber < 10000) {\r\n\t\t\t\tthrow new Error('Code number must be an integer > 10000');\r\n\t\t\t}\r\n\t\t\tif (typeof ErrorCodes[codeName] !== 'undefined') {\r\n\t\t\t\tthrow new Error('Error already defined: ' + codeName + ' as ' + ErrorCodes[codeName]);\r\n\t\t\t}\r\n\t\t\tif (typeof ErrorCodeLookup[codeNumber] !== 'undefined') {\r\n\t\t\t\tthrow new Error('Error code already used: ' + ErrorCodeLookup[codeNumber] + ' as ' + codeNumber);\r\n\t\t\t}\r\n\t\t\tErrorCodes[codeName] = codeNumber;\r\n\t\t\tErrorCodeLookup[codeNumber] = codeName;\r\n\t\t\tErrorMessagesDefault[codeName] = ErrorMessagesDefault[codeNumber] = defaultMessage;\r\n\t\t\tfor (var langCode in languages) {\r\n\t\t\t\tvar language = languages[langCode];\r\n\t\t\t\tif (language[codeName]) {\r\n\t\t\t\t\tlanguage[codeNumber] = language[codeNumber] || language[codeName];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\treset: function () {\r\n\t\t\tglobalContext.reset();\r\n\t\t\tthis.error = null;\r\n\t\t\tthis.missing = [];\r\n\t\t\tthis.valid = true;\r\n\t\t},\r\n\t\tmissing: [],\r\n\t\terror: null,\r\n\t\tvalid: true,\r\n\t\tnormSchema: normSchema,\r\n\t\tresolveUrl: resolveUrl,\r\n\t\tgetDocumentUri: getDocumentUri,\r\n\t\terrorCodes: ErrorCodes\r\n\t};\r\n\tapi.language(language || 'en');\r\n\treturn api;\r\n}\r\n\r\nvar tv4 = createApi();\r\ntv4.addLanguage('en-gb', ErrorMessagesDefault);\r\n\r\n//legacy property\r\ntv4.tv4 = tv4;\r\n\r\nreturn tv4; // used by _header.js to globalise.\r\n\r\n}));","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MemoryJournalStore = exports.JournalStore = exports.Journal = void 0;\n//     FBP Graph Journal\n//     (c) 2016-2020 Flowhub UG\n//     (c) 2014 Jon Nordby\n//     (c) 2013 Flowhub UG\n//     (c) 2011-2012 Henri Bergius, Nemein\n//     FBP Graph may be freely distributed under the MIT license\nconst events_1 = require(\"events\");\nconst clone = require(\"clone\");\nconst JournalStore_1 = require(\"./JournalStore\");\nexports.JournalStore = JournalStore_1.default;\nconst MemoryJournalStore_1 = require(\"./MemoryJournalStore\");\nexports.MemoryJournalStore = MemoryJournalStore_1.default;\nfunction entryToPrettyString(entry) {\n    const a = entry.args;\n    switch (entry.cmd) {\n        case 'addNode': return `${a.id}(${a.component})`;\n        case 'removeNode': return `DEL ${a.id}(${a.component})`;\n        case 'renameNode': return `RENAME ${a.oldId} ${a.newId}`;\n        case 'changeNode': return `META ${a.id}`;\n        case 'addEdge': return `${a.from.node} ${a.from.port} -> ${a.to.port} ${a.to.node}`;\n        case 'removeEdge': return `${a.from.node} ${a.from.port} -X> ${a.to.port} ${a.to.node}`;\n        case 'changeEdge': return `META ${a.from.node} ${a.from.port} -> ${a.to.port} ${a.to.node}`;\n        case 'addInitial': return `'${a.from.data}' -> ${a.to.port} ${a.to.node}`;\n        case 'removeInitial': return `'${a.from.data}' -X> ${a.to.port} ${a.to.node}`;\n        case 'startTransaction': return `>>> ${entry.rev}: ${a.id}`;\n        case 'endTransaction': return `<<< ${entry.rev}: ${a.id}`;\n        case 'changeProperties': return 'PROPERTIES';\n        case 'addGroup': return `GROUP ${a.name}`;\n        case 'renameGroup': return `RENAME GROUP ${a.oldName} ${a.newName}`;\n        case 'removeGroup': return `DEL GROUP ${a.name}`;\n        case 'changeGroup': return `META GROUP ${a.name}`;\n        case 'addInport': return `INPORT ${a.name}`;\n        case 'removeInport': return `DEL INPORT ${a.name}`;\n        case 'renameInport': return `RENAME INPORT ${a.oldId} ${a.newId}`;\n        case 'changeInport': return `META INPORT ${a.name}`;\n        case 'addOutport': return `OUTPORT ${a.name}`;\n        case 'removeOutport': return `DEL OUTPORT ${a.name}`;\n        case 'renameOutport': return `RENAME OUTPORT ${a.oldId} ${a.newId}`;\n        case 'changeOutport': return `META OUTPORT ${a.name}`;\n        default: throw new Error(`Unknown journal entry: ${entry.cmd}`);\n    }\n}\n// To set, not just update (append) metadata\nfunction calculateMeta(oldMeta, newMeta) {\n    const setMeta = {};\n    Object.keys(oldMeta).forEach((k) => {\n        setMeta[k] = null;\n    });\n    Object.keys(newMeta).forEach((k) => {\n        const v = newMeta[k];\n        setMeta[k] = v;\n    });\n    return setMeta;\n}\n// ## Journalling graph changes\n//\n// The Journal can follow graph changes, store them\n// and allows to recall previous revisions of the graph.\n//\n// Revisions stored in the journal follow the transactions of the graph.\n// It is not possible to operate on smaller changes than individual transactions.\n// Use startTransaction and endTransaction on Graph to structure the revisions logical changesets.\nclass Journal extends events_1.EventEmitter {\n    constructor(graph, metadata, store) {\n        super();\n        this.graph = graph;\n        // Entries added during this revision\n        this.entries = [];\n        // Whether we should respond to graph change notifications or not\n        this.subscribed = true;\n        this.store = store || new MemoryJournalStore_1.default(this.graph);\n        if (this.store.countTransactions() === 0) {\n            // Sync journal with current graph to start transaction history\n            this.currentRevision = -1;\n            this.startTransaction('initial', metadata || {});\n            this.graph.nodes.forEach((node) => {\n                this.appendCommand('addNode', node);\n            });\n            this.graph.edges.forEach((edge) => {\n                this.appendCommand('addEdge', edge);\n            });\n            this.graph.initializers.forEach((iip) => {\n                this.appendCommand('addInitial', iip);\n            });\n            if (Object.keys(this.graph.properties).length > 0) {\n                this.appendCommand('changeProperties', this.graph.properties);\n            }\n            Object.keys(this.graph.inports).forEach((name) => {\n                const port = this.graph.inports[name];\n                this.appendCommand('addInport', {\n                    name,\n                    port,\n                });\n            });\n            Object.keys(this.graph.outports).forEach((name) => {\n                const port = this.graph.outports[name];\n                this.appendCommand('addOutport', {\n                    name,\n                    port,\n                });\n            });\n            this.graph.groups.forEach((group) => {\n                this.appendCommand('addGroup', group);\n            });\n            this.endTransaction('initial', metadata || {});\n        }\n        else {\n            // Persistent store, start with its latest rev\n            this.currentRevision = this.store.lastRevision;\n        }\n        // Subscribe to graph changes\n        this.graph.on('addNode', (node) => {\n            this.appendCommand('addNode', node);\n        });\n        this.graph.on('removeNode', (node) => {\n            this.appendCommand('removeNode', node);\n        });\n        this.graph.on('renameNode', (oldId, newId) => {\n            const args = {\n                oldId,\n                newId,\n            };\n            this.appendCommand('renameNode', args);\n        });\n        this.graph.on('changeNode', (node, oldMeta) => {\n            this.appendCommand('changeNode', {\n                id: node.id,\n                new: node.metadata,\n                old: oldMeta,\n            });\n        });\n        this.graph.on('addEdge', (edge) => {\n            this.appendCommand('addEdge', edge);\n        });\n        this.graph.on('removeEdge', (edge) => {\n            this.appendCommand('removeEdge', edge);\n        });\n        this.graph.on('changeEdge', (edge, oldMeta) => {\n            this.appendCommand('changeEdge', {\n                from: edge.from,\n                to: edge.to,\n                new: edge.metadata,\n                old: oldMeta,\n            });\n        });\n        this.graph.on('addInitial', (iip) => {\n            this.appendCommand('addInitial', iip);\n        });\n        this.graph.on('removeInitial', (iip) => {\n            this.appendCommand('removeInitial', iip);\n        });\n        this.graph.on('changeProperties', (newProps, oldProps) => this.appendCommand('changeProperties', { new: newProps, old: oldProps }));\n        this.graph.on('addGroup', (group) => this.appendCommand('addGroup', group));\n        this.graph.on('renameGroup', (oldName, newName) => this.appendCommand('renameGroup', {\n            oldName,\n            newName,\n        }));\n        this.graph.on('removeGroup', (group) => this.appendCommand('removeGroup', group));\n        this.graph.on('changeGroup', (group, oldMeta) => this.appendCommand('changeGroup', { name: group.name, new: group.metadata, old: oldMeta }));\n        this.graph.on('addExport', (exported) => this.appendCommand('addExport', exported));\n        this.graph.on('removeExport', (exported) => this.appendCommand('removeExport', exported));\n        this.graph.on('addInport', (name, port) => this.appendCommand('addInport', { name, port }));\n        this.graph.on('removeInport', (name, port) => this.appendCommand('removeInport', { name, port }));\n        this.graph.on('renameInport', (oldId, newId) => this.appendCommand('renameInport', { oldId, newId }));\n        this.graph.on('changeInport', (name, port, oldMeta) => this.appendCommand('changeInport', { name, new: port.metadata, old: oldMeta }));\n        this.graph.on('addOutport', (name, port) => this.appendCommand('addOutport', { name, port }));\n        this.graph.on('removeOutport', (name, port) => this.appendCommand('removeOutport', { name, port }));\n        this.graph.on('renameOutport', (oldId, newId) => this.appendCommand('renameOutport', { oldId, newId }));\n        this.graph.on('changeOutport', (name, port, oldMeta) => this.appendCommand('changeOutport', { name, new: port.metadata, old: oldMeta }));\n        this.graph.on('startTransaction', (id, meta) => {\n            this.startTransaction(id, meta);\n        });\n        this.graph.on('endTransaction', (id, meta) => {\n            this.endTransaction(id, meta);\n        });\n    }\n    startTransaction(id, meta) {\n        if (!this.subscribed) {\n            return;\n        }\n        if (this.entries.length > 0) {\n            throw Error('Inconsistent @entries');\n        }\n        this.currentRevision += 1;\n        this.appendCommand('startTransaction', {\n            id,\n            metadata: meta,\n        }, this.currentRevision);\n    }\n    endTransaction(id, meta) {\n        if (!this.subscribed) {\n            return;\n        }\n        this.appendCommand('endTransaction', {\n            id, metadata: meta,\n        }, this.currentRevision);\n        // TODO: this would be the place to refine @entries into\n        // a minimal set of changes, like eliminating changes early in transaction\n        // which were later reverted/overwritten\n        this.store.putTransaction(this.currentRevision, this.entries);\n        this.entries = [];\n    }\n    appendCommand(cmd, args, rev = null) {\n        if (!this.subscribed) {\n            return;\n        }\n        const entry = {\n            cmd,\n            args: clone(args),\n            rev: rev,\n        };\n        this.entries.push(entry);\n    }\n    executeEntry(entry) {\n        const a = entry.args;\n        switch (entry.cmd) {\n            case 'addNode': {\n                this.graph.addNode(a.id, a.component);\n                break;\n            }\n            case 'removeNode': {\n                this.graph.removeNode(a.id);\n                break;\n            }\n            case 'renameNode': {\n                this.graph.renameNode(a.oldId, a.newId);\n                break;\n            }\n            case 'changeNode': {\n                this.graph.setNodeMetadata(a.id, calculateMeta(a.old, a.new));\n                break;\n            }\n            case 'addEdge': {\n                this.graph.addEdge(a.from.node, a.from.port, a.to.node, a.to.port);\n                break;\n            }\n            case 'removeEdge': {\n                this.graph.removeEdge(a.from.node, a.from.port, a.to.node, a.to.port);\n                break;\n            }\n            case 'changeEdge': {\n                this.graph.setEdgeMetadata(a.from.node, a.from.port, a.to.node, a.to.port, calculateMeta(a.old, a.new));\n                break;\n            }\n            case 'addInitial': {\n                if (typeof a.to.index === 'number') {\n                    this.graph.addInitialIndex(a.from.data, a.to.node, a.to.port, a.to.index, a.metadata);\n                }\n                else {\n                    this.graph.addInitial(a.from.data, a.to.node, a.to.port, a.metadata);\n                }\n                break;\n            }\n            case 'removeInitial': {\n                this.graph.removeInitial(a.to.node, a.to.port);\n                break;\n            }\n            case 'startTransaction': {\n                break;\n            }\n            case 'endTransaction': {\n                break;\n            }\n            case 'changeProperties': {\n                this.graph.setProperties(a.new);\n                break;\n            }\n            case 'addGroup': {\n                this.graph.addGroup(a.name, a.nodes, a.metadata);\n                break;\n            }\n            case 'renameGroup': {\n                this.graph.renameGroup(a.oldName, a.newName);\n                break;\n            }\n            case 'removeGroup': {\n                this.graph.removeGroup(a.name);\n                break;\n            }\n            case 'changeGroup': {\n                this.graph.setGroupMetadata(a.name, calculateMeta(a.old, a.new));\n                break;\n            }\n            case 'addInport': {\n                this.graph.addInport(a.name, a.port.process, a.port.port, a.port.metadata);\n                break;\n            }\n            case 'removeInport': {\n                this.graph.removeInport(a.name);\n                break;\n            }\n            case 'renameInport': {\n                this.graph.renameInport(a.oldId, a.newId);\n                break;\n            }\n            case 'changeInport': {\n                this.graph.setInportMetadata(a.name, calculateMeta(a.old, a.new));\n                break;\n            }\n            case 'addOutport': {\n                this.graph.addOutport(a.name, a.port.process, a.port.port, a.port.metadata(a.name));\n                break;\n            }\n            case 'removeOutport': {\n                this.graph.removeOutport(a.name);\n                break;\n            }\n            case 'renameOutport': {\n                this.graph.renameOutport(a.oldId, a.newId);\n                break;\n            }\n            case 'changeOutport': {\n                this.graph.setOutportMetadata(a.name, calculateMeta(a.old, a.new));\n                break;\n            }\n            default: throw new Error(`Unknown journal entry: ${entry.cmd}`);\n        }\n    }\n    executeEntryInversed(entry) {\n        const a = entry.args;\n        switch (entry.cmd) {\n            case 'addNode': {\n                this.graph.removeNode(a.id);\n                break;\n            }\n            case 'removeNode': {\n                this.graph.addNode(a.id, a.component);\n                break;\n            }\n            case 'renameNode': {\n                this.graph.renameNode(a.newId, a.oldId);\n                break;\n            }\n            case 'changeNode': {\n                this.graph.setNodeMetadata(a.id, calculateMeta(a.new, a.old));\n                break;\n            }\n            case 'addEdge': {\n                this.graph.removeEdge(a.from.node, a.from.port, a.to.node, a.to.port);\n                break;\n            }\n            case 'removeEdge': {\n                this.graph.addEdge(a.from.node, a.from.port, a.to.node, a.to.port);\n                break;\n            }\n            case 'changeEdge': {\n                this.graph.setEdgeMetadata(a.from.node, a.from.port, a.to.node, a.to.port, calculateMeta(a.new, a.old));\n                break;\n            }\n            case 'addInitial': {\n                this.graph.removeInitial(a.to.node, a.to.port);\n                break;\n            }\n            case 'removeInitial': {\n                if (typeof a.to.index === 'number') {\n                    this.graph.addInitialIndex(a.from.data, a.to.node, a.to.port, a.to.index, a.metadata);\n                }\n                else {\n                    this.graph.addInitial(a.from.data, a.to.node, a.to.port, a.metadata);\n                }\n                break;\n            }\n            case 'startTransaction': {\n                break;\n            }\n            case 'endTransaction': {\n                break;\n            }\n            case 'changeProperties': {\n                this.graph.setProperties(a.old);\n                break;\n            }\n            case 'addGroup': {\n                this.graph.removeGroup(a.name);\n                break;\n            }\n            case 'renameGroup': {\n                this.graph.renameGroup(a.newName, a.oldName);\n                break;\n            }\n            case 'removeGroup': {\n                this.graph.addGroup(a.name, a.nodes, a.metadata);\n                break;\n            }\n            case 'changeGroup': {\n                this.graph.setGroupMetadata(a.name, calculateMeta(a.new, a.old));\n                break;\n            }\n            case 'addInport': {\n                this.graph.removeInport(a.name);\n                break;\n            }\n            case 'removeInport': {\n                this.graph.addInport(a.name, a.port.process, a.port.port, a.port.metadata);\n                break;\n            }\n            case 'renameInport': {\n                this.graph.renameInport(a.newId, a.oldId);\n                break;\n            }\n            case 'changeInport': {\n                this.graph.setInportMetadata(a.name, calculateMeta(a.new, a.old));\n                break;\n            }\n            case 'addOutport': {\n                this.graph.removeOutport(a.name);\n                break;\n            }\n            case 'removeOutport': {\n                this.graph.addOutport(a.name, a.port.process, a.port.port, a.port.metadata);\n                break;\n            }\n            case 'renameOutport': {\n                this.graph.renameOutport(a.newId, a.oldId);\n                break;\n            }\n            case 'changeOutport': {\n                this.graph.setOutportMetadata(a.name, calculateMeta(a.new, a.old));\n                break;\n            }\n            default: throw new Error(`Unknown journal entry: ${entry.cmd}`);\n        }\n    }\n    moveToRevision(revId) {\n        if (revId === this.currentRevision) {\n            return;\n        }\n        this.subscribed = false;\n        if (revId > this.currentRevision) {\n            // Forward replay journal to revId\n            for (let start = this.currentRevision + 1, r = start, end = revId, asc = start <= end; asc ? r <= end : r >= end; asc ? r += 1 : r -= 1) {\n                this.store.fetchTransaction(r).forEach((entry) => {\n                    this.executeEntry(entry);\n                });\n            }\n        }\n        else {\n            // Move backwards, and apply inverse changes\n            for (let r = this.currentRevision, end = revId + 1; r >= end; r -= 1) {\n                // Apply entries in reverse order\n                const entries = this.store.fetchTransaction(r).slice(0);\n                entries.reverse();\n                entries.forEach((entry) => {\n                    this.executeEntryInversed(entry);\n                });\n            }\n        }\n        this.currentRevision = revId;\n        this.subscribed = true;\n    }\n    // ## Undoing & redoing\n    // Undo the last graph change\n    undo() {\n        if (!this.canUndo()) {\n            return;\n        }\n        this.moveToRevision(this.currentRevision - 1);\n    }\n    // If there is something to undo\n    canUndo() {\n        return this.currentRevision > 0;\n    }\n    // Redo the last undo\n    redo() {\n        if (!this.canRedo()) {\n            return;\n        }\n        this.moveToRevision(this.currentRevision + 1);\n    }\n    // If there is something to redo\n    canRedo() {\n        return this.currentRevision < this.store.lastRevision;\n    }\n    // # Serializing\n    // Render a pretty printed string of the journal. Changes are abbreviated\n    toPrettyString(startRev = 0, endRevParam) {\n        const endRev = endRevParam || this.store.lastRevision;\n        const lines = [];\n        for (let r = startRev, end = endRev, asc = startRev <= end; asc ? r < end : r > end; asc ? r += 1 : r -= 1) {\n            const e = this.store.fetchTransaction(r);\n            e.forEach((entry) => {\n                lines.push(entryToPrettyString(entry));\n            });\n        }\n        return lines.join('\\n');\n    }\n    // Serialize journal to JSON\n    toJSON(startRev = 0, endRevParam = null) {\n        const endRev = endRevParam || this.store.lastRevision;\n        const entries = [];\n        for (let r = startRev, end = endRev; r < end; r += 1) {\n            const e = this.store.fetchTransaction(r);\n            e.forEach((entry) => {\n                entries.push(entryToPrettyString(entry));\n            });\n        }\n        return entries;\n    }\n    save(file, callback) {\n        const promise = new Promise((resolve, reject) => {\n            const json = JSON.stringify(this.toJSON(), null, 4);\n            const { writeFile } = require('fs');\n            writeFile(`${file}.json`, json, 'utf-8', (err) => {\n                if (err) {\n                    reject(err);\n                    return;\n                }\n                resolve();\n            });\n        });\n        if (callback) {\n            promise.then(() => {\n                callback(null);\n            }, callback);\n            return;\n        }\n        return promise;\n    }\n}\nexports.Journal = Journal;\n//# sourceMappingURL=Journal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst events_1 = require(\"events\");\n/**\n * General interface for journal storage\n */\nclass JournalStore extends events_1.EventEmitter {\n    constructor(graph) {\n        super();\n        this.graph = graph;\n        this.lastRevision = 0;\n    }\n    countTransactions() {\n        return 0;\n    }\n    putTransaction(revId, entries) {\n        if (revId > this.lastRevision) {\n            this.lastRevision = revId;\n        }\n        this.emit('transaction', revId, entries);\n    }\n    fetchTransaction(revId) {\n        return [];\n    }\n}\nexports.default = JournalStore;\n//# sourceMappingURL=JournalStore.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mergeResolveTheirs = exports.equivalent = exports.loadFile = exports.loadFBP = exports.loadJSON = exports.createGraph = exports.Graph = void 0;\n//     FBP Graph\n//     (c) 2013-2020 Flowhub UG\n//     (c) 2011-2012 Henri Bergius, Nemein\n//     FBP Graph may be freely distributed under the MIT license\n//\n// FBP graphs are Event Emitters, providing signals when the graph\n// definition changes.\n/* eslint-env browser, node */\nconst events_1 = require(\"events\");\nconst clone = require(\"clone\");\nconst fs_1 = require(\"fs\");\nconst Platform_1 = require(\"./Platform\");\n// This class represents an abstract FBP graph containing nodes\n// connected to each other with edges.\n//\n// These graphs can be used for visualization and sketching, but\n// also are the way to start a NoFlo or other FBP network.\nclass Graph extends events_1.EventEmitter {\n    constructor(name = '', options = {}) {\n        super();\n        this.setMaxListeners(0);\n        this.name = name;\n        this.properties = {};\n        this.nodes = [];\n        this.edges = [];\n        this.initializers = [];\n        this.inports = {};\n        this.outports = {};\n        this.groups = [];\n        this.transaction = {\n            id: null,\n            depth: 0,\n        };\n        this.caseSensitive = options.caseSensitive || false;\n    }\n    getPortName(port = '') {\n        if (this.caseSensitive) {\n            return port;\n        }\n        return port.toLowerCase();\n    }\n    // ## Group graph changes into transactions\n    //\n    // If no transaction is explicitly opened, each call to\n    // the graph API will implicitly create a transaction for that change\n    startTransaction(id, metadata = {}) {\n        if (this.transaction.id) {\n            throw Error('Nested transactions not supported');\n        }\n        this.transaction.id = id;\n        this.transaction.depth = 1;\n        this.emit('startTransaction', id, metadata);\n        return this;\n    }\n    endTransaction(id, metadata = {}) {\n        if (!this.transaction.id) {\n            throw Error('Attempted to end non-existing transaction');\n        }\n        this.transaction.id = null;\n        this.transaction.depth = 0;\n        this.emit('endTransaction', id, metadata);\n        return this;\n    }\n    checkTransactionStart() {\n        if (!this.transaction.id) {\n            this.startTransaction('implicit');\n        }\n        else if (this.transaction.id === 'implicit') {\n            this.transaction.depth += 1;\n        }\n        return this;\n    }\n    checkTransactionEnd() {\n        if (this.transaction.id === 'implicit') {\n            this.transaction.depth -= 1;\n        }\n        if (this.transaction.depth === 0) {\n            this.endTransaction('implicit');\n        }\n        return this;\n    }\n    // ## Modifying Graph properties\n    //\n    // This method allows changing properties of the graph.\n    setProperties(properties) {\n        this.checkTransactionStart();\n        const before = clone(this.properties);\n        Object.keys(properties).forEach((item) => {\n            const val = properties[item];\n            this.properties[item] = val;\n        });\n        this.emit('changeProperties', this.properties, before);\n        this.checkTransactionEnd();\n        return this;\n    }\n    addInport(publicPort, nodeKey, portKey, metadata = {}) {\n        // Check that node exists\n        if (!this.getNode(nodeKey)) {\n            return this;\n        }\n        const portName = this.getPortName(publicPort);\n        this.checkTransactionStart();\n        this.inports[portName] = {\n            process: nodeKey,\n            port: this.getPortName(portKey),\n            metadata,\n        };\n        this.emit('addInport', portName, this.inports[portName]);\n        this.checkTransactionEnd();\n        return this;\n    }\n    removeInport(publicPort) {\n        const portName = this.getPortName(publicPort);\n        if (!this.inports[portName]) {\n            return this;\n        }\n        this.checkTransactionStart();\n        const port = this.inports[portName];\n        this.setInportMetadata(portName, {});\n        delete this.inports[portName];\n        this.emit('removeInport', portName, port);\n        this.checkTransactionEnd();\n        return this;\n    }\n    renameInport(oldPort, newPort) {\n        const oldPortName = this.getPortName(oldPort);\n        const newPortName = this.getPortName(newPort);\n        if (!this.inports[oldPortName]) {\n            return this;\n        }\n        if (newPortName === oldPortName) {\n            return this;\n        }\n        this.checkTransactionStart();\n        this.inports[newPortName] = this.inports[oldPortName];\n        delete this.inports[oldPortName];\n        this.emit('renameInport', oldPortName, newPortName);\n        this.checkTransactionEnd();\n        return this;\n    }\n    setInportMetadata(publicPort, metadata) {\n        const portName = this.getPortName(publicPort);\n        if (!this.inports[portName]) {\n            return this;\n        }\n        this.checkTransactionStart();\n        if (!this.inports[portName].metadata) {\n            this.inports[portName].metadata = {};\n        }\n        const before = clone(this.inports[portName].metadata);\n        Object.keys(metadata).forEach((item) => {\n            const val = metadata[item];\n            const existingMeta = this.inports[portName].metadata;\n            if (!existingMeta) {\n                return;\n            }\n            if (val != null) {\n                existingMeta[item] = val;\n            }\n            else {\n                delete existingMeta[item];\n            }\n        });\n        this.emit('changeInport', portName, this.inports[portName], before, metadata);\n        this.checkTransactionEnd();\n        return this;\n    }\n    addOutport(publicPort, nodeKey, portKey, metadata = {}) {\n        // Check that node exists\n        if (!this.getNode(nodeKey)) {\n            return this;\n        }\n        const portName = this.getPortName(publicPort);\n        this.checkTransactionStart();\n        this.outports[portName] = {\n            process: nodeKey,\n            port: this.getPortName(portKey),\n            metadata,\n        };\n        this.emit('addOutport', portName, this.outports[portName]);\n        this.checkTransactionEnd();\n        return this;\n    }\n    removeOutport(publicPort) {\n        const portName = this.getPortName(publicPort);\n        if (!this.outports[portName]) {\n            return this;\n        }\n        this.checkTransactionStart();\n        const port = this.outports[portName];\n        this.setOutportMetadata(portName, {});\n        delete this.outports[portName];\n        this.emit('removeOutport', portName, port);\n        this.checkTransactionEnd();\n        return this;\n    }\n    renameOutport(oldPort, newPort) {\n        const oldPortName = this.getPortName(oldPort);\n        const newPortName = this.getPortName(newPort);\n        if (!this.outports[oldPortName]) {\n            return this;\n        }\n        this.checkTransactionStart();\n        this.outports[newPortName] = this.outports[oldPortName];\n        delete this.outports[oldPortName];\n        this.emit('renameOutport', oldPortName, newPortName);\n        this.checkTransactionEnd();\n        return this;\n    }\n    setOutportMetadata(publicPort, metadata) {\n        const portName = this.getPortName(publicPort);\n        if (!this.outports[portName]) {\n            return this;\n        }\n        this.checkTransactionStart();\n        const before = clone(this.outports[portName].metadata);\n        if (!this.outports[portName].metadata) {\n            this.outports[portName].metadata = {};\n        }\n        Object.keys(metadata).forEach((item) => {\n            const val = metadata[item];\n            const existingMeta = this.outports[portName].metadata;\n            if (!existingMeta) {\n                return;\n            }\n            if (val != null) {\n                existingMeta[item] = val;\n            }\n            else {\n                delete existingMeta[item];\n            }\n        });\n        this.emit('changeOutport', portName, this.outports[portName], before, metadata);\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Grouping nodes in a graph\n    //\n    addGroup(group, nodes, metadata) {\n        this.checkTransactionStart();\n        const g = {\n            name: group,\n            nodes,\n            metadata,\n        };\n        this.groups.push(g);\n        this.emit('addGroup', g);\n        this.checkTransactionEnd();\n        return this;\n    }\n    renameGroup(oldName, newName) {\n        this.checkTransactionStart();\n        this.groups.forEach((group) => {\n            if (!group) {\n                return;\n            }\n            if (group.name !== oldName) {\n                return;\n            }\n            const g = group;\n            g.name = newName;\n            this.emit('renameGroup', oldName, newName);\n        });\n        this.checkTransactionEnd();\n        return this;\n    }\n    removeGroup(groupName) {\n        this.checkTransactionStart();\n        this.groups = this.groups.filter((group) => {\n            if (!group) {\n                return false;\n            }\n            if (group.name !== groupName) {\n                return true;\n            }\n            this.setGroupMetadata(group.name, {});\n            this.emit('removeGroup', group);\n            return false;\n        });\n        this.checkTransactionEnd();\n        return this;\n    }\n    setGroupMetadata(groupName, metadata) {\n        this.checkTransactionStart();\n        this.groups.forEach((group) => {\n            if (!group) {\n                return;\n            }\n            if (group.name !== groupName) {\n                return;\n            }\n            const before = clone(group.metadata);\n            Object.keys(metadata).forEach((item) => {\n                const val = metadata[item];\n                const g = group;\n                if (!g.metadata) {\n                    return;\n                }\n                if (val != null) {\n                    g.metadata[item] = val;\n                }\n                else {\n                    delete g.metadata[item];\n                }\n            });\n            this.emit('changeGroup', group, before, metadata);\n        });\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Adding a node to the graph\n    //\n    // Nodes are identified by an ID unique to the graph. Additionally,\n    // a node may contain information on what FBP component it is and\n    // possible display coordinates.\n    //\n    // For example:\n    //\n    //     myGraph.addNode 'Read, 'ReadFile',\n    //       x: 91\n    //       y: 154\n    //\n    // Addition of a node will emit the `addNode` event.\n    addNode(id, component, metadata = {}) {\n        this.checkTransactionStart();\n        const node = {\n            id,\n            component,\n            metadata,\n        };\n        this.nodes.push(node);\n        this.emit('addNode', node);\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Removing a node from the graph\n    //\n    // Existing nodes can be removed from a graph by their ID. This\n    // will remove the node and also remove all edges connected to it.\n    //\n    //     myGraph.removeNode 'Read'\n    //\n    // Once the node has been removed, the `removeNode` event will be\n    // emitted.\n    removeNode(id) {\n        const node = this.getNode(id);\n        if (!node) {\n            return this;\n        }\n        this.checkTransactionStart();\n        this.edges.forEach((edge) => {\n            if ((edge.from.node === node.id) || (edge.to.node === node.id)) {\n                this.removeEdge(edge.from.node, edge.from.port, edge.to.node, edge.to.port);\n            }\n        });\n        this.initializers.forEach((initializer) => {\n            if (initializer.to.node === node.id) {\n                this.removeInitial(initializer.to.node, initializer.to.port);\n            }\n        });\n        Object.keys(this.inports).forEach((pub) => {\n            const priv = this.inports[pub];\n            if (priv.process === id) {\n                this.removeInport(pub);\n            }\n        });\n        Object.keys(this.outports).forEach((pub) => {\n            const priv = this.outports[pub];\n            if (priv.process === id) {\n                this.removeOutport(pub);\n            }\n        });\n        this.groups.forEach((group) => {\n            if (!group) {\n                return;\n            }\n            const index = group.nodes.indexOf(id);\n            if (index === -1) {\n                return;\n            }\n            group.nodes.splice(index, 1);\n            if (group.nodes.length === 0) {\n                // Don't leave empty groups behind\n                this.removeGroup(group.name);\n            }\n        });\n        this.setNodeMetadata(id, {});\n        this.nodes = this.nodes.filter((n) => n !== node);\n        this.emit('removeNode', node);\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Getting a node\n    //\n    // Nodes objects can be retrieved from the graph by their ID:\n    //\n    //     myNode = myGraph.getNode 'Read'\n    getNode(id) {\n        const node = this.nodes.find((node) => node && node.id === id);\n        if (!node) {\n            return null;\n        }\n        return node;\n    }\n    // ## Renaming a node\n    //\n    // Nodes IDs can be changed by calling this method.\n    renameNode(oldId, newId) {\n        this.checkTransactionStart();\n        const node = this.getNode(oldId);\n        if (!node) {\n            return this;\n        }\n        node.id = newId;\n        this.edges.forEach((e) => {\n            const edge = e;\n            if (!edge) {\n                return;\n            }\n            if (edge.from.node === oldId) {\n                edge.from.node = newId;\n            }\n            if (edge.to.node === oldId) {\n                edge.to.node = newId;\n            }\n        });\n        this.initializers.forEach((i) => {\n            const iip = i;\n            if (!iip) {\n                return;\n            }\n            if (iip.to.node === oldId) {\n                iip.to.node = newId;\n            }\n        });\n        Object.keys(this.inports).forEach((pub) => {\n            const priv = this.inports[pub];\n            if (priv.process === oldId) {\n                priv.process = newId;\n            }\n        });\n        Object.keys(this.outports).forEach((pub) => {\n            const priv = this.outports[pub];\n            if (priv.process === oldId) {\n                priv.process = newId;\n            }\n        });\n        this.groups.forEach((group) => {\n            if (!group) {\n                return;\n            }\n            const index = group.nodes.indexOf(oldId);\n            if (index === -1) {\n                return;\n            }\n            const g = group;\n            g.nodes[index] = newId;\n        });\n        this.emit('renameNode', oldId, newId);\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Changing a node's metadata\n    //\n    // Node metadata can be set or changed by calling this method.\n    setNodeMetadata(id, metadata) {\n        const node = this.getNode(id);\n        if (!node) {\n            return this;\n        }\n        this.checkTransactionStart();\n        if (!node.metadata) {\n            node.metadata = {};\n        }\n        const before = clone(node.metadata);\n        Object.keys(metadata).forEach((item) => {\n            if (!node.metadata) {\n                return;\n            }\n            const val = metadata[item];\n            if (val != null) {\n                node.metadata[item] = val;\n            }\n            else {\n                delete node.metadata[item];\n            }\n        });\n        this.emit('changeNode', node, before, metadata);\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Connecting nodes\n    //\n    // Nodes can be connected by adding edges between a node's outport\n    // and another node's inport:\n    //\n    //     myGraph.addEdge 'Read', 'out', 'Display', 'in'\n    //     myGraph.addEdgeIndex 'Read', 'out', null, 'Display', 'in', 2\n    //\n    // Adding an edge will emit the `addEdge` event.\n    addEdge(outNode, outPort, inNode, inPort, metadata = {}) {\n        const outPortName = this.getPortName(outPort);\n        const inPortName = this.getPortName(inPort);\n        if (this.edges.some((edge) => {\n            // don't add a duplicate edge\n            if ((edge.from.node === outNode)\n                && (edge.from.port === outPortName)\n                && (edge.to.node === inNode)\n                && (edge.to.port === inPortName)) {\n                return true;\n            }\n            return false;\n        })) {\n            return this;\n        }\n        if (!this.getNode(outNode)) {\n            return this;\n        }\n        if (!this.getNode(inNode)) {\n            return this;\n        }\n        this.checkTransactionStart();\n        const edge = {\n            from: {\n                node: outNode,\n                port: outPortName,\n            },\n            to: {\n                node: inNode,\n                port: inPortName,\n            },\n            metadata,\n        };\n        this.edges.push(edge);\n        this.emit('addEdge', edge);\n        this.checkTransactionEnd();\n        return this;\n    }\n    // Adding an edge will emit the `addEdge` event.\n    addEdgeIndex(outNode, outPort, outIndex, inNode, inPort, inIndex, metadata = {}) {\n        const outPortName = this.getPortName(outPort);\n        const inPortName = this.getPortName(inPort);\n        const inIndexVal = (inIndex === null) ? undefined : inIndex;\n        const outIndexVal = (outIndex === null) ? undefined : outIndex;\n        if (this.edges.some((edge) => {\n            // don't add a duplicate edge\n            if ((edge.from.node === outNode)\n                && (edge.from.port === outPortName)\n                && (edge.from.index === outIndexVal)\n                && (edge.to.node === inNode)\n                && (edge.to.port === inPortName)\n                && (edge.to.index === inIndexVal)) {\n                return true;\n            }\n            return false;\n        })) {\n            return this;\n        }\n        if (!this.getNode(outNode)) {\n            return this;\n        }\n        if (!this.getNode(inNode)) {\n            return this;\n        }\n        this.checkTransactionStart();\n        const edge = {\n            from: {\n                node: outNode,\n                port: outPortName,\n                index: outIndexVal,\n            },\n            to: {\n                node: inNode,\n                port: inPortName,\n                index: inIndexVal,\n            },\n            metadata,\n        };\n        this.edges.push(edge);\n        this.emit('addEdge', edge);\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Disconnected nodes\n    //\n    // Connections between nodes can be removed by providing the\n    // nodes and ports to disconnect.\n    //\n    //     myGraph.removeEdge 'Display', 'out', 'Foo', 'in'\n    //\n    // Removing a connection will emit the `removeEdge` event.\n    removeEdge(node, port, node2, port2) {\n        if (!this.getEdge(node, port, node2, port2)) {\n            return this;\n        }\n        this.checkTransactionStart();\n        const outPort = this.getPortName(port);\n        const inPort = this.getPortName(port2);\n        this.edges = this.edges.filter((edge) => {\n            if (node2 && inPort) {\n                if ((edge.from.node === node)\n                    && (edge.from.port === outPort)\n                    && (edge.to.node === node2)\n                    && (edge.to.port === inPort)) {\n                    this.setEdgeMetadata(edge.from.node, edge.from.port, edge.to.node, edge.to.port, {});\n                    this.emit('removeEdge', edge);\n                    return false;\n                }\n            }\n            else if (((edge.from.node === node) && (edge.from.port === outPort))\n                || ((edge.to.node === node) && (edge.to.port === outPort))) {\n                this.setEdgeMetadata(edge.from.node, edge.from.port, edge.to.node, edge.to.port, {});\n                this.emit('removeEdge', edge);\n                return false;\n            }\n            return true;\n        });\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Getting an edge\n    //\n    // Edge objects can be retrieved from the graph by the node and port IDs:\n    //\n    //     myEdge = myGraph.getEdge 'Read', 'out', 'Write', 'in'\n    getEdge(node, port, node2, port2) {\n        const outPort = this.getPortName(port);\n        const inPort = this.getPortName(port2);\n        const edge = this.edges.find((edge) => {\n            if (!edge) {\n                return false;\n            }\n            if (edge.from.node === node\n                && edge.from.port === outPort\n                && edge.to.node === node2\n                && edge.to.port === inPort) {\n                return true;\n            }\n            return false;\n        });\n        if (!edge) {\n            return null;\n        }\n        return edge;\n    }\n    // ## Changing an edge's metadata\n    //\n    // Edge metadata can be set or changed by calling this method.\n    setEdgeMetadata(node, port, node2, port2, metadata) {\n        const edge = this.getEdge(node, port, node2, port2);\n        if (!edge) {\n            return this;\n        }\n        this.checkTransactionStart();\n        if (!edge.metadata) {\n            edge.metadata = {};\n        }\n        const before = clone(edge.metadata);\n        Object.keys(metadata).forEach((item) => {\n            const val = metadata[item];\n            if (!edge.metadata) {\n                edge.metadata = {};\n            }\n            if (val !== null) {\n                edge.metadata[item] = val;\n            }\n            else {\n                delete edge.metadata[item];\n            }\n        });\n        this.emit('changeEdge', edge, before, metadata);\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Adding Initial Information Packets\n    //\n    // Initial Information Packets (IIPs) can be used for sending data\n    // to specified node inports without a sending node instance.\n    //\n    // IIPs are especially useful for sending configuration information\n    // to components at FBP network start-up time. This could include\n    // filenames to read, or network ports to listen to.\n    //\n    //     myGraph.addInitial 'somefile.txt', 'Read', 'source'\n    //     myGraph.addInitialIndex 'somefile.txt', 'Read', 'source', 2\n    //\n    // If inports are defined on the graph, IIPs can be applied calling\n    // the `addGraphInitial` or `addGraphInitialIndex` methods.\n    //\n    //     myGraph.addGraphInitial 'somefile.txt', 'file'\n    //     myGraph.addGraphInitialIndex 'somefile.txt', 'file', 2\n    //\n    // Adding an IIP will emit a `addInitial` event.\n    addInitial(data, node, port, metadata = {}) {\n        if (!this.getNode(node)) {\n            return this;\n        }\n        const portName = this.getPortName(port);\n        this.checkTransactionStart();\n        const initializer = {\n            from: {\n                data,\n            },\n            to: {\n                node,\n                port: portName,\n            },\n            metadata,\n        };\n        this.initializers.push(initializer);\n        this.emit('addInitial', initializer);\n        this.checkTransactionEnd();\n        return this;\n    }\n    addInitialIndex(data, node, port, index, metadata = {}) {\n        if (!this.getNode(node)) {\n            return this;\n        }\n        const indexVal = (index === null) ? undefined : index;\n        const portName = this.getPortName(port);\n        this.checkTransactionStart();\n        const initializer = {\n            from: {\n                data,\n            },\n            to: {\n                node,\n                port: portName,\n                index: indexVal,\n            },\n            metadata,\n        };\n        this.initializers.push(initializer);\n        this.emit('addInitial', initializer);\n        this.checkTransactionEnd();\n        return this;\n    }\n    addGraphInitial(data, node, metadata = {}) {\n        const inport = this.inports[node];\n        if (!inport) {\n            return this;\n        }\n        return this.addInitial(data, inport.process, inport.port, metadata);\n    }\n    addGraphInitialIndex(data, node, index, metadata = {}) {\n        const inport = this.inports[node];\n        if (!inport) {\n            return this;\n        }\n        return this.addInitialIndex(data, inport.process, inport.port, index, metadata);\n    }\n    // ## Removing Initial Information Packets\n    //\n    // IIPs can be removed by calling the `removeInitial` method.\n    //\n    //     myGraph.removeInitial 'Read', 'source'\n    //\n    // If the IIP was applied via the `addGraphInitial` or\n    // `addGraphInitialIndex` functions, it can be removed using\n    // the `removeGraphInitial` method.\n    //\n    //     myGraph.removeGraphInitial 'file'\n    //\n    // Remove an IIP will emit a `removeInitial` event.\n    removeInitial(node, port) {\n        const portName = this.getPortName(port);\n        this.checkTransactionStart();\n        this.initializers = this.initializers.filter((iip) => {\n            if (iip.to.node === node && iip.to.port === portName) {\n                this.emit('removeInitial', iip);\n                return false;\n            }\n            return true;\n        });\n        this.checkTransactionEnd();\n        return this;\n    }\n    removeGraphInitial(node) {\n        const inport = this.inports[node];\n        if (!inport) {\n            return this;\n        }\n        this.removeInitial(inport.process, inport.port);\n        return this;\n    }\n    toDOT() {\n        const cleanId = (id) => id.replace(/\"/g, '\\\\\"');\n        const cleanPort = (port) => port.replace(/\\./g, '');\n        const wrapQuotes = (id) => `\"${cleanId(id)}\"`;\n        let dot = 'digraph {\\n';\n        this.nodes.forEach((node) => {\n            dot += `    ${wrapQuotes(node.id)} [label=${wrapQuotes(node.id)} shape=box]\\n`;\n        });\n        this.initializers.forEach((initializer, id) => {\n            let data;\n            if (typeof initializer.from.data === 'function') {\n                data = 'Function';\n            }\n            else {\n                data = JSON.stringify(initializer.from.data);\n            }\n            dot += `    data${id} [label=${wrapQuotes(data)} shape=plaintext]\\n`;\n            dot += `    data${id} -> ${wrapQuotes(initializer.to.node)}[headlabel=${cleanPort(initializer.to.port)} labelfontcolor=blue labelfontsize=8.0]\\n`;\n        });\n        this.edges.forEach((edge) => {\n            dot += `    ${wrapQuotes(edge.from.node)} -> ${wrapQuotes(edge.to.node)}[taillabel=${cleanPort(edge.from.port)} headlabel=${cleanPort(edge.to.port)} labelfontcolor=blue labelfontsize=8.0]\\n`;\n        });\n        dot += '}';\n        return dot;\n    }\n    toYUML() {\n        const yuml = [];\n        this.initializers.forEach((initializer) => {\n            yuml.push(`(start)[${initializer.to.port}]->(${initializer.to.node})`);\n        });\n        this.edges.forEach((edge) => {\n            yuml.push(`(${edge.from.node})[${edge.from.port}]->(${edge.to.node})`);\n        });\n        return yuml.join(',');\n    }\n    toJSON() {\n        const json = {\n            caseSensitive: this.caseSensitive,\n            properties: {\n                name: this.name,\n                ...this.properties,\n            },\n            inports: {\n                ...this.inports,\n            },\n            outports: {\n                ...this.outports,\n            },\n            groups: this.groups.map((group) => {\n                const groupData = {\n                    name: group.name,\n                    nodes: group.nodes,\n                };\n                if (group.metadata && Object.keys(group.metadata).length) {\n                    groupData.metadata = {\n                        ...group.metadata,\n                    };\n                }\n                return groupData;\n            }),\n            processes: {},\n            connections: [],\n        };\n        if (json && json.properties) {\n            delete json.properties.baseDir;\n            delete json.properties.componentLoader;\n        }\n        this.nodes.forEach((node) => {\n            if (!json.processes) {\n                json.processes = {};\n            }\n            json.processes[node.id] = {\n                component: node.component,\n            };\n            if (node.metadata) {\n                json.processes[node.id].metadata = {\n                    ...node.metadata,\n                };\n            }\n        });\n        this.edges.forEach((edge) => {\n            const connection = {\n                src: {\n                    process: edge.from.node,\n                    port: edge.from.port,\n                    index: edge.from.index,\n                },\n                tgt: {\n                    process: edge.to.node,\n                    port: edge.to.port,\n                    index: edge.to.index,\n                },\n            };\n            if (edge.metadata && Object.keys(edge.metadata).length) {\n                connection.metadata = {\n                    ...edge.metadata,\n                };\n            }\n            if (!json.connections) {\n                json.connections = [];\n            }\n            json.connections.push(connection);\n        });\n        this.initializers.forEach((initializer) => {\n            const iip = {\n                data: initializer.from.data,\n                tgt: {\n                    process: initializer.to.node,\n                    port: initializer.to.port,\n                    index: initializer.to.index,\n                },\n            };\n            if (initializer.metadata && Object.keys(initializer.metadata).length) {\n                iip.metadata = {\n                    ...initializer.metadata,\n                };\n            }\n            if (!json.connections) {\n                json.connections = [];\n            }\n            json.connections.push(iip);\n        });\n        return json;\n    }\n    save(file, callback) {\n        let promise;\n        if (Platform_1.isBrowser()) {\n            promise = Promise.reject(new Error('Saving graphs not supported on browser'));\n        }\n        else {\n            promise = new Promise((resolve, reject) => {\n                const json = JSON.stringify(this.toJSON(), null, 4);\n                let filename = file;\n                if (!filename.match(/\\.json$/)) {\n                    filename = `${file}.json`;\n                }\n                fs_1.writeFile(filename, json, 'utf-8', (err) => {\n                    if (err) {\n                        reject(err);\n                        return;\n                    }\n                    resolve(filename);\n                });\n            });\n        }\n        if (callback) {\n            promise.then((filename) => {\n                callback(null, filename);\n            }, callback);\n            return;\n        }\n        return promise;\n    }\n}\nexports.Graph = Graph;\nfunction createGraph(name, options) {\n    return new Graph(name, options);\n}\nexports.createGraph = createGraph;\n;\nfunction loadJSON(passedDefinition, callback, metadata = {}) {\n    const promise = new Promise((resolve) => {\n        let definition;\n        if (typeof passedDefinition === 'string') {\n            definition = JSON.parse(passedDefinition);\n        }\n        else {\n            definition = clone(passedDefinition);\n        }\n        if (!definition.properties) {\n            definition.properties = {};\n        }\n        if (!definition.processes) {\n            definition.processes = {};\n        }\n        if (!definition.connections) {\n            definition.connections = [];\n        }\n        const graph = new Graph(definition.properties.name, {\n            caseSensitive: definition.caseSensitive || false,\n        });\n        graph.startTransaction('loadJSON', metadata);\n        const properties = {};\n        Object.keys(definition.properties).forEach((property) => {\n            if (property === 'name') {\n                return;\n            }\n            if (!definition.properties) {\n                return;\n            }\n            const value = definition.properties[property];\n            properties[property] = value;\n        });\n        graph.setProperties(properties);\n        Object.keys(definition.processes).forEach((id) => {\n            if (!definition.processes) {\n                return;\n            }\n            const def = definition.processes[id];\n            if (!def.metadata) {\n                def.metadata = {};\n            }\n            graph.addNode(id, def.component, def.metadata);\n        });\n        definition.connections.forEach((conn) => {\n            const meta = conn.metadata ? conn.metadata : {};\n            if (typeof conn.data !== 'undefined') {\n                if (typeof conn.tgt.index === 'number') {\n                    graph.addInitialIndex(conn.data, conn.tgt.process, graph.getPortName(conn.tgt.port), conn.tgt.index, meta);\n                }\n                else {\n                    graph.addInitial(conn.data, conn.tgt.process, graph.getPortName(conn.tgt.port), meta);\n                }\n                return;\n            }\n            if (typeof conn.src === 'undefined') {\n                return;\n            }\n            if ((typeof conn.src.index === 'number') || (typeof conn.tgt.index === 'number')) {\n                graph.addEdgeIndex(conn.src.process, graph.getPortName(conn.src.port), conn.src.index, conn.tgt.process, graph.getPortName(conn.tgt.port), conn.tgt.index, meta);\n                return;\n            }\n            graph.addEdge(conn.src.process, graph.getPortName(conn.src.port), conn.tgt.process, graph.getPortName(conn.tgt.port), meta);\n        });\n        if (definition.inports) {\n            Object.keys(definition.inports).forEach((pub) => {\n                if (!definition.inports || !definition.inports[pub]) {\n                    return;\n                }\n                const priv = definition.inports[pub];\n                graph.addInport(pub, priv.process, graph.getPortName(priv.port), priv.metadata || {});\n            });\n        }\n        if (definition.outports) {\n            Object.keys(definition.outports).forEach((pub) => {\n                if (!definition.outports || !definition.outports[pub]) {\n                    return;\n                }\n                const priv = definition.outports[pub];\n                graph.addOutport(pub, priv.process, graph.getPortName(priv.port), priv.metadata || {});\n            });\n        }\n        if (definition.groups) {\n            definition.groups.forEach((group) => {\n                graph.addGroup(group.name, group.nodes, group.metadata || {});\n            });\n        }\n        graph.endTransaction('loadJSON');\n        resolve(graph);\n    });\n    if (callback) {\n        promise.then((graph) => {\n            callback(null, graph);\n        }, callback);\n    }\n    return promise;\n}\nexports.loadJSON = loadJSON;\nfunction loadFBP(fbpData, callback, metadata = {}, caseSensitive = false) {\n    const promise = new Promise((resolve) => {\n        // eslint-disable-next-line global-require\n        resolve(require('fbp').parse(fbpData, { caseSensitive }));\n    })\n        .then((def) => loadJSON(def));\n    if (callback) {\n        promise.then((graph) => {\n            callback(null, graph);\n        }, callback);\n    }\n    return promise;\n}\nexports.loadFBP = loadFBP;\nfunction loadHTTP(url, callback) {\n    const promise = new Promise((resolve, reject) => {\n        const req = new XMLHttpRequest();\n        req.onreadystatechange = () => {\n            if (req.readyState !== 4) {\n                return;\n            }\n            if (req.status !== 200) {\n                reject(new Error(`Failed to load ${url}: HTTP ${req.status}`));\n                return;\n            }\n            resolve(req.responseText);\n        };\n        req.open('GET', url, true);\n        req.send();\n    });\n    if (callback) {\n        promise.then((content) => {\n            callback(null, content);\n        }, callback);\n    }\n    return promise;\n}\nfunction loadFile(file, callback, metadata = {}, caseSensitive = false) {\n    let ioPromise;\n    if (Platform_1.isBrowser()) {\n        // On browser we can try getting the file via AJAX\n        ioPromise = loadHTTP(file);\n    }\n    else {\n        ioPromise = new Promise((resolve, reject) => {\n            // Node.js graph file\n            fs_1.readFile(file, 'utf-8', (err, data) => {\n                if (err) {\n                    reject(err);\n                    return;\n                }\n                resolve(data);\n            });\n        });\n    }\n    const promise = ioPromise.then((content) => {\n        if (file.split('.').pop() === 'fbp') {\n            return loadFBP(content);\n        }\n        return loadJSON(content);\n    });\n    if (callback) {\n        promise.then((content) => {\n            callback(null, content);\n        }, callback);\n    }\n    return promise;\n}\nexports.loadFile = loadFile;\n// remove everything in the graph\nfunction resetGraph(graph) {\n    // Edges and similar first, to have control over the order\n    // If we'd do nodes first, it will implicitly delete edges\n    // Important to make journal transactions invertible\n    graph.groups.reverse();\n    graph.groups.forEach((group) => {\n        if (group != null) {\n            graph.removeGroup(group.name);\n        }\n    });\n    Object.keys(graph.outports).forEach((port) => {\n        graph.removeOutport(port);\n    });\n    Object.keys(graph.inports).forEach((port) => {\n        graph.removeInport(port);\n    });\n    graph.setProperties({});\n    graph.initializers.reverse();\n    graph.initializers.forEach((iip) => {\n        graph.removeInitial(iip.to.node, iip.to.port);\n    });\n    graph.edges.reverse();\n    graph.edges.forEach((edge) => {\n        graph.removeEdge(edge.from.node, edge.from.port, edge.to.node, edge.to.port);\n    });\n    graph.nodes.reverse();\n    graph.nodes.forEach((node) => {\n        graph.removeNode(node.id);\n    });\n}\n// Note: Caller should create transaction\n// First removes everything in @base, before building it up to mirror @to\nfunction mergeResolveTheirsNaive(base, to) {\n    resetGraph(base);\n    to.nodes.forEach((node) => {\n        base.addNode(node.id, node.component, node.metadata);\n    });\n    to.edges.forEach((edge) => {\n        base.addEdge(edge.from.node, edge.from.port, edge.to.node, edge.to.port, edge.metadata);\n    });\n    to.initializers.forEach((iip) => {\n        if (typeof iip.to.index === 'number') {\n            base.addInitialIndex(iip.from.data, iip.to.node, iip.to.port, iip.to.index, iip.metadata || {});\n            return;\n        }\n        base.addInitial(iip.from.data, iip.to.node, iip.to.port, iip.metadata || {});\n    });\n    base.setProperties(to.properties);\n    Object.keys(to.inports).forEach((pub) => {\n        const priv = to.inports[pub];\n        base.addInport(pub, priv.process, priv.port, priv.metadata || {});\n    });\n    Object.keys(to.outports).forEach((pub) => {\n        const priv = to.outports[pub];\n        base.addOutport(pub, priv.process, priv.port, priv.metadata || {});\n    });\n    to.groups.forEach((group) => {\n        base.addGroup(group.name, group.nodes, group.metadata || {});\n    });\n}\nexports.mergeResolveTheirs = mergeResolveTheirsNaive;\nfunction equivalent(a, b) {\n    // TODO: add option to only compare known fields\n    // TODO: add option to ignore metadata\n    return (JSON.stringify(a) === JSON.stringify(b));\n}\nexports.equivalent = equivalent;\n//# sourceMappingURL=Graph.js.map","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","module.exports = (function() {\n  \"use strict\";\n\n  /*\n   * Generated by PEG.js 0.9.0.\n   *\n   * http://pegjs.org/\n   */\n\n  function peg$subclass(child, parent) {\n    function ctor() { this.constructor = child; }\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n  }\n\n  function peg$SyntaxError(message, expected, found, location) {\n    this.message  = message;\n    this.expected = expected;\n    this.found    = found;\n    this.location = location;\n    this.name     = \"SyntaxError\";\n\n    if (typeof Error.captureStackTrace === \"function\") {\n      Error.captureStackTrace(this, peg$SyntaxError);\n    }\n  }\n\n  peg$subclass(peg$SyntaxError, Error);\n\n  function peg$parse(input) {\n    var options = arguments.length > 1 ? arguments[1] : {},\n        parser  = this,\n\n        peg$FAILED = {},\n\n        peg$startRuleFunctions = { start: peg$parsestart },\n        peg$startRuleFunction  = peg$parsestart,\n\n        peg$c0 = function() { return parser.getResult();  },\n        peg$c1 = \"INPORT=\",\n        peg$c2 = { type: \"literal\", value: \"INPORT=\", description: \"\\\"INPORT=\\\"\" },\n        peg$c3 = \".\",\n        peg$c4 = { type: \"literal\", value: \".\", description: \"\\\".\\\"\" },\n        peg$c5 = \":\",\n        peg$c6 = { type: \"literal\", value: \":\", description: \"\\\":\\\"\" },\n        peg$c7 = function(node, port, pub) {return parser.registerInports(node,port,pub)},\n        peg$c8 = \"OUTPORT=\",\n        peg$c9 = { type: \"literal\", value: \"OUTPORT=\", description: \"\\\"OUTPORT=\\\"\" },\n        peg$c10 = function(node, port, pub) {return parser.registerOutports(node,port,pub)},\n        peg$c11 = \"DEFAULT_INPORT=\",\n        peg$c12 = { type: \"literal\", value: \"DEFAULT_INPORT=\", description: \"\\\"DEFAULT_INPORT=\\\"\" },\n        peg$c13 = function(name) { defaultInPort = name},\n        peg$c14 = \"DEFAULT_OUTPORT=\",\n        peg$c15 = { type: \"literal\", value: \"DEFAULT_OUTPORT=\", description: \"\\\"DEFAULT_OUTPORT=\\\"\" },\n        peg$c16 = function(name) { defaultOutPort = name},\n        peg$c17 = function(annotation) { return parser.registerAnnotation(annotation[0], annotation[1]); },\n        peg$c18 = function(edges) {return parser.registerEdges(edges);},\n        peg$c19 = \",\",\n        peg$c20 = { type: \"literal\", value: \",\", description: \"\\\",\\\"\" },\n        peg$c21 = /^[\\n\\r\\u2028\\u2029]/,\n        peg$c22 = { type: \"class\", value: \"[\\\\n\\\\r\\\\u2028\\\\u2029]\", description: \"[\\\\n\\\\r\\\\u2028\\\\u2029]\" },\n        peg$c23 = \"#\",\n        peg$c24 = { type: \"literal\", value: \"#\", description: \"\\\"#\\\"\" },\n        peg$c25 = \"->\",\n        peg$c26 = { type: \"literal\", value: \"->\", description: \"\\\"->\\\"\" },\n        peg$c27 = function(x, y) { return [x,y]; },\n        peg$c28 = function(x, proc, y) { return [{\"tgt\":makeInPort(proc, x)},{\"src\":makeOutPort(proc, y)}]; },\n        peg$c29 = function(proc, port) { return {\"src\":makeOutPort(proc, port)} },\n        peg$c30 = function(port, proc) { return {\"tgt\":makeInPort(proc, port)} },\n        peg$c31 = \"'\",\n        peg$c32 = { type: \"literal\", value: \"'\", description: \"\\\"'\\\"\" },\n        peg$c33 = function(iip) { return {\"data\":iip.join(\"\")} },\n        peg$c34 = function(iip) { return {\"data\":iip} },\n        peg$c35 = function(name) { return name},\n        peg$c36 = /^[a-zA-Z_]/,\n        peg$c37 = { type: \"class\", value: \"[a-zA-Z_]\", description: \"[a-zA-Z_]\" },\n        peg$c38 = /^[a-zA-Z0-9_\\-]/,\n        peg$c39 = { type: \"class\", value: \"[a-zA-Z0-9_\\\\-]\", description: \"[a-zA-Z0-9_\\\\-]\" },\n        peg$c40 = function(name) { return makeName(name)},\n        peg$c41 = function(name, comp) { parser.addNode(name,comp); return name},\n        peg$c42 = function(comp) { return parser.addAnonymousNode(comp, location().start.offset) },\n        peg$c43 = \"(\",\n        peg$c44 = { type: \"literal\", value: \"(\", description: \"\\\"(\\\"\" },\n        peg$c45 = /^[a-zA-Z\\/\\-0-9_]/,\n        peg$c46 = { type: \"class\", value: \"[a-zA-Z/\\\\-0-9_]\", description: \"[a-zA-Z/\\\\-0-9_]\" },\n        peg$c47 = \")\",\n        peg$c48 = { type: \"literal\", value: \")\", description: \"\\\")\\\"\" },\n        peg$c49 = function(comp, meta) { var o = {}; comp ? o.comp = comp.join(\"\") : o.comp = ''; meta ? o.meta = meta.join(\"\").split(',') : null; return o; },\n        peg$c50 = /^[a-zA-Z\\/=_,0-9]/,\n        peg$c51 = { type: \"class\", value: \"[a-zA-Z/=_,0-9]\", description: \"[a-zA-Z/=_,0-9]\" },\n        peg$c52 = function(meta) {return meta},\n        peg$c53 = \"@\",\n        peg$c54 = { type: \"literal\", value: \"@\", description: \"\\\"@\\\"\" },\n        peg$c55 = /^[a-zA-Z0-9\\-_]/,\n        peg$c56 = { type: \"class\", value: \"[a-zA-Z0-9\\\\-_]\", description: \"[a-zA-Z0-9\\\\-_]\" },\n        peg$c57 = /^[a-zA-Z0-9\\-_ .]/,\n        peg$c58 = { type: \"class\", value: \"[a-zA-Z0-9\\\\-_ \\\\.]\", description: \"[a-zA-Z0-9\\\\-_ \\\\.]\" },\n        peg$c59 = function(key, value) { return [key.join(''), value.join('')]; },\n        peg$c60 = function(portname, portindex) {return { port: options.caseSensitive? portname : portname.toLowerCase(), index: portindex != null ? portindex : undefined }},\n        peg$c61 = function(port) { return port; },\n        peg$c62 = /^[a-zA-Z.0-9_]/,\n        peg$c63 = { type: \"class\", value: \"[a-zA-Z.0-9_]\", description: \"[a-zA-Z.0-9_]\" },\n        peg$c64 = function(portname) {return makeName(portname)},\n        peg$c65 = \"[\",\n        peg$c66 = { type: \"literal\", value: \"[\", description: \"\\\"[\\\"\" },\n        peg$c67 = /^[0-9]/,\n        peg$c68 = { type: \"class\", value: \"[0-9]\", description: \"[0-9]\" },\n        peg$c69 = \"]\",\n        peg$c70 = { type: \"literal\", value: \"]\", description: \"\\\"]\\\"\" },\n        peg$c71 = function(portindex) {return parseInt(portindex.join(''))},\n        peg$c72 = /^[^\\n\\r\\u2028\\u2029]/,\n        peg$c73 = { type: \"class\", value: \"[^\\\\n\\\\r\\\\u2028\\\\u2029]\", description: \"[^\\\\n\\\\r\\\\u2028\\\\u2029]\" },\n        peg$c74 = /^[\\\\]/,\n        peg$c75 = { type: \"class\", value: \"[\\\\\\\\]\", description: \"[\\\\\\\\]\" },\n        peg$c76 = /^[']/,\n        peg$c77 = { type: \"class\", value: \"[']\", description: \"[']\" },\n        peg$c78 = function() { return \"'\"; },\n        peg$c79 = /^[^']/,\n        peg$c80 = { type: \"class\", value: \"[^']\", description: \"[^']\" },\n        peg$c81 = \" \",\n        peg$c82 = { type: \"literal\", value: \" \", description: \"\\\" \\\"\" },\n        peg$c83 = function(value) { return value; },\n        peg$c84 = \"{\",\n        peg$c85 = { type: \"literal\", value: \"{\", description: \"\\\"{\\\"\" },\n        peg$c86 = \"}\",\n        peg$c87 = { type: \"literal\", value: \"}\", description: \"\\\"}\\\"\" },\n        peg$c88 = { type: \"other\", description: \"whitespace\" },\n        peg$c89 = /^[ \\t\\n\\r]/,\n        peg$c90 = { type: \"class\", value: \"[ \\\\t\\\\n\\\\r]\", description: \"[ \\\\t\\\\n\\\\r]\" },\n        peg$c91 = \"false\",\n        peg$c92 = { type: \"literal\", value: \"false\", description: \"\\\"false\\\"\" },\n        peg$c93 = function() { return false; },\n        peg$c94 = \"null\",\n        peg$c95 = { type: \"literal\", value: \"null\", description: \"\\\"null\\\"\" },\n        peg$c96 = function() { return null;  },\n        peg$c97 = \"true\",\n        peg$c98 = { type: \"literal\", value: \"true\", description: \"\\\"true\\\"\" },\n        peg$c99 = function() { return true;  },\n        peg$c100 = function(head, m) { return m; },\n        peg$c101 = function(head, tail) {\n                  var result = {}, i;\n\n                  result[head.name] = head.value;\n\n                  for (i = 0; i < tail.length; i++) {\n                    result[tail[i].name] = tail[i].value;\n                  }\n\n                  return result;\n                },\n        peg$c102 = function(members) { return members !== null ? members: {}; },\n        peg$c103 = function(name, value) {\n                return { name: name, value: value };\n              },\n        peg$c104 = function(head, v) { return v; },\n        peg$c105 = function(head, tail) { return [head].concat(tail); },\n        peg$c106 = function(values) { return values !== null ? values : []; },\n        peg$c107 = { type: \"other\", description: \"number\" },\n        peg$c108 = function() { return parseFloat(text()); },\n        peg$c109 = /^[1-9]/,\n        peg$c110 = { type: \"class\", value: \"[1-9]\", description: \"[1-9]\" },\n        peg$c111 = /^[eE]/,\n        peg$c112 = { type: \"class\", value: \"[eE]\", description: \"[eE]\" },\n        peg$c113 = \"-\",\n        peg$c114 = { type: \"literal\", value: \"-\", description: \"\\\"-\\\"\" },\n        peg$c115 = \"+\",\n        peg$c116 = { type: \"literal\", value: \"+\", description: \"\\\"+\\\"\" },\n        peg$c117 = \"0\",\n        peg$c118 = { type: \"literal\", value: \"0\", description: \"\\\"0\\\"\" },\n        peg$c119 = { type: \"other\", description: \"string\" },\n        peg$c120 = function(chars) { return chars.join(\"\"); },\n        peg$c121 = \"\\\"\",\n        peg$c122 = { type: \"literal\", value: \"\\\"\", description: \"\\\"\\\\\\\"\\\"\" },\n        peg$c123 = \"\\\\\",\n        peg$c124 = { type: \"literal\", value: \"\\\\\", description: \"\\\"\\\\\\\\\\\"\" },\n        peg$c125 = \"/\",\n        peg$c126 = { type: \"literal\", value: \"/\", description: \"\\\"/\\\"\" },\n        peg$c127 = \"b\",\n        peg$c128 = { type: \"literal\", value: \"b\", description: \"\\\"b\\\"\" },\n        peg$c129 = function() { return \"\\b\"; },\n        peg$c130 = \"f\",\n        peg$c131 = { type: \"literal\", value: \"f\", description: \"\\\"f\\\"\" },\n        peg$c132 = function() { return \"\\f\"; },\n        peg$c133 = \"n\",\n        peg$c134 = { type: \"literal\", value: \"n\", description: \"\\\"n\\\"\" },\n        peg$c135 = function() { return \"\\n\"; },\n        peg$c136 = \"r\",\n        peg$c137 = { type: \"literal\", value: \"r\", description: \"\\\"r\\\"\" },\n        peg$c138 = function() { return \"\\r\"; },\n        peg$c139 = \"t\",\n        peg$c140 = { type: \"literal\", value: \"t\", description: \"\\\"t\\\"\" },\n        peg$c141 = function() { return \"\\t\"; },\n        peg$c142 = \"u\",\n        peg$c143 = { type: \"literal\", value: \"u\", description: \"\\\"u\\\"\" },\n        peg$c144 = function(digits) {\n                    return String.fromCharCode(parseInt(digits, 16));\n                  },\n        peg$c145 = function(sequence) { return sequence; },\n        peg$c146 = /^[^\\0-\\x1F\"\\\\]/,\n        peg$c147 = { type: \"class\", value: \"[^\\\\0-\\\\x1F\\\\x22\\\\x5C]\", description: \"[^\\\\0-\\\\x1F\\\\x22\\\\x5C]\" },\n        peg$c148 = /^[0-9a-f]/i,\n        peg$c149 = { type: \"class\", value: \"[0-9a-f]i\", description: \"[0-9a-f]i\" },\n\n        peg$currPos          = 0,\n        peg$savedPos         = 0,\n        peg$posDetailsCache  = [{ line: 1, column: 1, seenCR: false }],\n        peg$maxFailPos       = 0,\n        peg$maxFailExpected  = [],\n        peg$silentFails      = 0,\n\n        peg$result;\n\n    if (\"startRule\" in options) {\n      if (!(options.startRule in peg$startRuleFunctions)) {\n        throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n      }\n\n      peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n    }\n\n    function text() {\n      return input.substring(peg$savedPos, peg$currPos);\n    }\n\n    function location() {\n      return peg$computeLocation(peg$savedPos, peg$currPos);\n    }\n\n    function expected(description) {\n      throw peg$buildException(\n        null,\n        [{ type: \"other\", description: description }],\n        input.substring(peg$savedPos, peg$currPos),\n        peg$computeLocation(peg$savedPos, peg$currPos)\n      );\n    }\n\n    function error(message) {\n      throw peg$buildException(\n        message,\n        null,\n        input.substring(peg$savedPos, peg$currPos),\n        peg$computeLocation(peg$savedPos, peg$currPos)\n      );\n    }\n\n    function peg$computePosDetails(pos) {\n      var details = peg$posDetailsCache[pos],\n          p, ch;\n\n      if (details) {\n        return details;\n      } else {\n        p = pos - 1;\n        while (!peg$posDetailsCache[p]) {\n          p--;\n        }\n\n        details = peg$posDetailsCache[p];\n        details = {\n          line:   details.line,\n          column: details.column,\n          seenCR: details.seenCR\n        };\n\n        while (p < pos) {\n          ch = input.charAt(p);\n          if (ch === \"\\n\") {\n            if (!details.seenCR) { details.line++; }\n            details.column = 1;\n            details.seenCR = false;\n          } else if (ch === \"\\r\" || ch === \"\\u2028\" || ch === \"\\u2029\") {\n            details.line++;\n            details.column = 1;\n            details.seenCR = true;\n          } else {\n            details.column++;\n            details.seenCR = false;\n          }\n\n          p++;\n        }\n\n        peg$posDetailsCache[pos] = details;\n        return details;\n      }\n    }\n\n    function peg$computeLocation(startPos, endPos) {\n      var startPosDetails = peg$computePosDetails(startPos),\n          endPosDetails   = peg$computePosDetails(endPos);\n\n      return {\n        start: {\n          offset: startPos,\n          line:   startPosDetails.line,\n          column: startPosDetails.column\n        },\n        end: {\n          offset: endPos,\n          line:   endPosDetails.line,\n          column: endPosDetails.column\n        }\n      };\n    }\n\n    function peg$fail(expected) {\n      if (peg$currPos < peg$maxFailPos) { return; }\n\n      if (peg$currPos > peg$maxFailPos) {\n        peg$maxFailPos = peg$currPos;\n        peg$maxFailExpected = [];\n      }\n\n      peg$maxFailExpected.push(expected);\n    }\n\n    function peg$buildException(message, expected, found, location) {\n      function cleanupExpected(expected) {\n        var i = 1;\n\n        expected.sort(function(a, b) {\n          if (a.description < b.description) {\n            return -1;\n          } else if (a.description > b.description) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n\n        while (i < expected.length) {\n          if (expected[i - 1] === expected[i]) {\n            expected.splice(i, 1);\n          } else {\n            i++;\n          }\n        }\n      }\n\n      function buildMessage(expected, found) {\n        function stringEscape(s) {\n          function hex(ch) { return ch.charCodeAt(0).toString(16).toUpperCase(); }\n\n          return s\n            .replace(/\\\\/g,   '\\\\\\\\')\n            .replace(/\"/g,    '\\\\\"')\n            .replace(/\\x08/g, '\\\\b')\n            .replace(/\\t/g,   '\\\\t')\n            .replace(/\\n/g,   '\\\\n')\n            .replace(/\\f/g,   '\\\\f')\n            .replace(/\\r/g,   '\\\\r')\n            .replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function(ch) { return '\\\\x0' + hex(ch); })\n            .replace(/[\\x10-\\x1F\\x80-\\xFF]/g,    function(ch) { return '\\\\x'  + hex(ch); })\n            .replace(/[\\u0100-\\u0FFF]/g,         function(ch) { return '\\\\u0' + hex(ch); })\n            .replace(/[\\u1000-\\uFFFF]/g,         function(ch) { return '\\\\u'  + hex(ch); });\n        }\n\n        var expectedDescs = new Array(expected.length),\n            expectedDesc, foundDesc, i;\n\n        for (i = 0; i < expected.length; i++) {\n          expectedDescs[i] = expected[i].description;\n        }\n\n        expectedDesc = expected.length > 1\n          ? expectedDescs.slice(0, -1).join(\", \")\n              + \" or \"\n              + expectedDescs[expected.length - 1]\n          : expectedDescs[0];\n\n        foundDesc = found ? \"\\\"\" + stringEscape(found) + \"\\\"\" : \"end of input\";\n\n        return \"Expected \" + expectedDesc + \" but \" + foundDesc + \" found.\";\n      }\n\n      if (expected !== null) {\n        cleanupExpected(expected);\n      }\n\n      return new peg$SyntaxError(\n        message !== null ? message : buildMessage(expected, found),\n        expected,\n        found,\n        location\n      );\n    }\n\n    function peg$parsestart() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parseline();\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parseline();\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c0();\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parseline() {\n      var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9;\n\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        if (input.substr(peg$currPos, 7) === peg$c1) {\n          s2 = peg$c1;\n          peg$currPos += 7;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c2); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsenode();\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 46) {\n              s4 = peg$c3;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c4); }\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parseportName();\n              if (s5 !== peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 58) {\n                  s6 = peg$c5;\n                  peg$currPos++;\n                } else {\n                  s6 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c6); }\n                }\n                if (s6 !== peg$FAILED) {\n                  s7 = peg$parseportName();\n                  if (s7 !== peg$FAILED) {\n                    s8 = peg$parse_();\n                    if (s8 !== peg$FAILED) {\n                      s9 = peg$parseLineTerminator();\n                      if (s9 === peg$FAILED) {\n                        s9 = null;\n                      }\n                      if (s9 !== peg$FAILED) {\n                        peg$savedPos = s0;\n                        s1 = peg$c7(s3, s5, s7);\n                        s0 = s1;\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parse_();\n        if (s1 !== peg$FAILED) {\n          if (input.substr(peg$currPos, 8) === peg$c8) {\n            s2 = peg$c8;\n            peg$currPos += 8;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c9); }\n          }\n          if (s2 !== peg$FAILED) {\n            s3 = peg$parsenode();\n            if (s3 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 46) {\n                s4 = peg$c3;\n                peg$currPos++;\n              } else {\n                s4 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c4); }\n              }\n              if (s4 !== peg$FAILED) {\n                s5 = peg$parseportName();\n                if (s5 !== peg$FAILED) {\n                  if (input.charCodeAt(peg$currPos) === 58) {\n                    s6 = peg$c5;\n                    peg$currPos++;\n                  } else {\n                    s6 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c6); }\n                  }\n                  if (s6 !== peg$FAILED) {\n                    s7 = peg$parseportName();\n                    if (s7 !== peg$FAILED) {\n                      s8 = peg$parse_();\n                      if (s8 !== peg$FAILED) {\n                        s9 = peg$parseLineTerminator();\n                        if (s9 === peg$FAILED) {\n                          s9 = null;\n                        }\n                        if (s9 !== peg$FAILED) {\n                          peg$savedPos = s0;\n                          s1 = peg$c10(s3, s5, s7);\n                          s0 = s1;\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          s1 = peg$parse_();\n          if (s1 !== peg$FAILED) {\n            if (input.substr(peg$currPos, 15) === peg$c11) {\n              s2 = peg$c11;\n              peg$currPos += 15;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c12); }\n            }\n            if (s2 !== peg$FAILED) {\n              s3 = peg$parseportName();\n              if (s3 !== peg$FAILED) {\n                s4 = peg$parse_();\n                if (s4 !== peg$FAILED) {\n                  s5 = peg$parseLineTerminator();\n                  if (s5 === peg$FAILED) {\n                    s5 = null;\n                  }\n                  if (s5 !== peg$FAILED) {\n                    peg$savedPos = s0;\n                    s1 = peg$c13(s3);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            s1 = peg$parse_();\n            if (s1 !== peg$FAILED) {\n              if (input.substr(peg$currPos, 16) === peg$c14) {\n                s2 = peg$c14;\n                peg$currPos += 16;\n              } else {\n                s2 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c15); }\n              }\n              if (s2 !== peg$FAILED) {\n                s3 = peg$parseportName();\n                if (s3 !== peg$FAILED) {\n                  s4 = peg$parse_();\n                  if (s4 !== peg$FAILED) {\n                    s5 = peg$parseLineTerminator();\n                    if (s5 === peg$FAILED) {\n                      s5 = null;\n                    }\n                    if (s5 !== peg$FAILED) {\n                      peg$savedPos = s0;\n                      s1 = peg$c16(s3);\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n            if (s0 === peg$FAILED) {\n              s0 = peg$currPos;\n              s1 = peg$parseannotation();\n              if (s1 !== peg$FAILED) {\n                s2 = peg$parsenewline();\n                if (s2 !== peg$FAILED) {\n                  peg$savedPos = s0;\n                  s1 = peg$c17(s1);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n              if (s0 === peg$FAILED) {\n                s0 = peg$currPos;\n                s1 = peg$parsecomment();\n                if (s1 !== peg$FAILED) {\n                  s2 = peg$parsenewline();\n                  if (s2 === peg$FAILED) {\n                    s2 = null;\n                  }\n                  if (s2 !== peg$FAILED) {\n                    s1 = [s1, s2];\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n                if (s0 === peg$FAILED) {\n                  s0 = peg$currPos;\n                  s1 = peg$parse_();\n                  if (s1 !== peg$FAILED) {\n                    s2 = peg$parsenewline();\n                    if (s2 !== peg$FAILED) {\n                      s1 = [s1, s2];\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                  if (s0 === peg$FAILED) {\n                    s0 = peg$currPos;\n                    s1 = peg$parse_();\n                    if (s1 !== peg$FAILED) {\n                      s2 = peg$parseconnection();\n                      if (s2 !== peg$FAILED) {\n                        s3 = peg$parse_();\n                        if (s3 !== peg$FAILED) {\n                          s4 = peg$parseLineTerminator();\n                          if (s4 === peg$FAILED) {\n                            s4 = null;\n                          }\n                          if (s4 !== peg$FAILED) {\n                            peg$savedPos = s0;\n                            s1 = peg$c18(s2);\n                            s0 = s1;\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseLineTerminator() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 44) {\n          s2 = peg$c19;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c20); }\n        }\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsecomment();\n          if (s3 === peg$FAILED) {\n            s3 = null;\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parsenewline();\n            if (s4 === peg$FAILED) {\n              s4 = null;\n            }\n            if (s4 !== peg$FAILED) {\n              s1 = [s1, s2, s3, s4];\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsenewline() {\n      var s0;\n\n      if (peg$c21.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c22); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsecomment() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 35) {\n          s2 = peg$c23;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c24); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parseanychar();\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parseanychar();\n          }\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseconnection() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      s1 = peg$parsesource();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          if (input.substr(peg$currPos, 2) === peg$c25) {\n            s3 = peg$c25;\n            peg$currPos += 2;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c26); }\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parse_();\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parseconnection();\n              if (s5 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c27(s1, s5);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsedestination();\n      }\n\n      return s0;\n    }\n\n    function peg$parsesource() {\n      var s0;\n\n      s0 = peg$parsebridge();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseoutport();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseiip();\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parsedestination() {\n      var s0;\n\n      s0 = peg$parseinport();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsebridge();\n      }\n\n      return s0;\n    }\n\n    function peg$parsebridge() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parseport__();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsenode();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parse__port();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c28(s1, s2, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parseport__();\n        if (s1 === peg$FAILED) {\n          s1 = null;\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parsenodeWithComponent();\n          if (s2 !== peg$FAILED) {\n            s3 = peg$parse__port();\n            if (s3 === peg$FAILED) {\n              s3 = null;\n            }\n            if (s3 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c28(s1, s2, s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseoutport() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parsenode();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse__port();\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c29(s1, s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseinport() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parseport__();\n      if (s1 === peg$FAILED) {\n        s1 = null;\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsenode();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c30(s1, s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseiip() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 39) {\n        s1 = peg$c31;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c32); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parseiipchar();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parseiipchar();\n        }\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 39) {\n            s3 = peg$c31;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c32); }\n          }\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c33(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parseJSON_text();\n        if (s1 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c34(s1);\n        }\n        s0 = s1;\n      }\n\n      return s0;\n    }\n\n    function peg$parsenode() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      s1 = peg$parsenodeNameAndComponent();\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c35(s1);\n      }\n      s0 = s1;\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parsenodeName();\n        if (s1 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c35(s1);\n        }\n        s0 = s1;\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          s1 = peg$parsenodeComponent();\n          if (s1 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c35(s1);\n          }\n          s0 = s1;\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parsenodeName() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      if (peg$c36.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c37); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        if (peg$c38.test(input.charAt(peg$currPos))) {\n          s4 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s4 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c39); }\n        }\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          if (peg$c38.test(input.charAt(peg$currPos))) {\n            s4 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c39); }\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c40(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsenodeNameAndComponent() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parsenodeName();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsecomponent();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c41(s1, s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsenodeComponent() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      s1 = peg$parsecomponent();\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c42(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsenodeWithComponent() {\n      var s0;\n\n      s0 = peg$parsenodeNameAndComponent();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsenodeComponent();\n      }\n\n      return s0;\n    }\n\n    function peg$parsecomponent() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s1 = peg$c43;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c44); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        if (peg$c45.test(input.charAt(peg$currPos))) {\n          s3 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c46); }\n        }\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          if (peg$c45.test(input.charAt(peg$currPos))) {\n            s3 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c46); }\n          }\n        }\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsecompMeta();\n          if (s3 === peg$FAILED) {\n            s3 = null;\n          }\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 41) {\n              s4 = peg$c47;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c48); }\n            }\n            if (s4 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c49(s2, s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsecompMeta() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 58) {\n        s1 = peg$c5;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c6); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        if (peg$c50.test(input.charAt(peg$currPos))) {\n          s3 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c51); }\n        }\n        if (s3 !== peg$FAILED) {\n          while (s3 !== peg$FAILED) {\n            s2.push(s3);\n            if (peg$c50.test(input.charAt(peg$currPos))) {\n              s3 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s3 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c51); }\n            }\n          }\n        } else {\n          s2 = peg$FAILED;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c52(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseannotation() {\n      var s0, s1, s2, s3, s4, s5, s6, s7;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 35) {\n        s1 = peg$c23;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c24); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse__();\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 64) {\n            s3 = peg$c53;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c54); }\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = [];\n            if (peg$c55.test(input.charAt(peg$currPos))) {\n              s5 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c56); }\n            }\n            if (s5 !== peg$FAILED) {\n              while (s5 !== peg$FAILED) {\n                s4.push(s5);\n                if (peg$c55.test(input.charAt(peg$currPos))) {\n                  s5 = input.charAt(peg$currPos);\n                  peg$currPos++;\n                } else {\n                  s5 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c56); }\n                }\n              }\n            } else {\n              s4 = peg$FAILED;\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parse__();\n              if (s5 !== peg$FAILED) {\n                s6 = [];\n                if (peg$c57.test(input.charAt(peg$currPos))) {\n                  s7 = input.charAt(peg$currPos);\n                  peg$currPos++;\n                } else {\n                  s7 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c58); }\n                }\n                if (s7 !== peg$FAILED) {\n                  while (s7 !== peg$FAILED) {\n                    s6.push(s7);\n                    if (peg$c57.test(input.charAt(peg$currPos))) {\n                      s7 = input.charAt(peg$currPos);\n                      peg$currPos++;\n                    } else {\n                      s7 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c58); }\n                    }\n                  }\n                } else {\n                  s6 = peg$FAILED;\n                }\n                if (s6 !== peg$FAILED) {\n                  peg$savedPos = s0;\n                  s1 = peg$c59(s4, s6);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseport() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parseportName();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseportIndex();\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c60(s1, s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseport__() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parseport();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse__();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c61(s1);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parse__port() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parse__();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseport();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c61(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseportName() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      if (peg$c36.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c37); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        if (peg$c62.test(input.charAt(peg$currPos))) {\n          s4 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s4 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c63); }\n        }\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          if (peg$c62.test(input.charAt(peg$currPos))) {\n            s4 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c63); }\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c64(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parseportIndex() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 91) {\n        s1 = peg$c65;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c66); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        if (peg$c67.test(input.charAt(peg$currPos))) {\n          s3 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c68); }\n        }\n        if (s3 !== peg$FAILED) {\n          while (s3 !== peg$FAILED) {\n            s2.push(s3);\n            if (peg$c67.test(input.charAt(peg$currPos))) {\n              s3 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s3 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c68); }\n            }\n          }\n        } else {\n          s2 = peg$FAILED;\n        }\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 93) {\n            s3 = peg$c69;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c70); }\n          }\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c71(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseanychar() {\n      var s0;\n\n      if (peg$c72.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c73); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseiipchar() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      if (peg$c74.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c75); }\n      }\n      if (s1 !== peg$FAILED) {\n        if (peg$c76.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c77); }\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c78();\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        if (peg$c79.test(input.charAt(peg$currPos))) {\n          s0 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s0 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c80); }\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parse_() {\n      var s0, s1;\n\n      s0 = [];\n      if (input.charCodeAt(peg$currPos) === 32) {\n        s1 = peg$c81;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c82); }\n      }\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        if (input.charCodeAt(peg$currPos) === 32) {\n          s1 = peg$c81;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c82); }\n        }\n      }\n      if (s0 === peg$FAILED) {\n        s0 = null;\n      }\n\n      return s0;\n    }\n\n    function peg$parse__() {\n      var s0, s1;\n\n      s0 = [];\n      if (input.charCodeAt(peg$currPos) === 32) {\n        s1 = peg$c81;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c82); }\n      }\n      if (s1 !== peg$FAILED) {\n        while (s1 !== peg$FAILED) {\n          s0.push(s1);\n          if (input.charCodeAt(peg$currPos) === 32) {\n            s1 = peg$c81;\n            peg$currPos++;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c82); }\n          }\n        }\n      } else {\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseJSON_text() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsevalue();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c83(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsebegin_array() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 91) {\n          s2 = peg$c65;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c66); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsebegin_object() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 123) {\n          s2 = peg$c84;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c85); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseend_array() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 93) {\n          s2 = peg$c69;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c70); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseend_object() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 125) {\n          s2 = peg$c86;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c87); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsename_separator() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 58) {\n          s2 = peg$c5;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c6); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsevalue_separator() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 44) {\n          s2 = peg$c19;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c20); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsews() {\n      var s0, s1;\n\n      peg$silentFails++;\n      s0 = [];\n      if (peg$c89.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c90); }\n      }\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        if (peg$c89.test(input.charAt(peg$currPos))) {\n          s1 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c90); }\n        }\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c88); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsevalue() {\n      var s0;\n\n      s0 = peg$parsefalse();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsenull();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parsetrue();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseobject();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parsearray();\n              if (s0 === peg$FAILED) {\n                s0 = peg$parsenumber();\n                if (s0 === peg$FAILED) {\n                  s0 = peg$parsestring();\n                }\n              }\n            }\n          }\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parsefalse() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 5) === peg$c91) {\n        s1 = peg$c91;\n        peg$currPos += 5;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c92); }\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c93();\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsenull() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 4) === peg$c94) {\n        s1 = peg$c94;\n        peg$currPos += 4;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c95); }\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c96();\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsetrue() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 4) === peg$c97) {\n        s1 = peg$c97;\n        peg$currPos += 4;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c98); }\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c99();\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parseobject() {\n      var s0, s1, s2, s3, s4, s5, s6, s7;\n\n      s0 = peg$currPos;\n      s1 = peg$parsebegin_object();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$currPos;\n        s3 = peg$parsemember();\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          s5 = peg$currPos;\n          s6 = peg$parsevalue_separator();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsemember();\n            if (s7 !== peg$FAILED) {\n              peg$savedPos = s5;\n              s6 = peg$c100(s3, s7);\n              s5 = s6;\n            } else {\n              peg$currPos = s5;\n              s5 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s5;\n            s5 = peg$FAILED;\n          }\n          while (s5 !== peg$FAILED) {\n            s4.push(s5);\n            s5 = peg$currPos;\n            s6 = peg$parsevalue_separator();\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parsemember();\n              if (s7 !== peg$FAILED) {\n                peg$savedPos = s5;\n                s6 = peg$c100(s3, s7);\n                s5 = s6;\n              } else {\n                peg$currPos = s5;\n                s5 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s5;\n              s5 = peg$FAILED;\n            }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s2;\n            s3 = peg$c101(s3, s4);\n            s2 = s3;\n          } else {\n            peg$currPos = s2;\n            s2 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$FAILED;\n        }\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parseend_object();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c102(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsemember() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsestring();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsename_separator();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsevalue();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c103(s1, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsearray() {\n      var s0, s1, s2, s3, s4, s5, s6, s7;\n\n      s0 = peg$currPos;\n      s1 = peg$parsebegin_array();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$currPos;\n        s3 = peg$parsevalue();\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          s5 = peg$currPos;\n          s6 = peg$parsevalue_separator();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsevalue();\n            if (s7 !== peg$FAILED) {\n              peg$savedPos = s5;\n              s6 = peg$c104(s3, s7);\n              s5 = s6;\n            } else {\n              peg$currPos = s5;\n              s5 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s5;\n            s5 = peg$FAILED;\n          }\n          while (s5 !== peg$FAILED) {\n            s4.push(s5);\n            s5 = peg$currPos;\n            s6 = peg$parsevalue_separator();\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parsevalue();\n              if (s7 !== peg$FAILED) {\n                peg$savedPos = s5;\n                s6 = peg$c104(s3, s7);\n                s5 = s6;\n              } else {\n                peg$currPos = s5;\n                s5 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s5;\n              s5 = peg$FAILED;\n            }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s2;\n            s3 = peg$c105(s3, s4);\n            s2 = s3;\n          } else {\n            peg$currPos = s2;\n            s2 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$FAILED;\n        }\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parseend_array();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c106(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsenumber() {\n      var s0, s1, s2, s3, s4;\n\n      peg$silentFails++;\n      s0 = peg$currPos;\n      s1 = peg$parseminus();\n      if (s1 === peg$FAILED) {\n        s1 = null;\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseint();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsefrac();\n          if (s3 === peg$FAILED) {\n            s3 = null;\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parseexp();\n            if (s4 === peg$FAILED) {\n              s4 = null;\n            }\n            if (s4 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c108();\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c107); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsedecimal_point() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 46) {\n        s0 = peg$c3;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c4); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsedigit1_9() {\n      var s0;\n\n      if (peg$c109.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c110); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsee() {\n      var s0;\n\n      if (peg$c111.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c112); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseexp() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      s1 = peg$parsee();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseminus();\n        if (s2 === peg$FAILED) {\n          s2 = peg$parseplus();\n        }\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parseDIGIT();\n          if (s4 !== peg$FAILED) {\n            while (s4 !== peg$FAILED) {\n              s3.push(s4);\n              s4 = peg$parseDIGIT();\n            }\n          } else {\n            s3 = peg$FAILED;\n          }\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsefrac() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsedecimal_point();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parseDIGIT();\n        if (s3 !== peg$FAILED) {\n          while (s3 !== peg$FAILED) {\n            s2.push(s3);\n            s3 = peg$parseDIGIT();\n          }\n        } else {\n          s2 = peg$FAILED;\n        }\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseint() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$parsezero();\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parsedigit1_9();\n        if (s1 !== peg$FAILED) {\n          s2 = [];\n          s3 = peg$parseDIGIT();\n          while (s3 !== peg$FAILED) {\n            s2.push(s3);\n            s3 = peg$parseDIGIT();\n          }\n          if (s2 !== peg$FAILED) {\n            s1 = [s1, s2];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseminus() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 45) {\n        s0 = peg$c113;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c114); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseplus() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 43) {\n        s0 = peg$c115;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c116); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsezero() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 48) {\n        s0 = peg$c117;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c118); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsestring() {\n      var s0, s1, s2, s3;\n\n      peg$silentFails++;\n      s0 = peg$currPos;\n      s1 = peg$parsequotation_mark();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parsechar();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsechar();\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsequotation_mark();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c120(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c119); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsechar() {\n      var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9;\n\n      s0 = peg$parseunescaped();\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parseescape();\n        if (s1 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 34) {\n            s2 = peg$c121;\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c122); }\n          }\n          if (s2 === peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 92) {\n              s2 = peg$c123;\n              peg$currPos++;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c124); }\n            }\n            if (s2 === peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 47) {\n                s2 = peg$c125;\n                peg$currPos++;\n              } else {\n                s2 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c126); }\n              }\n              if (s2 === peg$FAILED) {\n                s2 = peg$currPos;\n                if (input.charCodeAt(peg$currPos) === 98) {\n                  s3 = peg$c127;\n                  peg$currPos++;\n                } else {\n                  s3 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c128); }\n                }\n                if (s3 !== peg$FAILED) {\n                  peg$savedPos = s2;\n                  s3 = peg$c129();\n                }\n                s2 = s3;\n                if (s2 === peg$FAILED) {\n                  s2 = peg$currPos;\n                  if (input.charCodeAt(peg$currPos) === 102) {\n                    s3 = peg$c130;\n                    peg$currPos++;\n                  } else {\n                    s3 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c131); }\n                  }\n                  if (s3 !== peg$FAILED) {\n                    peg$savedPos = s2;\n                    s3 = peg$c132();\n                  }\n                  s2 = s3;\n                  if (s2 === peg$FAILED) {\n                    s2 = peg$currPos;\n                    if (input.charCodeAt(peg$currPos) === 110) {\n                      s3 = peg$c133;\n                      peg$currPos++;\n                    } else {\n                      s3 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c134); }\n                    }\n                    if (s3 !== peg$FAILED) {\n                      peg$savedPos = s2;\n                      s3 = peg$c135();\n                    }\n                    s2 = s3;\n                    if (s2 === peg$FAILED) {\n                      s2 = peg$currPos;\n                      if (input.charCodeAt(peg$currPos) === 114) {\n                        s3 = peg$c136;\n                        peg$currPos++;\n                      } else {\n                        s3 = peg$FAILED;\n                        if (peg$silentFails === 0) { peg$fail(peg$c137); }\n                      }\n                      if (s3 !== peg$FAILED) {\n                        peg$savedPos = s2;\n                        s3 = peg$c138();\n                      }\n                      s2 = s3;\n                      if (s2 === peg$FAILED) {\n                        s2 = peg$currPos;\n                        if (input.charCodeAt(peg$currPos) === 116) {\n                          s3 = peg$c139;\n                          peg$currPos++;\n                        } else {\n                          s3 = peg$FAILED;\n                          if (peg$silentFails === 0) { peg$fail(peg$c140); }\n                        }\n                        if (s3 !== peg$FAILED) {\n                          peg$savedPos = s2;\n                          s3 = peg$c141();\n                        }\n                        s2 = s3;\n                        if (s2 === peg$FAILED) {\n                          s2 = peg$currPos;\n                          if (input.charCodeAt(peg$currPos) === 117) {\n                            s3 = peg$c142;\n                            peg$currPos++;\n                          } else {\n                            s3 = peg$FAILED;\n                            if (peg$silentFails === 0) { peg$fail(peg$c143); }\n                          }\n                          if (s3 !== peg$FAILED) {\n                            s4 = peg$currPos;\n                            s5 = peg$currPos;\n                            s6 = peg$parseHEXDIG();\n                            if (s6 !== peg$FAILED) {\n                              s7 = peg$parseHEXDIG();\n                              if (s7 !== peg$FAILED) {\n                                s8 = peg$parseHEXDIG();\n                                if (s8 !== peg$FAILED) {\n                                  s9 = peg$parseHEXDIG();\n                                  if (s9 !== peg$FAILED) {\n                                    s6 = [s6, s7, s8, s9];\n                                    s5 = s6;\n                                  } else {\n                                    peg$currPos = s5;\n                                    s5 = peg$FAILED;\n                                  }\n                                } else {\n                                  peg$currPos = s5;\n                                  s5 = peg$FAILED;\n                                }\n                              } else {\n                                peg$currPos = s5;\n                                s5 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s5;\n                              s5 = peg$FAILED;\n                            }\n                            if (s5 !== peg$FAILED) {\n                              s4 = input.substring(s4, peg$currPos);\n                            } else {\n                              s4 = s5;\n                            }\n                            if (s4 !== peg$FAILED) {\n                              peg$savedPos = s2;\n                              s3 = peg$c144(s4);\n                              s2 = s3;\n                            } else {\n                              peg$currPos = s2;\n                              s2 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s2;\n                            s2 = peg$FAILED;\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n          if (s2 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c145(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseescape() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 92) {\n        s0 = peg$c123;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c124); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsequotation_mark() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 34) {\n        s0 = peg$c121;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c122); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseunescaped() {\n      var s0;\n\n      if (peg$c146.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c147); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseDIGIT() {\n      var s0;\n\n      if (peg$c67.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c68); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseHEXDIG() {\n      var s0;\n\n      if (peg$c148.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c149); }\n      }\n\n      return s0;\n    }\n\n\n      var parser, edges, nodes;\n\n      var defaultInPort = \"IN\", defaultOutPort = \"OUT\";\n\n      parser = this;\n      delete parser.properties;\n      delete parser.inports;\n      delete parser.outports;\n      delete parser.groups;\n\n      edges = parser.edges = [];\n\n      nodes = {};\n\n      var serialize, indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n      parser.validateContents = function(graph, options) {\n        // Ensure all nodes have a component\n        if (graph.processes) {\n          Object.keys(graph.processes).forEach(function (node) {\n            if (!graph.processes[node].component) {\n              throw new Error('Node \"' + node + '\" does not have a component defined');\n            }\n          });\n        }\n        // Ensure all inports point to existing nodes\n        if (graph.inports) {\n          Object.keys(graph.inports).forEach(function (port) {\n            var portDef = graph.inports[port];\n            if (!graph.processes[portDef.process]) {\n              throw new Error('Inport \"' + port + '\" is connected to an undefined target node \"' + portDef.process + '\"');\n            }\n          });\n        }\n        // Ensure all outports point to existing nodes\n        if (graph.outports) {\n          Object.keys(graph.outports).forEach(function (port) {\n            var portDef = graph.outports[port];\n            if (!graph.processes[portDef.process]) {\n              throw new Error('Outport \"' + port + '\" is connected to an undefined source node \"' + portDef.process + '\"');\n            }\n          });\n        }\n        // Ensure all edges have nodes defined\n        if (graph.connections) {\n          graph.connections.forEach(function (edge) {\n            if (edge.tgt && !graph.processes[edge.tgt.process]) {\n              if (edge.data) {\n                throw new Error('IIP containing \"' + edge.data + '\" is connected to an undefined target node \"' + edge.tgt.process + '\"');\n              }\n              throw new Error('Edge from \"' + edge.src.process + '\" port \"' + edge.src.port + '\" is connected to an undefined target node \"' + edge.tgt.process + '\"');\n            }\n            if (edge.src && !graph.processes[edge.src.process]) {\n              throw new Error('Edge to \"' + edge.tgt.process + '\" port \"' + edge.tgt.port + '\" is connected to an undefined source node \"' + edge.src.process + '\"');\n            }\n          });\n        }\n      };\n\n      parser.addNode = function (nodeName, comp) {\n        if (!nodes[nodeName]) {\n          nodes[nodeName] = {}\n        }\n        if (!!comp.comp) {\n          nodes[nodeName].component = comp.comp;\n        }\n        if (!!comp.meta) {\n          var metadata = {};\n          for (var i = 0; i < comp.meta.length; i++) {\n            var item = comp.meta[i].split('=');\n            if (item.length === 1) {\n              item = ['routes', item[0]];\n            }\n            var key = item[0];\n            var value = item[1];\n            if (key==='x' || key==='y') {\n              value = parseFloat(value);\n            }\n            metadata[key] = value;\n          }\n          nodes[nodeName].metadata=metadata;\n        }\n\n      }\n\n      var anonymousIndexes = {};\n      var anonymousNodeNames = {};\n      parser.addAnonymousNode = function(comp, offset) {\n          if (!anonymousNodeNames[offset]) {\n              var componentName = comp.comp.replace(/[^a-zA-Z0-9]+/, \"_\");\n              anonymousIndexes[componentName] = (anonymousIndexes[componentName] || 0) + 1;\n              anonymousNodeNames[offset] = \"_\" + componentName + \"_\" + anonymousIndexes[componentName];\n              this.addNode(anonymousNodeNames[offset], comp);\n          }\n          return anonymousNodeNames[offset];\n      }\n\n      parser.getResult = function () {\n        var result = {\n          inports: parser.inports || {},\n          outports: parser.outports || {},\n          groups: parser.groups || [],\n          processes: nodes || {},\n          connections: parser.processEdges()\n        };\n\n        if (parser.properties) {\n          result.properties = parser.properties;\n        }\n        result.caseSensitive = options.caseSensitive || false;\n\n        var validateSchema = parser.validateSchema; // default\n        if (typeof(options.validateSchema) !== 'undefined') { validateSchema = options.validateSchema; } // explicit option\n        if (validateSchema) {\n          if (typeof(tv4) === 'undefined') {\n            var tv4 = require(\"tv4\");\n          }\n          var schema = require(\"../schema/graph.json\");\n          var validation = tv4.validateMultiple(result, schema);\n          if (!validation.valid) {\n            throw new Error(\"fbp: Did not validate againt graph schema:\\n\" + JSON.stringify(validation.errors, null, 2));\n          }\n        }\n\n        if (typeof options.validateContents === 'undefined' || options.validateContents) {\n          parser.validateContents(result);\n        }\n\n        return result;\n      }\n\n      var flatten = function (array, isShallow) {\n        var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n        while (++index < length) {\n          var value = array[index];\n\n          if (value instanceof Array) {\n            Array.prototype.push.apply(result, isShallow ? value : flatten(value));\n          }\n          else {\n            result.push(value);\n          }\n        }\n        return result;\n      }\n\n      parser.registerAnnotation = function (key, value) {\n        if (!parser.properties) {\n          parser.properties = {};\n        }\n\n        if (key === 'runtime') {\n          parser.properties.environment = {};\n          parser.properties.environment.type = value;\n          return;\n        }\n\n        parser.properties[key] = value;\n      };\n\n      parser.registerInports = function (node, port, pub) {\n        if (!parser.inports) {\n          parser.inports = {};\n        }\n\n        if (!options.caseSensitive) {\n          pub = pub.toLowerCase();\n          port = port.toLowerCase();\n        }\n\n        parser.inports[pub] = {process:node, port:port};\n      }\n      parser.registerOutports = function (node, port, pub) {\n        if (!parser.outports) {\n          parser.outports = {};\n        }\n\n        if (!options.caseSensitive) {\n          pub = pub.toLowerCase();\n          port = port.toLowerCase();\n        }\n\n        parser.outports[pub] = {process:node, port:port};\n      }\n\n      parser.registerEdges = function (edges) {\n        if (Array.isArray(edges)) {\n          edges.forEach(function (o, i) {\n            parser.edges.push(o);\n          });\n        }\n      }\n\n      parser.processEdges = function () {\n        var flats, grouped;\n        flats = flatten(parser.edges);\n        grouped = [];\n        var current = {};\n        for (var i = 1; i < flats.length; i += 1) {\n            // skip over default ports at the beginning of lines (could also handle this in grammar)\n            if ((\"src\" in flats[i - 1] || \"data\" in flats[i - 1]) && \"tgt\" in flats[i]) {\n                flats[i - 1].tgt = flats[i].tgt;\n                grouped.push(flats[i - 1]);\n                i++;\n            }\n        }\n        return grouped;\n      }\n\n      function makeName(s) {\n        return s[0] + s[1].join(\"\");\n      }\n\n      function makePort(process, port, defaultPort) {\n        if (!options.caseSensitive) {\n          defaultPort = defaultPort.toLowerCase()\n        }\n        var p = {\n            process: process,\n            port: port ? port.port : defaultPort\n        };\n        if (port && port.index != null) {\n            p.index = port.index;\n        }\n        return p;\n    }\n\n      function makeInPort(process, port) {\n          return makePort(process, port, defaultInPort);\n      }\n      function makeOutPort(process, port) {\n          return makePort(process, port, defaultOutPort);\n      }\n\n\n    peg$result = peg$startRuleFunction();\n\n    if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n      return peg$result;\n    } else {\n      if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n        peg$fail({ type: \"end\", description: \"end of input\" });\n      }\n\n      throw peg$buildException(\n        null,\n        peg$maxFailExpected,\n        peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n        peg$maxFailPos < input.length\n          ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n          : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n      );\n    }\n  }\n\n  return {\n    SyntaxError: peg$SyntaxError,\n    parse:       peg$parse\n  };\n})();","var indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nmodule.exports = function serialize(graph, options) {\n  var conn, getInOutName, getName, i, inPort, input, len, name, namedComponents, outPort, output, process, ref, ref1, ref2, src, srcName, srcPort, srcProcess, tgt, tgtName, tgtPort, tgtProcess;\n  if (options == null) {\n    options = {};\n  }\n  if (typeof(graph) === 'string') {\n    input = JSON.parse(graph);\n  } else {\n    input = graph;\n  }\n  namedComponents = [];\n  output = \"\";\n  getName = function(name) {\n    if (input.processes[name].metadata != null) {\n      name = input.processes[name].metadata.label;\n    }\n    if (name.indexOf('/') > -1) {\n      name = name.split('/').pop();\n    }\n    return name;\n  };\n  getInOutName = function(name, data) {\n    if ((data.process != null) && (input.processes[data.process].metadata != null)) {\n      name = input.processes[data.process].metadata.label;\n    } else if (data.process != null) {\n      name = data.process;\n    }\n    if (name.indexOf('/') > -1) {\n      name = name.split('/').pop();\n    }\n    return name;\n  };\n  if (input.properties) {\n    if (input.properties.environment && input.properties.environment.type) {\n      output += \"# @runtime \" + input.properties.environment.type + \"\\n\";\n    }\n    Object.keys(input.properties).forEach(function (prop) {\n      if (!prop.match(/^[a-zA-Z0-9\\-_]+$/)) {\n        return;\n      }\n      var propval = input.properties[prop];\n      if (typeof propval !== 'string') {\n        return;\n      }\n      if (!propval.match(/^[a-zA-Z0-9\\-_\\s\\.]+$/)) {\n        return;\n      }\n      output += \"# @\" + prop + \" \" + propval + '\\n';\n    });\n  }\n  ref = input.inports;\n  for (name in ref) {\n    inPort = ref[name];\n    process = getInOutName(name, inPort);\n    name = input.caseSensitive ? name : name.toUpperCase();\n    inPort.port = input.caseSensitive ? inPort.port : inPort.port.toUpperCase();\n    output += \"INPORT=\" + process + \".\" + inPort.port + \":\" + name + \"\\n\";\n  }\n  ref1 = input.outports;\n  for (name in ref1) {\n    outPort = ref1[name];\n    process = getInOutName(name, outPort);\n    name = input.caseSensitive ? name : name.toUpperCase();\n    outPort.port = input.caseSensitive ? outPort.port : outPort.port.toUpperCase();\n    output += \"OUTPORT=\" + process + \".\" + outPort.port + \":\" + name + \"\\n\";\n  }\n  output += \"\\n\";\n  ref2 = input.connections;\n  for (i = 0, len = ref2.length; i < len; i++) {\n    conn = ref2[i];\n    if (conn.data != null) {\n      tgtPort = input.caseSensitive ? conn.tgt.port : conn.tgt.port.toUpperCase();\n      tgtName = conn.tgt.process;\n      tgtProcess = input.processes[tgtName].component;\n      tgt = getName(tgtName);\n      if (indexOf.call(namedComponents, tgtProcess) < 0) {\n        tgt += \"(\" + tgtProcess + \")\";\n        namedComponents.push(tgtProcess);\n      }\n      output += '\"' + conn.data + '\"' + (\" -> \" + tgtPort + \" \" + tgt + \"\\n\");\n    } else {\n      srcPort = input.caseSensitive ? conn.src.port : conn.src.port.toUpperCase();\n      srcName = conn.src.process;\n      srcProcess = input.processes[srcName].component;\n      src = getName(srcName);\n      if (indexOf.call(namedComponents, srcProcess) < 0) {\n        src += \"(\" + srcProcess + \")\";\n        namedComponents.push(srcProcess);\n      }\n      tgtPort = input.caseSensitive ? conn.tgt.port : conn.tgt.port.toUpperCase();\n      tgtName = conn.tgt.process;\n      tgtProcess = input.processes[tgtName].component;\n      tgt = getName(tgtName);\n      if (indexOf.call(namedComponents, tgtProcess) < 0) {\n        tgt += \"(\" + tgtProcess + \")\";\n        namedComponents.push(tgtProcess);\n      }\n      output += src + \" \" + srcPort + \" -> \" + tgtPort + \" \" + tgt + \"\\n\";\n    }\n  }\n  return output;\n}\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Graph = exports.Journal = exports.graph = exports.journal = void 0;\nconst journal = require(\"./Journal\");\nexports.journal = journal;\nconst graph = require(\"./Graph\");\nexports.graph = graph;\nvar Journal_1 = require(\"./Journal\");\nObject.defineProperty(exports, \"Journal\", { enumerable: true, get: function () { return Journal_1.Journal; } });\nvar Graph_1 = require(\"./Graph\");\nObject.defineProperty(exports, \"Graph\", { enumerable: true, get: function () { return Graph_1.Graph; } });\n//# sourceMappingURL=index.js.map","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst JournalStore_1 = require(\"./JournalStore\");\n/**\n * In-memory journal storage\n *\n */\nclass MemoryJournalStore extends JournalStore_1.default {\n    constructor(graph) {\n        super(graph);\n        this.transactions = [];\n    }\n    countTransactions() {\n        return this.transactions.length;\n    }\n    putTransaction(revId, entries) {\n        super.putTransaction(revId, entries);\n        this.transactions[revId] = entries;\n    }\n    fetchTransaction(revId) {\n        return this.transactions[revId];\n    }\n}\nexports.default = MemoryJournalStore;\n//# sourceMappingURL=MemoryJournalStore.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isBrowser = void 0;\n//     NoFlo - Flow-Based Programming for JavaScript\n//     (c) 2014-2017 Flowhub UG\n//     NoFlo may be freely distributed under the MIT license\n//\n// Platform detection method\n/* eslint-env browser, node */\nfunction isBrowser() {\n    if ((typeof process !== 'undefined') && process.execPath && process.execPath.match(/node|iojs/)) {\n        return false;\n    }\n    return true;\n}\nexports.isBrowser = isBrowser;\n;\n//# sourceMappingURL=Platform.js.map","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","var parser = require('./fbp');\nvar serialize = require('./serialize');\n\nmodule.exports = {\n  SyntaxError: parser.SyntaxError,\n  parse: parser.parse,\n  serialize: serialize,\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}"],"sourceRoot":""}