{"version":3,"sources":["webpack:///./node_modules/events/events.js","webpack:///./node_modules/tv4/tv4.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js","webpack:///../src/JournalStore.ts","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/fbp/lib/fbp.js","webpack:///./node_modules/fbp/lib/serialize.js","webpack:///./node_modules/path-browserify/index.js","webpack:///(webpack)/buildin/global.js","webpack:///../src/Journal.ts","webpack:///../src/MemoryJournalStore.ts","webpack:///../src/Graph.ts","webpack:///../src/Platform.ts","webpack:///../src/index.ts","webpack:///./node_modules/clone/clone.js","webpack:///./node_modules/node-libs-browser/node_modules/buffer/index.js","webpack:///./node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/fbp/lib/index.js","webpack:///./node_modules/object-assign/index.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/uuid/dist/esm-browser/rng.js"],"names":["ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","this","module","exports","once","emitter","name","Promise","resolve","reject","eventListener","undefined","errorListener","removeListener","slice","arguments","err","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","create","newListener","emit","unshift","push","length","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","defineProperty","enumerable","get","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","handler","len","listeners","addListener","on","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","hasOwnProperty","hasDontEnumBug","dontEnums","dontEnumsLength","toString","propertyIsEnumerable","obj","result","prop","F","o","isArray","vArg","indexOf","searchElement","t","Infinity","Math","floor","abs","k","max","isFrozen","random","e","uriTemplateGlobalModifiers","uriTemplateSuffices","notReallyPercentEncode","string","encodeURI","replace","doubleEncoded","substring","uriTemplateSubstitution","spec","modifier","charAt","separator","prefix","shouldEscape","showVariables","trimEmptyString","varNames","varList","split","varSpecs","varSpecMap","varName","truncate","parts","parseInt","suffices","varSpec","subFunction","valueFunction","startIndex","j","encodeURIComponent","first","substitution","UriTemplate","template","textParts","prefixes","substitutions","part","remainder","funcs","fill","fillFromObject","ValidatorContext","parent","collectMultiple","errorReporter","checkRecursive","trackUnknownProperties","missing","missingMap","formatValidators","schemas","errors","handleError","collectError","returnError","scanned","scannedFrozen","scannedFrozenSchemas","scannedFrozenValidationErrors","validatedSchemasKey","validationErrorsKey","knownPropertyPaths","unknownPropertyPaths","defaultErrorReporter","definedKeywords","recursiveCompare","A","B","defineKeyword","keyword","keywordFunction","createError","code","messageParams","dataPath","schemaPath","subErrors","data","schema","ValidationError","prefixErrors","prefixWith","banUnknownProperties","unknownPath","ErrorCodes","UNKNOWN_PROPERTY","path","addFormat","format","validator","resolveRefs","urlHistory","CIRCULAR_REFERENCE","urls","join","getSchema","url","baseUrl","fragment","pointerPath","decodeURIComponent","component","searchSchemas","id","testUrl","isTrustedUrl","uri","getDocumentUri","addSchema","normSchema","getSchemaMap","map","getSchemaUris","filterRegExp","test","getMissingUris","dropSchemas","reset","validateAll","dataPathParts","schemaPathParts","dataPointerPath","topLevel","frozenIndex","startErrorCount","scannedFrozenSchemaIndex","scannedSchemasIndex","schemaIndex","frozenSchemaIndex","configurable","errorCount","validateBasic","validateNumeric","validateString","validateArray","validateObject","validateCombinations","validateHypermedia","validateFormat","validateDefinedKeywords","dataPart","schemaPart","errorMessage","FORMAT_CUSTOM","validationFunctions","func","KEYWORD_CUSTOM","validateType","validateEnum","dataType","allowedTypes","INVALID_TYPE","expected","ENUM_MISMATCH","JSON","stringify","validateMultipleOf","validateMinMax","validateNaN","CLOSE_ENOUGH_LOW","pow","CLOSE_ENOUGH_HIGH","parseURI","match","href","protocol","authority","host","hostname","port","pathname","search","hash","resolveUrl","base","input","lastIndexOf","output","p","baseUri","language","errorMessages","languages","messageTemplate","ErrorMessagesDefault","params","whole","subValue","multipleOf","divisibleBy","NUMBER_MULTIPLE_OF","minimum","NUMBER_MINIMUM","exclusiveMinimum","NUMBER_MINIMUM_EXCLUSIVE","maximum","NUMBER_MAXIMUM","exclusiveMaximum","NUMBER_MAXIMUM_EXCLUSIVE","NUMBER_NOT_A_NUMBER","validateStringLength","validateStringPattern","minLength","STRING_LENGTH_SHORT","maxLength","STRING_LENGTH_LONG","pattern","RegExp","regexp","body","flags","literal","STRING_PATTERN","validateArrayLength","validateArrayUniqueItems","validateArrayItems","minItems","ARRAY_LENGTH_SHORT","maxItems","ARRAY_LENGTH_LONG","uniqueItems","ARRAY_UNIQUE","match1","match2","items","additionalItems","ARRAY_ADDITIONAL_ITEMS","validateObjectMinMaxProperties","validateObjectRequiredProperties","validateObjectProperties","validateObjectDependencies","minProperties","OBJECT_PROPERTIES_MINIMUM","propertyCount","maxProperties","OBJECT_PROPERTIES_MAXIMUM","required","OBJECT_REQUIRED","keyPointerPath","foundMatch","properties","patternProperties","patternKey","additionalProperties","OBJECT_ADDITIONAL_PROPERTIES","dependencies","depKey","dep","OBJECT_DEPENDENCY_KEY","requiredKey","validateAllOf","validateAnyOf","validateOneOf","validateNot","allOf","subSchema","anyOf","oldUnknownPropertyPaths","oldKnownPropertyPaths","errorAtEnd","knownKey","unknownKey","ANY_OF_MISSING","oneOf","validIndex","ONE_OF_MULTIPLE","index1","index2","ONE_OF_MISSING","not","oldErrorCount","notErrors","NOT_PASSED","links","ldo","rel","allPresent","ErrorCodeLookup","stack","stacktrace","constructor","dataPrefix","schemaPrefix","tv4","createApi","currentLanguage","customErrorReporter","globalContext","api","setErrorReporter","reporter","addLanguage","messageMap","rootCode","freshApi","validate","def","valid","validateResult","validateMultiple","defineError","codeName","codeNumber","defaultMessage","langCode","errorCodes","options","buf","offset","rnds","rng","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","Arr","_byteLength","curByte","revLookup","charCodeAt","fromByteArray","uint8","extraBytes","len2","encodeChunk","lookup","Uint8Array","start","end","num","read","buffer","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","d","s","NaN","write","c","rt","log","LN2","peg$SyntaxError","found","location","captureStackTrace","child","ctor","peg$subclass","SyntaxError","parse","peg$result","nodes","parser","peg$FAILED","peg$startRuleFunctions","peg$parsestart","peg$startRuleFunction","peg$c0","getResult","peg$c1","peg$c2","description","peg$c3","peg$c4","peg$c5","peg$c6","peg$c7","node","pub","registerInports","peg$c8","peg$c9","peg$c10","registerOutports","peg$c11","peg$c12","peg$c13","defaultInPort","peg$c14","peg$c15","peg$c16","defaultOutPort","peg$c17","annotation","registerAnnotation","peg$c18","edges","registerEdges","peg$c19","peg$c20","peg$c21","peg$c22","peg$c23","peg$c24","peg$c25","peg$c26","peg$c27","x","y","peg$c28","proc","makeInPort","makeOutPort","peg$c29","peg$c30","peg$c31","peg$c32","peg$c33","iip","peg$c34","peg$c35","peg$c36","peg$c37","peg$c38","peg$c39","peg$c40","makeName","peg$c41","comp","addNode","peg$c42","addAnonymousNode","peg$c43","peg$c44","peg$c45","peg$c46","peg$c47","peg$c48","peg$c49","meta","peg$c50","peg$c51","peg$c52","peg$c53","peg$c54","peg$c55","peg$c56","peg$c57","peg$c58","peg$c59","peg$c60","portname","portindex","caseSensitive","toLowerCase","peg$c61","peg$c62","peg$c63","peg$c64","peg$c65","peg$c66","peg$c67","peg$c68","peg$c69","peg$c70","peg$c71","peg$c72","peg$c73","peg$c74","peg$c75","peg$c76","peg$c77","peg$c78","peg$c79","peg$c80","peg$c81","peg$c82","peg$c83","peg$c84","peg$c85","peg$c86","peg$c87","peg$c88","peg$c89","peg$c90","peg$c91","peg$c92","peg$c93","peg$c94","peg$c95","peg$c96","peg$c97","peg$c98","peg$c99","peg$c100","head","peg$c101","tail","peg$c102","members","peg$c103","peg$c104","v","peg$c105","peg$c106","values","peg$c107","peg$c108","parseFloat","text","peg$c109","peg$c110","peg$c111","peg$c112","peg$c113","peg$c114","peg$c115","peg$c116","peg$c117","peg$c118","peg$c119","peg$c120","chars","peg$c121","peg$c122","peg$c123","peg$c124","peg$c125","peg$c126","peg$c127","peg$c128","peg$c129","peg$c130","peg$c131","peg$c132","peg$c133","peg$c134","peg$c135","peg$c136","peg$c137","peg$c138","peg$c139","peg$c140","peg$c141","peg$c142","peg$c143","peg$c144","digits","fromCharCode","peg$c145","sequence","peg$c146","peg$c147","peg$c148","peg$c149","peg$currPos","peg$savedPos","peg$posDetailsCache","line","column","seenCR","peg$maxFailPos","peg$maxFailExpected","peg$silentFails","startRule","peg$computeLocation","peg$computePosDetails","pos","ch","details","startPos","endPos","startPosDetails","endPosDetails","peg$fail","peg$buildException","sort","a","b","splice","cleanupExpected","expectedDescs","hex","toUpperCase","stringEscape","buildMessage","s0","s1","s2","peg$parseline","s3","s4","s5","s6","s7","s9","peg$parse_","substr","peg$parsenode","peg$parseportName","peg$parseLineTerminator","peg$parseannotation","peg$parsenewline","peg$parsecomment","peg$parseconnection","peg$parseanychar","peg$parsesource","peg$parsedestination","peg$parsebridge","peg$parseoutport","peg$parseiip","peg$parseinport","peg$parseport__","peg$parse__port","peg$parsenodeWithComponent","peg$parseiipchar","peg$parseJSON_text","peg$parsenodeNameAndComponent","peg$parsenodeName","peg$parsenodeComponent","peg$parsecomponent","peg$parsecompMeta","peg$parse__","peg$parseport","peg$parseportIndex","peg$parsews","peg$parsevalue","peg$parsebegin_array","peg$parsebegin_object","peg$parseend_array","peg$parseend_object","peg$parsename_separator","peg$parsevalue_separator","peg$parsefalse","peg$parsenull","peg$parsetrue","peg$parseobject","peg$parsearray","peg$parsenumber","peg$parsestring","peg$parsemember","peg$parseminus","peg$parseint","peg$parsefrac","peg$parseexp","peg$parsedecimal_point","peg$parsedigit1_9","peg$parsee","peg$parseplus","peg$parseDIGIT","peg$parsezero","peg$parsequotation_mark","peg$parsechar","s8","peg$parseunescaped","peg$parseescape","peg$parseHEXDIG","inports","outports","groups","validateContents","graph","processes","forEach","portDef","process","connections","edge","tgt","src","nodeName","metadata","item","anonymousIndexes","anonymousNodeNames","componentName","processEdges","validateSchema","validation","flatten","array","isShallow","makePort","defaultPort","environment","flats","grouped","l","conn","getInOutName","getName","inPort","namedComponents","outPort","ref","ref1","ref2","srcName","srcPort","srcProcess","tgtName","tgtPort","tgtProcess","label","propval","normalizeArray","allowAboveRoot","up","last","filter","xs","f","res","resolvedPath","resolvedAbsolute","cwd","normalize","isAbsolute","trailingSlash","paths","relative","from","to","trim","fromParts","toParts","min","samePartsLength","outputParts","sep","delimiter","dirname","hasRoot","matchedSlash","basename","ext","extname","startDot","startPart","preDotState","str","g","window","entry","setMeta","_instanceof","nativeMap","nativeSet","nativePromise","Map","_","Set","clone","circular","depth","includeNonEnumerable","allParents","allChildren","useBuffer","Buffer","_clone","proto","then","__isArray","__isRegExp","source","__getRegExpFlags","lastIndex","__isDate","Date","getTime","isBuffer","allocUnsafe","keyChild","valueChild","entryChild","add","attrs","getOwnPropertyDescriptor","symbols","symbol","descriptor","allPropertyNames","propertyName","__objToStr","re","global","ignoreCase","multiline","clonePrototype","base64","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","__proto__","encodingOrOffset","ArrayBuffer","byteOffset","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","fromString","checked","val","fromObject","assertSize","size","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","Symbol","species","allocUnsafeSlow","_isBuffer","compare","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","out","toHex","bytes","checkOffset","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","leadSurrogate","stringtrim","base64clean","dst","byteToHex","uuid","serialize","propIsEnumerable","toObject","assign","test1","test2","test3","letter","shouldUseNative","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","env","argv","version","versions","binding","chdir","umask","getRandomValues","crypto","msCrypto","rnds8"],"mappings":"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","file":"vendors~backend~ui.94944259c56a0617af61.min.js","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","/*\r\nAuthor: Geraint Luff and others\r\nYear: 2013\r\n\r\nThis code is released into the \"public domain\" by its author(s).  Anybody may use, alter and distribute the code without restriction.  The author makes no guarantees, and takes no liability of any kind for use of this code.\r\n\r\nIf you find a bug or make an improvement, it would be courteous to let the author know, but it is not compulsory.\r\n*/\r\n(function (global, factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n    // AMD. Register as an anonymous module.\r\n    define([], factory);\r\n  } else if (typeof module !== 'undefined' && module.exports){\r\n    // CommonJS. Define export.\r\n    module.exports = factory();\r\n  } else {\r\n    // Browser globals\r\n    global.tv4 = factory();\r\n  }\r\n}(this, function () {\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FObject%2Fkeys\r\nif (!Object.keys) {\r\n\tObject.keys = (function () {\r\n\t\tvar hasOwnProperty = Object.prototype.hasOwnProperty,\r\n\t\t\thasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),\r\n\t\t\tdontEnums = [\r\n\t\t\t\t'toString',\r\n\t\t\t\t'toLocaleString',\r\n\t\t\t\t'valueOf',\r\n\t\t\t\t'hasOwnProperty',\r\n\t\t\t\t'isPrototypeOf',\r\n\t\t\t\t'propertyIsEnumerable',\r\n\t\t\t\t'constructor'\r\n\t\t\t],\r\n\t\t\tdontEnumsLength = dontEnums.length;\r\n\r\n\t\treturn function (obj) {\r\n\t\t\tif (typeof obj !== 'object' && typeof obj !== 'function' || obj === null) {\r\n\t\t\t\tthrow new TypeError('Object.keys called on non-object');\r\n\t\t\t}\r\n\r\n\t\t\tvar result = [];\r\n\r\n\t\t\tfor (var prop in obj) {\r\n\t\t\t\tif (hasOwnProperty.call(obj, prop)) {\r\n\t\t\t\t\tresult.push(prop);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (hasDontEnumBug) {\r\n\t\t\t\tfor (var i=0; i < dontEnumsLength; i++) {\r\n\t\t\t\t\tif (hasOwnProperty.call(obj, dontEnums[i])) {\r\n\t\t\t\t\t\tresult.push(dontEnums[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t};\r\n\t})();\r\n}\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\r\nif (!Object.create) {\r\n\tObject.create = (function(){\r\n\t\tfunction F(){}\r\n\r\n\t\treturn function(o){\r\n\t\t\tif (arguments.length !== 1) {\r\n\t\t\t\tthrow new Error('Object.create implementation only accepts one parameter.');\r\n\t\t\t}\r\n\t\t\tF.prototype = o;\r\n\t\t\treturn new F();\r\n\t\t};\r\n\t})();\r\n}\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FisArray\r\nif(!Array.isArray) {\r\n\tArray.isArray = function (vArg) {\r\n\t\treturn Object.prototype.toString.call(vArg) === \"[object Array]\";\r\n\t};\r\n}\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FindexOf\r\nif (!Array.prototype.indexOf) {\r\n\tArray.prototype.indexOf = function (searchElement /*, fromIndex */ ) {\r\n\t\tif (this === null) {\r\n\t\t\tthrow new TypeError();\r\n\t\t}\r\n\t\tvar t = Object(this);\r\n\t\tvar len = t.length >>> 0;\r\n\r\n\t\tif (len === 0) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\tvar n = 0;\r\n\t\tif (arguments.length > 1) {\r\n\t\t\tn = Number(arguments[1]);\r\n\t\t\tif (n !== n) { // shortcut for verifying if it's NaN\r\n\t\t\t\tn = 0;\r\n\t\t\t} else if (n !== 0 && n !== Infinity && n !== -Infinity) {\r\n\t\t\t\tn = (n > 0 || -1) * Math.floor(Math.abs(n));\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (n >= len) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\tvar k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);\r\n\t\tfor (; k < len; k++) {\r\n\t\t\tif (k in t && t[k] === searchElement) {\r\n\t\t\t\treturn k;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t};\r\n}\r\n\r\n// Grungey Object.isFrozen hack\r\nif (!Object.isFrozen) {\r\n\tObject.isFrozen = function (obj) {\r\n\t\tvar key = \"tv4_test_frozen_key\";\r\n\t\twhile (obj.hasOwnProperty(key)) {\r\n\t\t\tkey += Math.random();\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tobj[key] = true;\r\n\t\t\tdelete obj[key];\r\n\t\t\treturn false;\r\n\t\t} catch (e) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t};\r\n}\r\n// Based on: https://github.com/geraintluff/uri-templates, but with all the de-substitution stuff removed\r\n\r\nvar uriTemplateGlobalModifiers = {\r\n\t\"+\": true,\r\n\t\"#\": true,\r\n\t\".\": true,\r\n\t\"/\": true,\r\n\t\";\": true,\r\n\t\"?\": true,\r\n\t\"&\": true\r\n};\r\nvar uriTemplateSuffices = {\r\n\t\"*\": true\r\n};\r\n\r\nfunction notReallyPercentEncode(string) {\r\n\treturn encodeURI(string).replace(/%25[0-9][0-9]/g, function (doubleEncoded) {\r\n\t\treturn \"%\" + doubleEncoded.substring(3);\r\n\t});\r\n}\r\n\r\nfunction uriTemplateSubstitution(spec) {\r\n\tvar modifier = \"\";\r\n\tif (uriTemplateGlobalModifiers[spec.charAt(0)]) {\r\n\t\tmodifier = spec.charAt(0);\r\n\t\tspec = spec.substring(1);\r\n\t}\r\n\tvar separator = \"\";\r\n\tvar prefix = \"\";\r\n\tvar shouldEscape = true;\r\n\tvar showVariables = false;\r\n\tvar trimEmptyString = false;\r\n\tif (modifier === '+') {\r\n\t\tshouldEscape = false;\r\n\t} else if (modifier === \".\") {\r\n\t\tprefix = \".\";\r\n\t\tseparator = \".\";\r\n\t} else if (modifier === \"/\") {\r\n\t\tprefix = \"/\";\r\n\t\tseparator = \"/\";\r\n\t} else if (modifier === '#') {\r\n\t\tprefix = \"#\";\r\n\t\tshouldEscape = false;\r\n\t} else if (modifier === ';') {\r\n\t\tprefix = \";\";\r\n\t\tseparator = \";\";\r\n\t\tshowVariables = true;\r\n\t\ttrimEmptyString = true;\r\n\t} else if (modifier === '?') {\r\n\t\tprefix = \"?\";\r\n\t\tseparator = \"&\";\r\n\t\tshowVariables = true;\r\n\t} else if (modifier === '&') {\r\n\t\tprefix = \"&\";\r\n\t\tseparator = \"&\";\r\n\t\tshowVariables = true;\r\n\t}\r\n\r\n\tvar varNames = [];\r\n\tvar varList = spec.split(\",\");\r\n\tvar varSpecs = [];\r\n\tvar varSpecMap = {};\r\n\tfor (var i = 0; i < varList.length; i++) {\r\n\t\tvar varName = varList[i];\r\n\t\tvar truncate = null;\r\n\t\tif (varName.indexOf(\":\") !== -1) {\r\n\t\t\tvar parts = varName.split(\":\");\r\n\t\t\tvarName = parts[0];\r\n\t\t\ttruncate = parseInt(parts[1], 10);\r\n\t\t}\r\n\t\tvar suffices = {};\r\n\t\twhile (uriTemplateSuffices[varName.charAt(varName.length - 1)]) {\r\n\t\t\tsuffices[varName.charAt(varName.length - 1)] = true;\r\n\t\t\tvarName = varName.substring(0, varName.length - 1);\r\n\t\t}\r\n\t\tvar varSpec = {\r\n\t\t\ttruncate: truncate,\r\n\t\t\tname: varName,\r\n\t\t\tsuffices: suffices\r\n\t\t};\r\n\t\tvarSpecs.push(varSpec);\r\n\t\tvarSpecMap[varName] = varSpec;\r\n\t\tvarNames.push(varName);\r\n\t}\r\n\tvar subFunction = function (valueFunction) {\r\n\t\tvar result = \"\";\r\n\t\tvar startIndex = 0;\r\n\t\tfor (var i = 0; i < varSpecs.length; i++) {\r\n\t\t\tvar varSpec = varSpecs[i];\r\n\t\t\tvar value = valueFunction(varSpec.name);\r\n\t\t\tif (value === null || value === undefined || (Array.isArray(value) && value.length === 0) || (typeof value === 'object' && Object.keys(value).length === 0)) {\r\n\t\t\t\tstartIndex++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (i === startIndex) {\r\n\t\t\t\tresult += prefix;\r\n\t\t\t} else {\r\n\t\t\t\tresult += (separator || \",\");\r\n\t\t\t}\r\n\t\t\tif (Array.isArray(value)) {\r\n\t\t\t\tif (showVariables) {\r\n\t\t\t\t\tresult += varSpec.name + \"=\";\r\n\t\t\t\t}\r\n\t\t\t\tfor (var j = 0; j < value.length; j++) {\r\n\t\t\t\t\tif (j > 0) {\r\n\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\r\n\t\t\t\t\t\tif (varSpec.suffices['*'] && showVariables) {\r\n\t\t\t\t\t\t\tresult += varSpec.name + \"=\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[j]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[j]);\r\n\t\t\t\t}\r\n\t\t\t} else if (typeof value === \"object\") {\r\n\t\t\t\tif (showVariables && !varSpec.suffices['*']) {\r\n\t\t\t\t\tresult += varSpec.name + \"=\";\r\n\t\t\t\t}\r\n\t\t\t\tvar first = true;\r\n\t\t\t\tfor (var key in value) {\r\n\t\t\t\t\tif (!first) {\r\n\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfirst = false;\r\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(key).replace(/!/g, \"%21\") : notReallyPercentEncode(key);\r\n\t\t\t\t\tresult += varSpec.suffices['*'] ? '=' : \",\";\r\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[key]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[key]);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (showVariables) {\r\n\t\t\t\t\tresult += varSpec.name;\r\n\t\t\t\t\tif (!trimEmptyString || value !== \"\") {\r\n\t\t\t\t\t\tresult += \"=\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (varSpec.truncate != null) {\r\n\t\t\t\t\tvalue = value.substring(0, varSpec.truncate);\r\n\t\t\t\t}\r\n\t\t\t\tresult += shouldEscape ? encodeURIComponent(value).replace(/!/g, \"%21\"): notReallyPercentEncode(value);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tsubFunction.varNames = varNames;\r\n\treturn {\r\n\t\tprefix: prefix,\r\n\t\tsubstitution: subFunction\r\n\t};\r\n}\r\n\r\nfunction UriTemplate(template) {\r\n\tif (!(this instanceof UriTemplate)) {\r\n\t\treturn new UriTemplate(template);\r\n\t}\r\n\tvar parts = template.split(\"{\");\r\n\tvar textParts = [parts.shift()];\r\n\tvar prefixes = [];\r\n\tvar substitutions = [];\r\n\tvar varNames = [];\r\n\twhile (parts.length > 0) {\r\n\t\tvar part = parts.shift();\r\n\t\tvar spec = part.split(\"}\")[0];\r\n\t\tvar remainder = part.substring(spec.length + 1);\r\n\t\tvar funcs = uriTemplateSubstitution(spec);\r\n\t\tsubstitutions.push(funcs.substitution);\r\n\t\tprefixes.push(funcs.prefix);\r\n\t\ttextParts.push(remainder);\r\n\t\tvarNames = varNames.concat(funcs.substitution.varNames);\r\n\t}\r\n\tthis.fill = function (valueFunction) {\r\n\t\tvar result = textParts[0];\r\n\t\tfor (var i = 0; i < substitutions.length; i++) {\r\n\t\t\tvar substitution = substitutions[i];\r\n\t\t\tresult += substitution(valueFunction);\r\n\t\t\tresult += textParts[i + 1];\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tthis.varNames = varNames;\r\n\tthis.template = template;\r\n}\r\nUriTemplate.prototype = {\r\n\ttoString: function () {\r\n\t\treturn this.template;\r\n\t},\r\n\tfillFromObject: function (obj) {\r\n\t\treturn this.fill(function (varName) {\r\n\t\t\treturn obj[varName];\r\n\t\t});\r\n\t}\r\n};\r\nvar ValidatorContext = function ValidatorContext(parent, collectMultiple, errorReporter, checkRecursive, trackUnknownProperties) {\r\n\tthis.missing = [];\r\n\tthis.missingMap = {};\r\n\tthis.formatValidators = parent ? Object.create(parent.formatValidators) : {};\r\n\tthis.schemas = parent ? Object.create(parent.schemas) : {};\r\n\tthis.collectMultiple = collectMultiple;\r\n\tthis.errors = [];\r\n\tthis.handleError = collectMultiple ? this.collectError : this.returnError;\r\n\tif (checkRecursive) {\r\n\t\tthis.checkRecursive = true;\r\n\t\tthis.scanned = [];\r\n\t\tthis.scannedFrozen = [];\r\n\t\tthis.scannedFrozenSchemas = [];\r\n\t\tthis.scannedFrozenValidationErrors = [];\r\n\t\tthis.validatedSchemasKey = 'tv4_validation_id';\r\n\t\tthis.validationErrorsKey = 'tv4_validation_errors_id';\r\n\t}\r\n\tif (trackUnknownProperties) {\r\n\t\tthis.trackUnknownProperties = true;\r\n\t\tthis.knownPropertyPaths = {};\r\n\t\tthis.unknownPropertyPaths = {};\r\n\t}\r\n\tthis.errorReporter = errorReporter || defaultErrorReporter('en');\r\n\tif (typeof this.errorReporter === 'string') {\r\n\t\tthrow new Error('debug');\r\n\t}\r\n\tthis.definedKeywords = {};\r\n\tif (parent) {\r\n\t\tfor (var key in parent.definedKeywords) {\r\n\t\t\tthis.definedKeywords[key] = parent.definedKeywords[key].slice(0);\r\n\t\t}\r\n\t}\r\n};\r\nValidatorContext.prototype.defineKeyword = function (keyword, keywordFunction) {\r\n\tthis.definedKeywords[keyword] = this.definedKeywords[keyword] || [];\r\n\tthis.definedKeywords[keyword].push(keywordFunction);\r\n};\r\nValidatorContext.prototype.createError = function (code, messageParams, dataPath, schemaPath, subErrors, data, schema) {\r\n\tvar error = new ValidationError(code, messageParams, dataPath, schemaPath, subErrors);\r\n\terror.message = this.errorReporter(error, data, schema);\r\n\treturn error;\r\n};\r\nValidatorContext.prototype.returnError = function (error) {\r\n\treturn error;\r\n};\r\nValidatorContext.prototype.collectError = function (error) {\r\n\tif (error) {\r\n\t\tthis.errors.push(error);\r\n\t}\r\n\treturn null;\r\n};\r\nValidatorContext.prototype.prefixErrors = function (startIndex, dataPath, schemaPath) {\r\n\tfor (var i = startIndex; i < this.errors.length; i++) {\r\n\t\tthis.errors[i] = this.errors[i].prefixWith(dataPath, schemaPath);\r\n\t}\r\n\treturn this;\r\n};\r\nValidatorContext.prototype.banUnknownProperties = function (data, schema) {\r\n\tfor (var unknownPath in this.unknownPropertyPaths) {\r\n\t\tvar error = this.createError(ErrorCodes.UNKNOWN_PROPERTY, {path: unknownPath}, unknownPath, \"\", null, data, schema);\r\n\t\tvar result = this.handleError(error);\r\n\t\tif (result) {\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.addFormat = function (format, validator) {\r\n\tif (typeof format === 'object') {\r\n\t\tfor (var key in format) {\r\n\t\t\tthis.addFormat(key, format[key]);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\tthis.formatValidators[format] = validator;\r\n};\r\nValidatorContext.prototype.resolveRefs = function (schema, urlHistory) {\r\n\tif (schema['$ref'] !== undefined) {\r\n\t\turlHistory = urlHistory || {};\r\n\t\tif (urlHistory[schema['$ref']]) {\r\n\t\t\treturn this.createError(ErrorCodes.CIRCULAR_REFERENCE, {urls: Object.keys(urlHistory).join(', ')}, '', '', null, undefined, schema);\r\n\t\t}\r\n\t\turlHistory[schema['$ref']] = true;\r\n\t\tschema = this.getSchema(schema['$ref'], urlHistory);\r\n\t}\r\n\treturn schema;\r\n};\r\nValidatorContext.prototype.getSchema = function (url, urlHistory) {\r\n\tvar schema;\r\n\tif (this.schemas[url] !== undefined) {\r\n\t\tschema = this.schemas[url];\r\n\t\treturn this.resolveRefs(schema, urlHistory);\r\n\t}\r\n\tvar baseUrl = url;\r\n\tvar fragment = \"\";\r\n\tif (url.indexOf('#') !== -1) {\r\n\t\tfragment = url.substring(url.indexOf(\"#\") + 1);\r\n\t\tbaseUrl = url.substring(0, url.indexOf(\"#\"));\r\n\t}\r\n\tif (typeof this.schemas[baseUrl] === 'object') {\r\n\t\tschema = this.schemas[baseUrl];\r\n\t\tvar pointerPath = decodeURIComponent(fragment);\r\n\t\tif (pointerPath === \"\") {\r\n\t\t\treturn this.resolveRefs(schema, urlHistory);\r\n\t\t} else if (pointerPath.charAt(0) !== \"/\") {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\tvar parts = pointerPath.split(\"/\").slice(1);\r\n\t\tfor (var i = 0; i < parts.length; i++) {\r\n\t\t\tvar component = parts[i].replace(/~1/g, \"/\").replace(/~0/g, \"~\");\r\n\t\t\tif (schema[component] === undefined) {\r\n\t\t\t\tschema = undefined;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tschema = schema[component];\r\n\t\t}\r\n\t\tif (schema !== undefined) {\r\n\t\t\treturn this.resolveRefs(schema, urlHistory);\r\n\t\t}\r\n\t}\r\n\tif (this.missing[baseUrl] === undefined) {\r\n\t\tthis.missing.push(baseUrl);\r\n\t\tthis.missing[baseUrl] = baseUrl;\r\n\t\tthis.missingMap[baseUrl] = baseUrl;\r\n\t}\r\n};\r\nValidatorContext.prototype.searchSchemas = function (schema, url) {\r\n\tif (Array.isArray(schema)) {\r\n\t\tfor (var i = 0; i < schema.length; i++) {\r\n\t\t\tthis.searchSchemas(schema[i], url);\r\n\t\t}\r\n\t} else if (schema && typeof schema === \"object\") {\r\n\t\tif (typeof schema.id === \"string\") {\r\n\t\t\tif (isTrustedUrl(url, schema.id)) {\r\n\t\t\t\tif (this.schemas[schema.id] === undefined) {\r\n\t\t\t\t\tthis.schemas[schema.id] = schema;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (var key in schema) {\r\n\t\t\tif (key !== \"enum\") {\r\n\t\t\t\tif (typeof schema[key] === \"object\") {\r\n\t\t\t\t\tthis.searchSchemas(schema[key], url);\r\n\t\t\t\t} else if (key === \"$ref\") {\r\n\t\t\t\t\tvar uri = getDocumentUri(schema[key]);\r\n\t\t\t\t\tif (uri && this.schemas[uri] === undefined && this.missingMap[uri] === undefined) {\r\n\t\t\t\t\t\tthis.missingMap[uri] = uri;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\nValidatorContext.prototype.addSchema = function (url, schema) {\r\n\t//overload\r\n\tif (typeof url !== 'string' || typeof schema === 'undefined') {\r\n\t\tif (typeof url === 'object' && typeof url.id === 'string') {\r\n\t\t\tschema = url;\r\n\t\t\turl = schema.id;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\tif (url === getDocumentUri(url) + \"#\") {\r\n\t\t// Remove empty fragment\r\n\t\turl = getDocumentUri(url);\r\n\t}\r\n\tthis.schemas[url] = schema;\r\n\tdelete this.missingMap[url];\r\n\tnormSchema(schema, url);\r\n\tthis.searchSchemas(schema, url);\r\n};\r\n\r\nValidatorContext.prototype.getSchemaMap = function () {\r\n\tvar map = {};\r\n\tfor (var key in this.schemas) {\r\n\t\tmap[key] = this.schemas[key];\r\n\t}\r\n\treturn map;\r\n};\r\n\r\nValidatorContext.prototype.getSchemaUris = function (filterRegExp) {\r\n\tvar list = [];\r\n\tfor (var key in this.schemas) {\r\n\t\tif (!filterRegExp || filterRegExp.test(key)) {\r\n\t\t\tlist.push(key);\r\n\t\t}\r\n\t}\r\n\treturn list;\r\n};\r\n\r\nValidatorContext.prototype.getMissingUris = function (filterRegExp) {\r\n\tvar list = [];\r\n\tfor (var key in this.missingMap) {\r\n\t\tif (!filterRegExp || filterRegExp.test(key)) {\r\n\t\t\tlist.push(key);\r\n\t\t}\r\n\t}\r\n\treturn list;\r\n};\r\n\r\nValidatorContext.prototype.dropSchemas = function () {\r\n\tthis.schemas = {};\r\n\tthis.reset();\r\n};\r\nValidatorContext.prototype.reset = function () {\r\n\tthis.missing = [];\r\n\tthis.missingMap = {};\r\n\tthis.errors = [];\r\n};\r\n\r\nValidatorContext.prototype.validateAll = function (data, schema, dataPathParts, schemaPathParts, dataPointerPath) {\r\n\tvar topLevel;\r\n\tschema = this.resolveRefs(schema);\r\n\tif (!schema) {\r\n\t\treturn null;\r\n\t} else if (schema instanceof ValidationError) {\r\n\t\tthis.errors.push(schema);\r\n\t\treturn schema;\r\n\t}\r\n\r\n\tvar startErrorCount = this.errors.length;\r\n\tvar frozenIndex, scannedFrozenSchemaIndex = null, scannedSchemasIndex = null;\r\n\tif (this.checkRecursive && data && typeof data === 'object') {\r\n\t\ttopLevel = !this.scanned.length;\r\n\t\tif (data[this.validatedSchemasKey]) {\r\n\t\t\tvar schemaIndex = data[this.validatedSchemasKey].indexOf(schema);\r\n\t\t\tif (schemaIndex !== -1) {\r\n\t\t\t\tthis.errors = this.errors.concat(data[this.validationErrorsKey][schemaIndex]);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (Object.isFrozen(data)) {\r\n\t\t\tfrozenIndex = this.scannedFrozen.indexOf(data);\r\n\t\t\tif (frozenIndex !== -1) {\r\n\t\t\t\tvar frozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].indexOf(schema);\r\n\t\t\t\tif (frozenSchemaIndex !== -1) {\r\n\t\t\t\t\tthis.errors = this.errors.concat(this.scannedFrozenValidationErrors[frozenIndex][frozenSchemaIndex]);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.scanned.push(data);\r\n\t\tif (Object.isFrozen(data)) {\r\n\t\t\tif (frozenIndex === -1) {\r\n\t\t\t\tfrozenIndex = this.scannedFrozen.length;\r\n\t\t\t\tthis.scannedFrozen.push(data);\r\n\t\t\t\tthis.scannedFrozenSchemas.push([]);\r\n\t\t\t}\r\n\t\t\tscannedFrozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].length;\r\n\t\t\tthis.scannedFrozenSchemas[frozenIndex][scannedFrozenSchemaIndex] = schema;\r\n\t\t\tthis.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = [];\r\n\t\t} else {\r\n\t\t\tif (!data[this.validatedSchemasKey]) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tObject.defineProperty(data, this.validatedSchemasKey, {\r\n\t\t\t\t\t\tvalue: [],\r\n\t\t\t\t\t\tconfigurable: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tObject.defineProperty(data, this.validationErrorsKey, {\r\n\t\t\t\t\t\tvalue: [],\r\n\t\t\t\t\t\tconfigurable: true\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t//IE 7/8 workaround\r\n\t\t\t\t\tdata[this.validatedSchemasKey] = [];\r\n\t\t\t\t\tdata[this.validationErrorsKey] = [];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tscannedSchemasIndex = data[this.validatedSchemasKey].length;\r\n\t\t\tdata[this.validatedSchemasKey][scannedSchemasIndex] = schema;\r\n\t\t\tdata[this.validationErrorsKey][scannedSchemasIndex] = [];\r\n\t\t}\r\n\t}\r\n\r\n\tvar errorCount = this.errors.length;\r\n\tvar error = this.validateBasic(data, schema, dataPointerPath)\r\n\t\t|| this.validateNumeric(data, schema, dataPointerPath)\r\n\t\t|| this.validateString(data, schema, dataPointerPath)\r\n\t\t|| this.validateArray(data, schema, dataPointerPath)\r\n\t\t|| this.validateObject(data, schema, dataPointerPath)\r\n\t\t|| this.validateCombinations(data, schema, dataPointerPath)\r\n\t\t|| this.validateHypermedia(data, schema, dataPointerPath)\r\n\t\t|| this.validateFormat(data, schema, dataPointerPath)\r\n\t\t|| this.validateDefinedKeywords(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n\r\n\tif (topLevel) {\r\n\t\twhile (this.scanned.length) {\r\n\t\t\tvar item = this.scanned.pop();\r\n\t\t\tdelete item[this.validatedSchemasKey];\r\n\t\t}\r\n\t\tthis.scannedFrozen = [];\r\n\t\tthis.scannedFrozenSchemas = [];\r\n\t}\r\n\r\n\tif (error || errorCount !== this.errors.length) {\r\n\t\twhile ((dataPathParts && dataPathParts.length) || (schemaPathParts && schemaPathParts.length)) {\r\n\t\t\tvar dataPart = (dataPathParts && dataPathParts.length) ? \"\" + dataPathParts.pop() : null;\r\n\t\t\tvar schemaPart = (schemaPathParts && schemaPathParts.length) ? \"\" + schemaPathParts.pop() : null;\r\n\t\t\tif (error) {\r\n\t\t\t\terror = error.prefixWith(dataPart, schemaPart);\r\n\t\t\t}\r\n\t\t\tthis.prefixErrors(errorCount, dataPart, schemaPart);\r\n\t\t}\r\n\t}\r\n\r\n\tif (scannedFrozenSchemaIndex !== null) {\r\n\t\tthis.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = this.errors.slice(startErrorCount);\r\n\t} else if (scannedSchemasIndex !== null) {\r\n\t\tdata[this.validationErrorsKey][scannedSchemasIndex] = this.errors.slice(startErrorCount);\r\n\t}\r\n\r\n\treturn this.handleError(error);\r\n};\r\nValidatorContext.prototype.validateFormat = function (data, schema) {\r\n\tif (typeof schema.format !== 'string' || !this.formatValidators[schema.format]) {\r\n\t\treturn null;\r\n\t}\r\n\tvar errorMessage = this.formatValidators[schema.format].call(null, data, schema);\r\n\tif (typeof errorMessage === 'string' || typeof errorMessage === 'number') {\r\n\t\treturn this.createError(ErrorCodes.FORMAT_CUSTOM, {message: errorMessage}, '', '/format', null, data, schema);\r\n\t} else if (errorMessage && typeof errorMessage === 'object') {\r\n\t\treturn this.createError(ErrorCodes.FORMAT_CUSTOM, {message: errorMessage.message || \"?\"}, errorMessage.dataPath || '', errorMessage.schemaPath || \"/format\", null, data, schema);\r\n\t}\r\n\treturn null;\r\n};\r\nValidatorContext.prototype.validateDefinedKeywords = function (data, schema, dataPointerPath) {\r\n\tfor (var key in this.definedKeywords) {\r\n\t\tif (typeof schema[key] === 'undefined') {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tvar validationFunctions = this.definedKeywords[key];\r\n\t\tfor (var i = 0; i < validationFunctions.length; i++) {\r\n\t\t\tvar func = validationFunctions[i];\r\n\t\t\tvar result = func(data, schema[key], schema, dataPointerPath);\r\n\t\t\tif (typeof result === 'string' || typeof result === 'number') {\r\n\t\t\t\treturn this.createError(ErrorCodes.KEYWORD_CUSTOM, {key: key, message: result}, '', '', null, data, schema).prefixWith(null, key);\r\n\t\t\t} else if (result && typeof result === 'object') {\r\n\t\t\t\tvar code = result.code;\r\n\t\t\t\tif (typeof code === 'string') {\r\n\t\t\t\t\tif (!ErrorCodes[code]) {\r\n\t\t\t\t\t\tthrow new Error('Undefined error code (use defineError): ' + code);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcode = ErrorCodes[code];\r\n\t\t\t\t} else if (typeof code !== 'number') {\r\n\t\t\t\t\tcode = ErrorCodes.KEYWORD_CUSTOM;\r\n\t\t\t\t}\r\n\t\t\t\tvar messageParams = (typeof result.message === 'object') ? result.message : {key: key, message: result.message || \"?\"};\r\n\t\t\t\tvar schemaPath = result.schemaPath || (\"/\" + key.replace(/~/g, '~0').replace(/\\//g, '~1'));\r\n\t\t\t\treturn this.createError(code, messageParams, result.dataPath || null, schemaPath, null, data, schema);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nfunction recursiveCompare(A, B) {\r\n\tif (A === B) {\r\n\t\treturn true;\r\n\t}\r\n\tif (A && B && typeof A === \"object\" && typeof B === \"object\") {\r\n\t\tif (Array.isArray(A) !== Array.isArray(B)) {\r\n\t\t\treturn false;\r\n\t\t} else if (Array.isArray(A)) {\r\n\t\t\tif (A.length !== B.length) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tfor (var i = 0; i < A.length; i++) {\r\n\t\t\t\tif (!recursiveCompare(A[i], B[i])) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar key;\r\n\t\t\tfor (key in A) {\r\n\t\t\t\tif (B[key] === undefined && A[key] !== undefined) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (key in B) {\r\n\t\t\t\tif (A[key] === undefined && B[key] !== undefined) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (key in A) {\r\n\t\t\t\tif (!recursiveCompare(A[key], B[key])) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nValidatorContext.prototype.validateBasic = function validateBasic(data, schema, dataPointerPath) {\r\n\tvar error;\r\n\tif (error = this.validateType(data, schema, dataPointerPath)) {\r\n\t\treturn error.prefixWith(null, \"type\");\r\n\t}\r\n\tif (error = this.validateEnum(data, schema, dataPointerPath)) {\r\n\t\treturn error.prefixWith(null, \"type\");\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateType = function validateType(data, schema) {\r\n\tif (schema.type === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar dataType = typeof data;\r\n\tif (data === null) {\r\n\t\tdataType = \"null\";\r\n\t} else if (Array.isArray(data)) {\r\n\t\tdataType = \"array\";\r\n\t}\r\n\tvar allowedTypes = schema.type;\r\n\tif (!Array.isArray(allowedTypes)) {\r\n\t\tallowedTypes = [allowedTypes];\r\n\t}\r\n\r\n\tfor (var i = 0; i < allowedTypes.length; i++) {\r\n\t\tvar type = allowedTypes[i];\r\n\t\tif (type === dataType || (type === \"integer\" && dataType === \"number\" && (data % 1 === 0))) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\treturn this.createError(ErrorCodes.INVALID_TYPE, {type: dataType, expected: allowedTypes.join(\"/\")}, '', '', null, data, schema);\r\n};\r\n\r\nValidatorContext.prototype.validateEnum = function validateEnum(data, schema) {\r\n\tif (schema[\"enum\"] === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tfor (var i = 0; i < schema[\"enum\"].length; i++) {\r\n\t\tvar enumVal = schema[\"enum\"][i];\r\n\t\tif (recursiveCompare(data, enumVal)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\treturn this.createError(ErrorCodes.ENUM_MISMATCH, {value: (typeof JSON !== 'undefined') ? JSON.stringify(data) : data}, '', '', null, data, schema);\r\n};\r\n\r\nValidatorContext.prototype.validateNumeric = function validateNumeric(data, schema, dataPointerPath) {\r\n\treturn this.validateMultipleOf(data, schema, dataPointerPath)\r\n\t\t|| this.validateMinMax(data, schema, dataPointerPath)\r\n\t\t|| this.validateNaN(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nvar CLOSE_ENOUGH_LOW = Math.pow(2, -51);\r\nvar CLOSE_ENOUGH_HIGH = 1 - CLOSE_ENOUGH_LOW;\r\nValidatorContext.prototype.validateMultipleOf = function validateMultipleOf(data, schema) {\r\n\tvar multipleOf = schema.multipleOf || schema.divisibleBy;\r\n\tif (multipleOf === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tif (typeof data === \"number\") {\r\n\t\tvar remainder = (data/multipleOf)%1;\r\n\t\tif (remainder >= CLOSE_ENOUGH_LOW && remainder < CLOSE_ENOUGH_HIGH) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MULTIPLE_OF, {value: data, multipleOf: multipleOf}, '', '', null, data, schema);\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateMinMax = function validateMinMax(data, schema) {\r\n\tif (typeof data !== \"number\") {\r\n\t\treturn null;\r\n\t}\r\n\tif (schema.minimum !== undefined) {\r\n\t\tif (data < schema.minimum) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MINIMUM, {value: data, minimum: schema.minimum}, '', '/minimum', null, data, schema);\r\n\t\t}\r\n\t\tif (schema.exclusiveMinimum && data === schema.minimum) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MINIMUM_EXCLUSIVE, {value: data, minimum: schema.minimum}, '', '/exclusiveMinimum', null, data, schema);\r\n\t\t}\r\n\t}\r\n\tif (schema.maximum !== undefined) {\r\n\t\tif (data > schema.maximum) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MAXIMUM, {value: data, maximum: schema.maximum}, '', '/maximum', null, data, schema);\r\n\t\t}\r\n\t\tif (schema.exclusiveMaximum && data === schema.maximum) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MAXIMUM_EXCLUSIVE, {value: data, maximum: schema.maximum}, '', '/exclusiveMaximum', null, data, schema);\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateNaN = function validateNaN(data, schema) {\r\n\tif (typeof data !== \"number\") {\r\n\t\treturn null;\r\n\t}\r\n\tif (isNaN(data) === true || data === Infinity || data === -Infinity) {\r\n\t\treturn this.createError(ErrorCodes.NUMBER_NOT_A_NUMBER, {value: data}, '', '/type', null, data, schema);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateString = function validateString(data, schema, dataPointerPath) {\r\n\treturn this.validateStringLength(data, schema, dataPointerPath)\r\n\t\t|| this.validateStringPattern(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nValidatorContext.prototype.validateStringLength = function validateStringLength(data, schema) {\r\n\tif (typeof data !== \"string\") {\r\n\t\treturn null;\r\n\t}\r\n\tif (schema.minLength !== undefined) {\r\n\t\tif (data.length < schema.minLength) {\r\n\t\t\treturn this.createError(ErrorCodes.STRING_LENGTH_SHORT, {length: data.length, minimum: schema.minLength}, '', '/minLength', null, data, schema);\r\n\t\t}\r\n\t}\r\n\tif (schema.maxLength !== undefined) {\r\n\t\tif (data.length > schema.maxLength) {\r\n\t\t\treturn this.createError(ErrorCodes.STRING_LENGTH_LONG, {length: data.length, maximum: schema.maxLength}, '', '/maxLength', null, data, schema);\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateStringPattern = function validateStringPattern(data, schema) {\r\n\tif (typeof data !== \"string\" || (typeof schema.pattern !== \"string\" && !(schema.pattern instanceof RegExp))) {\r\n\t\treturn null;\r\n\t}\r\n\tvar regexp;\r\n\tif (schema.pattern instanceof RegExp) {\r\n\t  regexp = schema.pattern;\r\n\t}\r\n\telse {\r\n\t  var body, flags = '';\r\n\t  // Check for regular expression literals\r\n\t  // @see http://www.ecma-international.org/ecma-262/5.1/#sec-7.8.5\r\n\t  var literal = schema.pattern.match(/^\\/(.+)\\/([img]*)$/);\r\n\t  if (literal) {\r\n\t    body = literal[1];\r\n\t    flags = literal[2];\r\n\t  }\r\n\t  else {\r\n\t    body = schema.pattern;\r\n\t  }\r\n\t  regexp = new RegExp(body, flags);\r\n\t}\r\n\tif (!regexp.test(data)) {\r\n\t\treturn this.createError(ErrorCodes.STRING_PATTERN, {pattern: schema.pattern}, '', '/pattern', null, data, schema);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateArray = function validateArray(data, schema, dataPointerPath) {\r\n\tif (!Array.isArray(data)) {\r\n\t\treturn null;\r\n\t}\r\n\treturn this.validateArrayLength(data, schema, dataPointerPath)\r\n\t\t|| this.validateArrayUniqueItems(data, schema, dataPointerPath)\r\n\t\t|| this.validateArrayItems(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nValidatorContext.prototype.validateArrayLength = function validateArrayLength(data, schema) {\r\n\tvar error;\r\n\tif (schema.minItems !== undefined) {\r\n\t\tif (data.length < schema.minItems) {\r\n\t\t\terror = this.createError(ErrorCodes.ARRAY_LENGTH_SHORT, {length: data.length, minimum: schema.minItems}, '', '/minItems', null, data, schema);\r\n\t\t\tif (this.handleError(error)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (schema.maxItems !== undefined) {\r\n\t\tif (data.length > schema.maxItems) {\r\n\t\t\terror = this.createError(ErrorCodes.ARRAY_LENGTH_LONG, {length: data.length, maximum: schema.maxItems}, '', '/maxItems', null, data, schema);\r\n\t\t\tif (this.handleError(error)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateArrayUniqueItems = function validateArrayUniqueItems(data, schema) {\r\n\tif (schema.uniqueItems) {\r\n\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\tfor (var j = i + 1; j < data.length; j++) {\r\n\t\t\t\tif (recursiveCompare(data[i], data[j])) {\r\n\t\t\t\t\tvar error = this.createError(ErrorCodes.ARRAY_UNIQUE, {match1: i, match2: j}, '', '/uniqueItems', null, data, schema);\r\n\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateArrayItems = function validateArrayItems(data, schema, dataPointerPath) {\r\n\tif (schema.items === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar error, i;\r\n\tif (Array.isArray(schema.items)) {\r\n\t\tfor (i = 0; i < data.length; i++) {\r\n\t\t\tif (i < schema.items.length) {\r\n\t\t\t\tif (error = this.validateAll(data[i], schema.items[i], [i], [\"items\", i], dataPointerPath + \"/\" + i)) {\r\n\t\t\t\t\treturn error;\r\n\t\t\t\t}\r\n\t\t\t} else if (schema.additionalItems !== undefined) {\r\n\t\t\t\tif (typeof schema.additionalItems === \"boolean\") {\r\n\t\t\t\t\tif (!schema.additionalItems) {\r\n\t\t\t\t\t\terror = (this.createError(ErrorCodes.ARRAY_ADDITIONAL_ITEMS, {}, '/' + i, '/additionalItems', null, data, schema));\r\n\t\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (error = this.validateAll(data[i], schema.additionalItems, [i], [\"additionalItems\"], dataPointerPath + \"/\" + i)) {\r\n\t\t\t\t\treturn error;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tfor (i = 0; i < data.length; i++) {\r\n\t\t\tif (error = this.validateAll(data[i], schema.items, [i], [\"items\"], dataPointerPath + \"/\" + i)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateObject = function validateObject(data, schema, dataPointerPath) {\r\n\tif (typeof data !== \"object\" || data === null || Array.isArray(data)) {\r\n\t\treturn null;\r\n\t}\r\n\treturn this.validateObjectMinMaxProperties(data, schema, dataPointerPath)\r\n\t\t|| this.validateObjectRequiredProperties(data, schema, dataPointerPath)\r\n\t\t|| this.validateObjectProperties(data, schema, dataPointerPath)\r\n\t\t|| this.validateObjectDependencies(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nValidatorContext.prototype.validateObjectMinMaxProperties = function validateObjectMinMaxProperties(data, schema) {\r\n\tvar keys = Object.keys(data);\r\n\tvar error;\r\n\tif (schema.minProperties !== undefined) {\r\n\t\tif (keys.length < schema.minProperties) {\r\n\t\t\terror = this.createError(ErrorCodes.OBJECT_PROPERTIES_MINIMUM, {propertyCount: keys.length, minimum: schema.minProperties}, '', '/minProperties', null, data, schema);\r\n\t\t\tif (this.handleError(error)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (schema.maxProperties !== undefined) {\r\n\t\tif (keys.length > schema.maxProperties) {\r\n\t\t\terror = this.createError(ErrorCodes.OBJECT_PROPERTIES_MAXIMUM, {propertyCount: keys.length, maximum: schema.maxProperties}, '', '/maxProperties', null, data, schema);\r\n\t\t\tif (this.handleError(error)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateObjectRequiredProperties = function validateObjectRequiredProperties(data, schema) {\r\n\tif (schema.required !== undefined) {\r\n\t\tfor (var i = 0; i < schema.required.length; i++) {\r\n\t\t\tvar key = schema.required[i];\r\n\t\t\tif (data[key] === undefined) {\r\n\t\t\t\tvar error = this.createError(ErrorCodes.OBJECT_REQUIRED, {key: key}, '', '/required/' + i, null, data, schema);\r\n\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\treturn error;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateObjectProperties = function validateObjectProperties(data, schema, dataPointerPath) {\r\n\tvar error;\r\n\tfor (var key in data) {\r\n\t\tvar keyPointerPath = dataPointerPath + \"/\" + key.replace(/~/g, '~0').replace(/\\//g, '~1');\r\n\t\tvar foundMatch = false;\r\n\t\tif (schema.properties !== undefined && schema.properties[key] !== undefined) {\r\n\t\t\tfoundMatch = true;\r\n\t\t\tif (error = this.validateAll(data[key], schema.properties[key], [key], [\"properties\", key], keyPointerPath)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (schema.patternProperties !== undefined) {\r\n\t\t\tfor (var patternKey in schema.patternProperties) {\r\n\t\t\t\tvar regexp = new RegExp(patternKey);\r\n\t\t\t\tif (regexp.test(key)) {\r\n\t\t\t\t\tfoundMatch = true;\r\n\t\t\t\t\tif (error = this.validateAll(data[key], schema.patternProperties[patternKey], [key], [\"patternProperties\", patternKey], keyPointerPath)) {\r\n\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!foundMatch) {\r\n\t\t\tif (schema.additionalProperties !== undefined) {\r\n\t\t\t\tif (this.trackUnknownProperties) {\r\n\t\t\t\t\tthis.knownPropertyPaths[keyPointerPath] = true;\r\n\t\t\t\t\tdelete this.unknownPropertyPaths[keyPointerPath];\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof schema.additionalProperties === \"boolean\") {\r\n\t\t\t\t\tif (!schema.additionalProperties) {\r\n\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_ADDITIONAL_PROPERTIES, {key: key}, '', '/additionalProperties', null, data, schema).prefixWith(key, null);\r\n\t\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (error = this.validateAll(data[key], schema.additionalProperties, [key], [\"additionalProperties\"], keyPointerPath)) {\r\n\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (this.trackUnknownProperties && !this.knownPropertyPaths[keyPointerPath]) {\r\n\t\t\t\tthis.unknownPropertyPaths[keyPointerPath] = true;\r\n\t\t\t}\r\n\t\t} else if (this.trackUnknownProperties) {\r\n\t\t\tthis.knownPropertyPaths[keyPointerPath] = true;\r\n\t\t\tdelete this.unknownPropertyPaths[keyPointerPath];\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateObjectDependencies = function validateObjectDependencies(data, schema, dataPointerPath) {\r\n\tvar error;\r\n\tif (schema.dependencies !== undefined) {\r\n\t\tfor (var depKey in schema.dependencies) {\r\n\t\t\tif (data[depKey] !== undefined) {\r\n\t\t\t\tvar dep = schema.dependencies[depKey];\r\n\t\t\t\tif (typeof dep === \"string\") {\r\n\t\t\t\t\tif (data[dep] === undefined) {\r\n\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: dep}, '', '', null, data, schema).prefixWith(null, depKey).prefixWith(null, \"dependencies\");\r\n\t\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (Array.isArray(dep)) {\r\n\t\t\t\t\tfor (var i = 0; i < dep.length; i++) {\r\n\t\t\t\t\t\tvar requiredKey = dep[i];\r\n\t\t\t\t\t\tif (data[requiredKey] === undefined) {\r\n\t\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: requiredKey}, '', '/' + i, null, data, schema).prefixWith(null, depKey).prefixWith(null, \"dependencies\");\r\n\t\t\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (error = this.validateAll(data, dep, [], [\"dependencies\", depKey], dataPointerPath)) {\r\n\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateCombinations = function validateCombinations(data, schema, dataPointerPath) {\r\n\treturn this.validateAllOf(data, schema, dataPointerPath)\r\n\t\t|| this.validateAnyOf(data, schema, dataPointerPath)\r\n\t\t|| this.validateOneOf(data, schema, dataPointerPath)\r\n\t\t|| this.validateNot(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nValidatorContext.prototype.validateAllOf = function validateAllOf(data, schema, dataPointerPath) {\r\n\tif (schema.allOf === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar error;\r\n\tfor (var i = 0; i < schema.allOf.length; i++) {\r\n\t\tvar subSchema = schema.allOf[i];\r\n\t\tif (error = this.validateAll(data, subSchema, [], [\"allOf\", i], dataPointerPath)) {\r\n\t\t\treturn error;\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateAnyOf = function validateAnyOf(data, schema, dataPointerPath) {\r\n\tif (schema.anyOf === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar errors = [];\r\n\tvar startErrorCount = this.errors.length;\r\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\r\n\tif (this.trackUnknownProperties) {\r\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\r\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\r\n\t}\r\n\tvar errorAtEnd = true;\r\n\tfor (var i = 0; i < schema.anyOf.length; i++) {\r\n\t\tif (this.trackUnknownProperties) {\r\n\t\t\tthis.unknownPropertyPaths = {};\r\n\t\t\tthis.knownPropertyPaths = {};\r\n\t\t}\r\n\t\tvar subSchema = schema.anyOf[i];\r\n\r\n\t\tvar errorCount = this.errors.length;\r\n\t\tvar error = this.validateAll(data, subSchema, [], [\"anyOf\", i], dataPointerPath);\r\n\r\n\t\tif (error === null && errorCount === this.errors.length) {\r\n\t\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\r\n\t\t\tif (this.trackUnknownProperties) {\r\n\t\t\t\tfor (var knownKey in this.knownPropertyPaths) {\r\n\t\t\t\t\toldKnownPropertyPaths[knownKey] = true;\r\n\t\t\t\t\tdelete oldUnknownPropertyPaths[knownKey];\r\n\t\t\t\t}\r\n\t\t\t\tfor (var unknownKey in this.unknownPropertyPaths) {\r\n\t\t\t\t\tif (!oldKnownPropertyPaths[unknownKey]) {\r\n\t\t\t\t\t\toldUnknownPropertyPaths[unknownKey] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// We need to continue looping so we catch all the property definitions, but we don't want to return an error\r\n\t\t\t\terrorAtEnd = false;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (error) {\r\n\t\t\terrors.push(error.prefixWith(null, \"\" + i).prefixWith(null, \"anyOf\"));\r\n\t\t}\r\n\t}\r\n\tif (this.trackUnknownProperties) {\r\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\r\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\r\n\t}\r\n\tif (errorAtEnd) {\r\n\t\terrors = errors.concat(this.errors.slice(startErrorCount));\r\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\t\treturn this.createError(ErrorCodes.ANY_OF_MISSING, {}, \"\", \"/anyOf\", errors, data, schema);\r\n\t}\r\n};\r\n\r\nValidatorContext.prototype.validateOneOf = function validateOneOf(data, schema, dataPointerPath) {\r\n\tif (schema.oneOf === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar validIndex = null;\r\n\tvar errors = [];\r\n\tvar startErrorCount = this.errors.length;\r\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\r\n\tif (this.trackUnknownProperties) {\r\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\r\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\r\n\t}\r\n\tfor (var i = 0; i < schema.oneOf.length; i++) {\r\n\t\tif (this.trackUnknownProperties) {\r\n\t\t\tthis.unknownPropertyPaths = {};\r\n\t\t\tthis.knownPropertyPaths = {};\r\n\t\t}\r\n\t\tvar subSchema = schema.oneOf[i];\r\n\r\n\t\tvar errorCount = this.errors.length;\r\n\t\tvar error = this.validateAll(data, subSchema, [], [\"oneOf\", i], dataPointerPath);\r\n\r\n\t\tif (error === null && errorCount === this.errors.length) {\r\n\t\t\tif (validIndex === null) {\r\n\t\t\t\tvalidIndex = i;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\t\t\t\treturn this.createError(ErrorCodes.ONE_OF_MULTIPLE, {index1: validIndex, index2: i}, \"\", \"/oneOf\", null, data, schema);\r\n\t\t\t}\r\n\t\t\tif (this.trackUnknownProperties) {\r\n\t\t\t\tfor (var knownKey in this.knownPropertyPaths) {\r\n\t\t\t\t\toldKnownPropertyPaths[knownKey] = true;\r\n\t\t\t\t\tdelete oldUnknownPropertyPaths[knownKey];\r\n\t\t\t\t}\r\n\t\t\t\tfor (var unknownKey in this.unknownPropertyPaths) {\r\n\t\t\t\t\tif (!oldKnownPropertyPaths[unknownKey]) {\r\n\t\t\t\t\t\toldUnknownPropertyPaths[unknownKey] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (error) {\r\n\t\t\terrors.push(error);\r\n\t\t}\r\n\t}\r\n\tif (this.trackUnknownProperties) {\r\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\r\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\r\n\t}\r\n\tif (validIndex === null) {\r\n\t\terrors = errors.concat(this.errors.slice(startErrorCount));\r\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\t\treturn this.createError(ErrorCodes.ONE_OF_MISSING, {}, \"\", \"/oneOf\", errors, data, schema);\r\n\t} else {\r\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateNot = function validateNot(data, schema, dataPointerPath) {\r\n\tif (schema.not === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar oldErrorCount = this.errors.length;\r\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\r\n\tif (this.trackUnknownProperties) {\r\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\r\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\r\n\t\tthis.unknownPropertyPaths = {};\r\n\t\tthis.knownPropertyPaths = {};\r\n\t}\r\n\tvar error = this.validateAll(data, schema.not, null, null, dataPointerPath);\r\n\tvar notErrors = this.errors.slice(oldErrorCount);\r\n\tthis.errors = this.errors.slice(0, oldErrorCount);\r\n\tif (this.trackUnknownProperties) {\r\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\r\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\r\n\t}\r\n\tif (error === null && notErrors.length === 0) {\r\n\t\treturn this.createError(ErrorCodes.NOT_PASSED, {}, \"\", \"/not\", null, data, schema);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateHypermedia = function validateCombinations(data, schema, dataPointerPath) {\r\n\tif (!schema.links) {\r\n\t\treturn null;\r\n\t}\r\n\tvar error;\r\n\tfor (var i = 0; i < schema.links.length; i++) {\r\n\t\tvar ldo = schema.links[i];\r\n\t\tif (ldo.rel === \"describedby\") {\r\n\t\t\tvar template = new UriTemplate(ldo.href);\r\n\t\t\tvar allPresent = true;\r\n\t\t\tfor (var j = 0; j < template.varNames.length; j++) {\r\n\t\t\t\tif (!(template.varNames[j] in data)) {\r\n\t\t\t\t\tallPresent = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (allPresent) {\r\n\t\t\t\tvar schemaUrl = template.fillFromObject(data);\r\n\t\t\t\tvar subSchema = {\"$ref\": schemaUrl};\r\n\t\t\t\tif (error = this.validateAll(data, subSchema, [], [\"links\", i], dataPointerPath)) {\r\n\t\t\t\t\treturn error;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// parseURI() and resolveUrl() are from https://gist.github.com/1088850\r\n//   -  released as public domain by author (\"Yaffle\") - see comments on gist\r\n\r\nfunction parseURI(url) {\r\n\tvar m = String(url).replace(/^\\s+|\\s+$/g, '').match(/^([^:\\/?#]+:)?(\\/\\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\\/?#]*)(?::(\\d*))?))?([^?#]*)(\\?[^#]*)?(#[\\s\\S]*)?/);\r\n\t// authority = '//' + user + ':' + pass '@' + hostname + ':' port\r\n\treturn (m ? {\r\n\t\thref     : m[0] || '',\r\n\t\tprotocol : m[1] || '',\r\n\t\tauthority: m[2] || '',\r\n\t\thost     : m[3] || '',\r\n\t\thostname : m[4] || '',\r\n\t\tport     : m[5] || '',\r\n\t\tpathname : m[6] || '',\r\n\t\tsearch   : m[7] || '',\r\n\t\thash     : m[8] || ''\r\n\t} : null);\r\n}\r\n\r\nfunction resolveUrl(base, href) {// RFC 3986\r\n\r\n\tfunction removeDotSegments(input) {\r\n\t\tvar output = [];\r\n\t\tinput.replace(/^(\\.\\.?(\\/|$))+/, '')\r\n\t\t\t.replace(/\\/(\\.(\\/|$))+/g, '/')\r\n\t\t\t.replace(/\\/\\.\\.$/, '/../')\r\n\t\t\t.replace(/\\/?[^\\/]*/g, function (p) {\r\n\t\t\t\tif (p === '/..') {\r\n\t\t\t\t\toutput.pop();\r\n\t\t\t\t} else {\r\n\t\t\t\t\toutput.push(p);\r\n\t\t\t\t}\r\n\t\t});\r\n\t\treturn output.join('').replace(/^\\//, input.charAt(0) === '/' ? '/' : '');\r\n\t}\r\n\r\n\thref = parseURI(href || '');\r\n\tbase = parseURI(base || '');\r\n\r\n\treturn !href || !base ? null : (href.protocol || base.protocol) +\r\n\t\t(href.protocol || href.authority ? href.authority : base.authority) +\r\n\t\tremoveDotSegments(href.protocol || href.authority || href.pathname.charAt(0) === '/' ? href.pathname : (href.pathname ? ((base.authority && !base.pathname ? '/' : '') + base.pathname.slice(0, base.pathname.lastIndexOf('/') + 1) + href.pathname) : base.pathname)) +\r\n\t\t(href.protocol || href.authority || href.pathname ? href.search : (href.search || base.search)) +\r\n\t\thref.hash;\r\n}\r\n\r\nfunction getDocumentUri(uri) {\r\n\treturn uri.split('#')[0];\r\n}\r\nfunction normSchema(schema, baseUri) {\r\n\tif (schema && typeof schema === \"object\") {\r\n\t\tif (baseUri === undefined) {\r\n\t\t\tbaseUri = schema.id;\r\n\t\t} else if (typeof schema.id === \"string\") {\r\n\t\t\tbaseUri = resolveUrl(baseUri, schema.id);\r\n\t\t\tschema.id = baseUri;\r\n\t\t}\r\n\t\tif (Array.isArray(schema)) {\r\n\t\t\tfor (var i = 0; i < schema.length; i++) {\r\n\t\t\t\tnormSchema(schema[i], baseUri);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (typeof schema['$ref'] === \"string\") {\r\n\t\t\t\tschema['$ref'] = resolveUrl(baseUri, schema['$ref']);\r\n\t\t\t}\r\n\t\t\tfor (var key in schema) {\r\n\t\t\t\tif (key !== \"enum\") {\r\n\t\t\t\t\tnormSchema(schema[key], baseUri);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction defaultErrorReporter(language) {\r\n\tlanguage = language || 'en';\r\n\r\n\tvar errorMessages = languages[language];\r\n\r\n\treturn function (error) {\r\n\t\tvar messageTemplate = errorMessages[error.code] || ErrorMessagesDefault[error.code];\r\n\t\tif (typeof messageTemplate !== 'string') {\r\n\t\t\treturn \"Unknown error code \" + error.code + \": \" + JSON.stringify(error.messageParams);\r\n\t\t}\r\n\t\tvar messageParams = error.params;\r\n\t\t// Adapted from Crockford's supplant()\r\n\t\treturn messageTemplate.replace(/\\{([^{}]*)\\}/g, function (whole, varName) {\r\n\t\t\tvar subValue = messageParams[varName];\r\n\t\t\treturn typeof subValue === 'string' || typeof subValue === 'number' ? subValue : whole;\r\n\t\t});\r\n\t};\r\n}\r\n\r\nvar ErrorCodes = {\r\n\tINVALID_TYPE: 0,\r\n\tENUM_MISMATCH: 1,\r\n\tANY_OF_MISSING: 10,\r\n\tONE_OF_MISSING: 11,\r\n\tONE_OF_MULTIPLE: 12,\r\n\tNOT_PASSED: 13,\r\n\t// Numeric errors\r\n\tNUMBER_MULTIPLE_OF: 100,\r\n\tNUMBER_MINIMUM: 101,\r\n\tNUMBER_MINIMUM_EXCLUSIVE: 102,\r\n\tNUMBER_MAXIMUM: 103,\r\n\tNUMBER_MAXIMUM_EXCLUSIVE: 104,\r\n\tNUMBER_NOT_A_NUMBER: 105,\r\n\t// String errors\r\n\tSTRING_LENGTH_SHORT: 200,\r\n\tSTRING_LENGTH_LONG: 201,\r\n\tSTRING_PATTERN: 202,\r\n\t// Object errors\r\n\tOBJECT_PROPERTIES_MINIMUM: 300,\r\n\tOBJECT_PROPERTIES_MAXIMUM: 301,\r\n\tOBJECT_REQUIRED: 302,\r\n\tOBJECT_ADDITIONAL_PROPERTIES: 303,\r\n\tOBJECT_DEPENDENCY_KEY: 304,\r\n\t// Array errors\r\n\tARRAY_LENGTH_SHORT: 400,\r\n\tARRAY_LENGTH_LONG: 401,\r\n\tARRAY_UNIQUE: 402,\r\n\tARRAY_ADDITIONAL_ITEMS: 403,\r\n\t// Custom/user-defined errors\r\n\tFORMAT_CUSTOM: 500,\r\n\tKEYWORD_CUSTOM: 501,\r\n\t// Schema structure\r\n\tCIRCULAR_REFERENCE: 600,\r\n\t// Non-standard validation options\r\n\tUNKNOWN_PROPERTY: 1000\r\n};\r\nvar ErrorCodeLookup = {};\r\nfor (var key in ErrorCodes) {\r\n\tErrorCodeLookup[ErrorCodes[key]] = key;\r\n}\r\nvar ErrorMessagesDefault = {\r\n\tINVALID_TYPE: \"Invalid type: {type} (expected {expected})\",\r\n\tENUM_MISMATCH: \"No enum match for: {value}\",\r\n\tANY_OF_MISSING: \"Data does not match any schemas from \\\"anyOf\\\"\",\r\n\tONE_OF_MISSING: \"Data does not match any schemas from \\\"oneOf\\\"\",\r\n\tONE_OF_MULTIPLE: \"Data is valid against more than one schema from \\\"oneOf\\\": indices {index1} and {index2}\",\r\n\tNOT_PASSED: \"Data matches schema from \\\"not\\\"\",\r\n\t// Numeric errors\r\n\tNUMBER_MULTIPLE_OF: \"Value {value} is not a multiple of {multipleOf}\",\r\n\tNUMBER_MINIMUM: \"Value {value} is less than minimum {minimum}\",\r\n\tNUMBER_MINIMUM_EXCLUSIVE: \"Value {value} is equal to exclusive minimum {minimum}\",\r\n\tNUMBER_MAXIMUM: \"Value {value} is greater than maximum {maximum}\",\r\n\tNUMBER_MAXIMUM_EXCLUSIVE: \"Value {value} is equal to exclusive maximum {maximum}\",\r\n\tNUMBER_NOT_A_NUMBER: \"Value {value} is not a valid number\",\r\n\t// String errors\r\n\tSTRING_LENGTH_SHORT: \"String is too short ({length} chars), minimum {minimum}\",\r\n\tSTRING_LENGTH_LONG: \"String is too long ({length} chars), maximum {maximum}\",\r\n\tSTRING_PATTERN: \"String does not match pattern: {pattern}\",\r\n\t// Object errors\r\n\tOBJECT_PROPERTIES_MINIMUM: \"Too few properties defined ({propertyCount}), minimum {minimum}\",\r\n\tOBJECT_PROPERTIES_MAXIMUM: \"Too many properties defined ({propertyCount}), maximum {maximum}\",\r\n\tOBJECT_REQUIRED: \"Missing required property: {key}\",\r\n\tOBJECT_ADDITIONAL_PROPERTIES: \"Additional properties not allowed\",\r\n\tOBJECT_DEPENDENCY_KEY: \"Dependency failed - key must exist: {missing} (due to key: {key})\",\r\n\t// Array errors\r\n\tARRAY_LENGTH_SHORT: \"Array is too short ({length}), minimum {minimum}\",\r\n\tARRAY_LENGTH_LONG: \"Array is too long ({length}), maximum {maximum}\",\r\n\tARRAY_UNIQUE: \"Array items are not unique (indices {match1} and {match2})\",\r\n\tARRAY_ADDITIONAL_ITEMS: \"Additional items not allowed\",\r\n\t// Format errors\r\n\tFORMAT_CUSTOM: \"Format validation failed ({message})\",\r\n\tKEYWORD_CUSTOM: \"Keyword failed: {key} ({message})\",\r\n\t// Schema structure\r\n\tCIRCULAR_REFERENCE: \"Circular $refs: {urls}\",\r\n\t// Non-standard validation options\r\n\tUNKNOWN_PROPERTY: \"Unknown property (not in schema)\"\r\n};\r\n\r\nfunction ValidationError(code, params, dataPath, schemaPath, subErrors) {\r\n\tError.call(this);\r\n\tif (code === undefined) {\r\n\t\tthrow new Error (\"No error code supplied: \" + schemaPath);\r\n\t}\r\n\tthis.message = '';\r\n\tthis.params = params;\r\n\tthis.code = code;\r\n\tthis.dataPath = dataPath || \"\";\r\n\tthis.schemaPath = schemaPath || \"\";\r\n\tthis.subErrors = subErrors || null;\r\n\r\n\tvar err = new Error(this.message);\r\n\tthis.stack = err.stack || err.stacktrace;\r\n\tif (!this.stack) {\r\n\t\ttry {\r\n\t\t\tthrow err;\r\n\t\t}\r\n\t\tcatch(err) {\r\n\t\t\tthis.stack = err.stack || err.stacktrace;\r\n\t\t}\r\n\t}\r\n}\r\nValidationError.prototype = Object.create(Error.prototype);\r\nValidationError.prototype.constructor = ValidationError;\r\nValidationError.prototype.name = 'ValidationError';\r\n\r\nValidationError.prototype.prefixWith = function (dataPrefix, schemaPrefix) {\r\n\tif (dataPrefix !== null) {\r\n\t\tdataPrefix = dataPrefix.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\r\n\t\tthis.dataPath = \"/\" + dataPrefix + this.dataPath;\r\n\t}\r\n\tif (schemaPrefix !== null) {\r\n\t\tschemaPrefix = schemaPrefix.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\r\n\t\tthis.schemaPath = \"/\" + schemaPrefix + this.schemaPath;\r\n\t}\r\n\tif (this.subErrors !== null) {\r\n\t\tfor (var i = 0; i < this.subErrors.length; i++) {\r\n\t\t\tthis.subErrors[i].prefixWith(dataPrefix, schemaPrefix);\r\n\t\t}\r\n\t}\r\n\treturn this;\r\n};\r\n\r\nfunction isTrustedUrl(baseUrl, testUrl) {\r\n\tif(testUrl.substring(0, baseUrl.length) === baseUrl){\r\n\t\tvar remainder = testUrl.substring(baseUrl.length);\r\n\t\tif ((testUrl.length > 0 && testUrl.charAt(baseUrl.length - 1) === \"/\")\r\n\t\t\t|| remainder.charAt(0) === \"#\"\r\n\t\t\t|| remainder.charAt(0) === \"?\") {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nvar languages = {};\r\nfunction createApi(language) {\r\n\tvar globalContext = new ValidatorContext();\r\n\tvar currentLanguage;\r\n\tvar customErrorReporter;\r\n\tvar api = {\r\n\t\tsetErrorReporter: function (reporter) {\r\n\t\t\tif (typeof reporter === 'string') {\r\n\t\t\t\treturn this.language(reporter);\r\n\t\t\t}\r\n\t\t\tcustomErrorReporter = reporter;\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\taddFormat: function () {\r\n\t\t\tglobalContext.addFormat.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tlanguage: function (code) {\r\n\t\t\tif (!code) {\r\n\t\t\t\treturn currentLanguage;\r\n\t\t\t}\r\n\t\t\tif (!languages[code]) {\r\n\t\t\t\tcode = code.split('-')[0]; // fall back to base language\r\n\t\t\t}\r\n\t\t\tif (languages[code]) {\r\n\t\t\t\tcurrentLanguage = code;\r\n\t\t\t\treturn code; // so you can tell if fall-back has happened\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\taddLanguage: function (code, messageMap) {\r\n\t\t\tvar key;\r\n\t\t\tfor (key in ErrorCodes) {\r\n\t\t\t\tif (messageMap[key] && !messageMap[ErrorCodes[key]]) {\r\n\t\t\t\t\tmessageMap[ErrorCodes[key]] = messageMap[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar rootCode = code.split('-')[0];\r\n\t\t\tif (!languages[rootCode]) { // use for base language if not yet defined\r\n\t\t\t\tlanguages[code] = messageMap;\r\n\t\t\t\tlanguages[rootCode] = messageMap;\r\n\t\t\t} else {\r\n\t\t\t\tlanguages[code] = Object.create(languages[rootCode]);\r\n\t\t\t\tfor (key in messageMap) {\r\n\t\t\t\t\tif (typeof languages[rootCode][key] === 'undefined') {\r\n\t\t\t\t\t\tlanguages[rootCode][key] = messageMap[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlanguages[code][key] = messageMap[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tfreshApi: function (language) {\r\n\t\t\tvar result = createApi();\r\n\t\t\tif (language) {\r\n\t\t\t\tresult.language(language);\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tvalidate: function (data, schema, checkRecursive, banUnknownProperties) {\r\n\t\t\tvar def = defaultErrorReporter(currentLanguage);\r\n\t\t\tvar errorReporter = customErrorReporter ? function (error, data, schema) {\r\n\t\t\t\treturn customErrorReporter(error, data, schema) || def(error, data, schema);\r\n\t\t\t} : def;\r\n\t\t\tvar context = new ValidatorContext(globalContext, false, errorReporter, checkRecursive, banUnknownProperties);\r\n\t\t\tif (typeof schema === \"string\") {\r\n\t\t\t\tschema = {\"$ref\": schema};\r\n\t\t\t}\r\n\t\t\tcontext.addSchema(\"\", schema);\r\n\t\t\tvar error = context.validateAll(data, schema, null, null, \"\");\r\n\t\t\tif (!error && banUnknownProperties) {\r\n\t\t\t\terror = context.banUnknownProperties(data, schema);\r\n\t\t\t}\r\n\t\t\tthis.error = error;\r\n\t\t\tthis.missing = context.missing;\r\n\t\t\tthis.valid = (error === null);\r\n\t\t\treturn this.valid;\r\n\t\t},\r\n\t\tvalidateResult: function () {\r\n\t\t\tvar result = {toString: function () {\r\n\t\t\t\treturn this.valid ? 'valid' : this.error.message;\r\n\t\t\t}};\r\n\t\t\tthis.validate.apply(result, arguments);\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tvalidateMultiple: function (data, schema, checkRecursive, banUnknownProperties) {\r\n\t\t\tvar def = defaultErrorReporter(currentLanguage);\r\n\t\t\tvar errorReporter = customErrorReporter ? function (error, data, schema) {\r\n\t\t\t\treturn customErrorReporter(error, data, schema) || def(error, data, schema);\r\n\t\t\t} : def;\r\n\t\t\tvar context = new ValidatorContext(globalContext, true, errorReporter, checkRecursive, banUnknownProperties);\r\n\t\t\tif (typeof schema === \"string\") {\r\n\t\t\t\tschema = {\"$ref\": schema};\r\n\t\t\t}\r\n\t\t\tcontext.addSchema(\"\", schema);\r\n\t\t\tcontext.validateAll(data, schema, null, null, \"\");\r\n\t\t\tif (banUnknownProperties) {\r\n\t\t\t\tcontext.banUnknownProperties(data, schema);\r\n\t\t\t}\r\n\t\t\tvar result = {toString: function () {\r\n\t\t\t\treturn this.valid ? 'valid' : this.error.message;\r\n\t\t\t}};\r\n\t\t\tresult.errors = context.errors;\r\n\t\t\tresult.missing = context.missing;\r\n\t\t\tresult.valid = (result.errors.length === 0);\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\taddSchema: function () {\r\n\t\t\treturn globalContext.addSchema.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tgetSchema: function () {\r\n\t\t\treturn globalContext.getSchema.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tgetSchemaMap: function () {\r\n\t\t\treturn globalContext.getSchemaMap.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tgetSchemaUris: function () {\r\n\t\t\treturn globalContext.getSchemaUris.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tgetMissingUris: function () {\r\n\t\t\treturn globalContext.getMissingUris.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tdropSchemas: function () {\r\n\t\t\tglobalContext.dropSchemas.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tdefineKeyword: function () {\r\n\t\t\tglobalContext.defineKeyword.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tdefineError: function (codeName, codeNumber, defaultMessage) {\r\n\t\t\tif (typeof codeName !== 'string' || !/^[A-Z]+(_[A-Z]+)*$/.test(codeName)) {\r\n\t\t\t\tthrow new Error('Code name must be a string in UPPER_CASE_WITH_UNDERSCORES');\r\n\t\t\t}\r\n\t\t\tif (typeof codeNumber !== 'number' || codeNumber%1 !== 0 || codeNumber < 10000) {\r\n\t\t\t\tthrow new Error('Code number must be an integer > 10000');\r\n\t\t\t}\r\n\t\t\tif (typeof ErrorCodes[codeName] !== 'undefined') {\r\n\t\t\t\tthrow new Error('Error already defined: ' + codeName + ' as ' + ErrorCodes[codeName]);\r\n\t\t\t}\r\n\t\t\tif (typeof ErrorCodeLookup[codeNumber] !== 'undefined') {\r\n\t\t\t\tthrow new Error('Error code already used: ' + ErrorCodeLookup[codeNumber] + ' as ' + codeNumber);\r\n\t\t\t}\r\n\t\t\tErrorCodes[codeName] = codeNumber;\r\n\t\t\tErrorCodeLookup[codeNumber] = codeName;\r\n\t\t\tErrorMessagesDefault[codeName] = ErrorMessagesDefault[codeNumber] = defaultMessage;\r\n\t\t\tfor (var langCode in languages) {\r\n\t\t\t\tvar language = languages[langCode];\r\n\t\t\t\tif (language[codeName]) {\r\n\t\t\t\t\tlanguage[codeNumber] = language[codeNumber] || language[codeName];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\treset: function () {\r\n\t\t\tglobalContext.reset();\r\n\t\t\tthis.error = null;\r\n\t\t\tthis.missing = [];\r\n\t\t\tthis.valid = true;\r\n\t\t},\r\n\t\tmissing: [],\r\n\t\terror: null,\r\n\t\tvalid: true,\r\n\t\tnormSchema: normSchema,\r\n\t\tresolveUrl: resolveUrl,\r\n\t\tgetDocumentUri: getDocumentUri,\r\n\t\terrorCodes: ErrorCodes\r\n\t};\r\n\tapi.language(language || 'en');\r\n\treturn api;\r\n}\r\n\r\nvar tv4 = createApi();\r\ntv4.addLanguage('en-gb', ErrorMessagesDefault);\r\n\r\n//legacy property\r\ntv4.tv4 = tv4;\r\n\r\nreturn tv4; // used by _header.js to globalise.\r\n\r\n}));","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst events_1 = require(\"events\");\n/**\n * General interface for journal storage\n */\nclass JournalStore extends events_1.EventEmitter {\n    constructor(graph) {\n        super();\n        this.graph = graph;\n        this.lastRevision = 0;\n    }\n    countTransactions() {\n        return 0;\n    }\n    putTransaction(revId, entries) {\n        if (revId > this.lastRevision) {\n            this.lastRevision = revId;\n        }\n        this.emit('transaction', revId, entries);\n    }\n    fetchTransaction(revId) {\n        return [];\n    }\n}\nexports.default = JournalStore;\n//# sourceMappingURL=JournalStore.js.map","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","module.exports = (function() {\n  \"use strict\";\n\n  /*\n   * Generated by PEG.js 0.9.0.\n   *\n   * http://pegjs.org/\n   */\n\n  function peg$subclass(child, parent) {\n    function ctor() { this.constructor = child; }\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n  }\n\n  function peg$SyntaxError(message, expected, found, location) {\n    this.message  = message;\n    this.expected = expected;\n    this.found    = found;\n    this.location = location;\n    this.name     = \"SyntaxError\";\n\n    if (typeof Error.captureStackTrace === \"function\") {\n      Error.captureStackTrace(this, peg$SyntaxError);\n    }\n  }\n\n  peg$subclass(peg$SyntaxError, Error);\n\n  function peg$parse(input) {\n    var options = arguments.length > 1 ? arguments[1] : {},\n        parser  = this,\n\n        peg$FAILED = {},\n\n        peg$startRuleFunctions = { start: peg$parsestart },\n        peg$startRuleFunction  = peg$parsestart,\n\n        peg$c0 = function() { return parser.getResult();  },\n        peg$c1 = \"INPORT=\",\n        peg$c2 = { type: \"literal\", value: \"INPORT=\", description: \"\\\"INPORT=\\\"\" },\n        peg$c3 = \".\",\n        peg$c4 = { type: \"literal\", value: \".\", description: \"\\\".\\\"\" },\n        peg$c5 = \":\",\n        peg$c6 = { type: \"literal\", value: \":\", description: \"\\\":\\\"\" },\n        peg$c7 = function(node, port, pub) {return parser.registerInports(node,port,pub)},\n        peg$c8 = \"OUTPORT=\",\n        peg$c9 = { type: \"literal\", value: \"OUTPORT=\", description: \"\\\"OUTPORT=\\\"\" },\n        peg$c10 = function(node, port, pub) {return parser.registerOutports(node,port,pub)},\n        peg$c11 = \"DEFAULT_INPORT=\",\n        peg$c12 = { type: \"literal\", value: \"DEFAULT_INPORT=\", description: \"\\\"DEFAULT_INPORT=\\\"\" },\n        peg$c13 = function(name) { defaultInPort = name},\n        peg$c14 = \"DEFAULT_OUTPORT=\",\n        peg$c15 = { type: \"literal\", value: \"DEFAULT_OUTPORT=\", description: \"\\\"DEFAULT_OUTPORT=\\\"\" },\n        peg$c16 = function(name) { defaultOutPort = name},\n        peg$c17 = function(annotation) { return parser.registerAnnotation(annotation[0], annotation[1]); },\n        peg$c18 = function(edges) {return parser.registerEdges(edges);},\n        peg$c19 = \",\",\n        peg$c20 = { type: \"literal\", value: \",\", description: \"\\\",\\\"\" },\n        peg$c21 = /^[\\n\\r\\u2028\\u2029]/,\n        peg$c22 = { type: \"class\", value: \"[\\\\n\\\\r\\\\u2028\\\\u2029]\", description: \"[\\\\n\\\\r\\\\u2028\\\\u2029]\" },\n        peg$c23 = \"#\",\n        peg$c24 = { type: \"literal\", value: \"#\", description: \"\\\"#\\\"\" },\n        peg$c25 = \"->\",\n        peg$c26 = { type: \"literal\", value: \"->\", description: \"\\\"->\\\"\" },\n        peg$c27 = function(x, y) { return [x,y]; },\n        peg$c28 = function(x, proc, y) { return [{\"tgt\":makeInPort(proc, x)},{\"src\":makeOutPort(proc, y)}]; },\n        peg$c29 = function(proc, port) { return {\"src\":makeOutPort(proc, port)} },\n        peg$c30 = function(port, proc) { return {\"tgt\":makeInPort(proc, port)} },\n        peg$c31 = \"'\",\n        peg$c32 = { type: \"literal\", value: \"'\", description: \"\\\"'\\\"\" },\n        peg$c33 = function(iip) { return {\"data\":iip.join(\"\")} },\n        peg$c34 = function(iip) { return {\"data\":iip} },\n        peg$c35 = function(name) { return name},\n        peg$c36 = /^[a-zA-Z_]/,\n        peg$c37 = { type: \"class\", value: \"[a-zA-Z_]\", description: \"[a-zA-Z_]\" },\n        peg$c38 = /^[a-zA-Z0-9_\\-]/,\n        peg$c39 = { type: \"class\", value: \"[a-zA-Z0-9_\\\\-]\", description: \"[a-zA-Z0-9_\\\\-]\" },\n        peg$c40 = function(name) { return makeName(name)},\n        peg$c41 = function(name, comp) { parser.addNode(name,comp); return name},\n        peg$c42 = function(comp) { return parser.addAnonymousNode(comp, location().start.offset) },\n        peg$c43 = \"(\",\n        peg$c44 = { type: \"literal\", value: \"(\", description: \"\\\"(\\\"\" },\n        peg$c45 = /^[a-zA-Z\\/\\-0-9_]/,\n        peg$c46 = { type: \"class\", value: \"[a-zA-Z/\\\\-0-9_]\", description: \"[a-zA-Z/\\\\-0-9_]\" },\n        peg$c47 = \")\",\n        peg$c48 = { type: \"literal\", value: \")\", description: \"\\\")\\\"\" },\n        peg$c49 = function(comp, meta) { var o = {}; comp ? o.comp = comp.join(\"\") : o.comp = ''; meta ? o.meta = meta.join(\"\").split(',') : null; return o; },\n        peg$c50 = /^[a-zA-Z\\/=_,0-9]/,\n        peg$c51 = { type: \"class\", value: \"[a-zA-Z/=_,0-9]\", description: \"[a-zA-Z/=_,0-9]\" },\n        peg$c52 = function(meta) {return meta},\n        peg$c53 = \"@\",\n        peg$c54 = { type: \"literal\", value: \"@\", description: \"\\\"@\\\"\" },\n        peg$c55 = /^[a-zA-Z0-9\\-_]/,\n        peg$c56 = { type: \"class\", value: \"[a-zA-Z0-9\\\\-_]\", description: \"[a-zA-Z0-9\\\\-_]\" },\n        peg$c57 = /^[a-zA-Z0-9\\-_ .]/,\n        peg$c58 = { type: \"class\", value: \"[a-zA-Z0-9\\\\-_ \\\\.]\", description: \"[a-zA-Z0-9\\\\-_ \\\\.]\" },\n        peg$c59 = function(key, value) { return [key.join(''), value.join('')]; },\n        peg$c60 = function(portname, portindex) {return { port: options.caseSensitive? portname : portname.toLowerCase(), index: portindex != null ? portindex : undefined }},\n        peg$c61 = function(port) { return port; },\n        peg$c62 = /^[a-zA-Z.0-9_]/,\n        peg$c63 = { type: \"class\", value: \"[a-zA-Z.0-9_]\", description: \"[a-zA-Z.0-9_]\" },\n        peg$c64 = function(portname) {return makeName(portname)},\n        peg$c65 = \"[\",\n        peg$c66 = { type: \"literal\", value: \"[\", description: \"\\\"[\\\"\" },\n        peg$c67 = /^[0-9]/,\n        peg$c68 = { type: \"class\", value: \"[0-9]\", description: \"[0-9]\" },\n        peg$c69 = \"]\",\n        peg$c70 = { type: \"literal\", value: \"]\", description: \"\\\"]\\\"\" },\n        peg$c71 = function(portindex) {return parseInt(portindex.join(''))},\n        peg$c72 = /^[^\\n\\r\\u2028\\u2029]/,\n        peg$c73 = { type: \"class\", value: \"[^\\\\n\\\\r\\\\u2028\\\\u2029]\", description: \"[^\\\\n\\\\r\\\\u2028\\\\u2029]\" },\n        peg$c74 = /^[\\\\]/,\n        peg$c75 = { type: \"class\", value: \"[\\\\\\\\]\", description: \"[\\\\\\\\]\" },\n        peg$c76 = /^[']/,\n        peg$c77 = { type: \"class\", value: \"[']\", description: \"[']\" },\n        peg$c78 = function() { return \"'\"; },\n        peg$c79 = /^[^']/,\n        peg$c80 = { type: \"class\", value: \"[^']\", description: \"[^']\" },\n        peg$c81 = \" \",\n        peg$c82 = { type: \"literal\", value: \" \", description: \"\\\" \\\"\" },\n        peg$c83 = function(value) { return value; },\n        peg$c84 = \"{\",\n        peg$c85 = { type: \"literal\", value: \"{\", description: \"\\\"{\\\"\" },\n        peg$c86 = \"}\",\n        peg$c87 = { type: \"literal\", value: \"}\", description: \"\\\"}\\\"\" },\n        peg$c88 = { type: \"other\", description: \"whitespace\" },\n        peg$c89 = /^[ \\t\\n\\r]/,\n        peg$c90 = { type: \"class\", value: \"[ \\\\t\\\\n\\\\r]\", description: \"[ \\\\t\\\\n\\\\r]\" },\n        peg$c91 = \"false\",\n        peg$c92 = { type: \"literal\", value: \"false\", description: \"\\\"false\\\"\" },\n        peg$c93 = function() { return false; },\n        peg$c94 = \"null\",\n        peg$c95 = { type: \"literal\", value: \"null\", description: \"\\\"null\\\"\" },\n        peg$c96 = function() { return null;  },\n        peg$c97 = \"true\",\n        peg$c98 = { type: \"literal\", value: \"true\", description: \"\\\"true\\\"\" },\n        peg$c99 = function() { return true;  },\n        peg$c100 = function(head, m) { return m; },\n        peg$c101 = function(head, tail) {\n                  var result = {}, i;\n\n                  result[head.name] = head.value;\n\n                  for (i = 0; i < tail.length; i++) {\n                    result[tail[i].name] = tail[i].value;\n                  }\n\n                  return result;\n                },\n        peg$c102 = function(members) { return members !== null ? members: {}; },\n        peg$c103 = function(name, value) {\n                return { name: name, value: value };\n              },\n        peg$c104 = function(head, v) { return v; },\n        peg$c105 = function(head, tail) { return [head].concat(tail); },\n        peg$c106 = function(values) { return values !== null ? values : []; },\n        peg$c107 = { type: \"other\", description: \"number\" },\n        peg$c108 = function() { return parseFloat(text()); },\n        peg$c109 = /^[1-9]/,\n        peg$c110 = { type: \"class\", value: \"[1-9]\", description: \"[1-9]\" },\n        peg$c111 = /^[eE]/,\n        peg$c112 = { type: \"class\", value: \"[eE]\", description: \"[eE]\" },\n        peg$c113 = \"-\",\n        peg$c114 = { type: \"literal\", value: \"-\", description: \"\\\"-\\\"\" },\n        peg$c115 = \"+\",\n        peg$c116 = { type: \"literal\", value: \"+\", description: \"\\\"+\\\"\" },\n        peg$c117 = \"0\",\n        peg$c118 = { type: \"literal\", value: \"0\", description: \"\\\"0\\\"\" },\n        peg$c119 = { type: \"other\", description: \"string\" },\n        peg$c120 = function(chars) { return chars.join(\"\"); },\n        peg$c121 = \"\\\"\",\n        peg$c122 = { type: \"literal\", value: \"\\\"\", description: \"\\\"\\\\\\\"\\\"\" },\n        peg$c123 = \"\\\\\",\n        peg$c124 = { type: \"literal\", value: \"\\\\\", description: \"\\\"\\\\\\\\\\\"\" },\n        peg$c125 = \"/\",\n        peg$c126 = { type: \"literal\", value: \"/\", description: \"\\\"/\\\"\" },\n        peg$c127 = \"b\",\n        peg$c128 = { type: \"literal\", value: \"b\", description: \"\\\"b\\\"\" },\n        peg$c129 = function() { return \"\\b\"; },\n        peg$c130 = \"f\",\n        peg$c131 = { type: \"literal\", value: \"f\", description: \"\\\"f\\\"\" },\n        peg$c132 = function() { return \"\\f\"; },\n        peg$c133 = \"n\",\n        peg$c134 = { type: \"literal\", value: \"n\", description: \"\\\"n\\\"\" },\n        peg$c135 = function() { return \"\\n\"; },\n        peg$c136 = \"r\",\n        peg$c137 = { type: \"literal\", value: \"r\", description: \"\\\"r\\\"\" },\n        peg$c138 = function() { return \"\\r\"; },\n        peg$c139 = \"t\",\n        peg$c140 = { type: \"literal\", value: \"t\", description: \"\\\"t\\\"\" },\n        peg$c141 = function() { return \"\\t\"; },\n        peg$c142 = \"u\",\n        peg$c143 = { type: \"literal\", value: \"u\", description: \"\\\"u\\\"\" },\n        peg$c144 = function(digits) {\n                    return String.fromCharCode(parseInt(digits, 16));\n                  },\n        peg$c145 = function(sequence) { return sequence; },\n        peg$c146 = /^[^\\0-\\x1F\"\\\\]/,\n        peg$c147 = { type: \"class\", value: \"[^\\\\0-\\\\x1F\\\\x22\\\\x5C]\", description: \"[^\\\\0-\\\\x1F\\\\x22\\\\x5C]\" },\n        peg$c148 = /^[0-9a-f]/i,\n        peg$c149 = { type: \"class\", value: \"[0-9a-f]i\", description: \"[0-9a-f]i\" },\n\n        peg$currPos          = 0,\n        peg$savedPos         = 0,\n        peg$posDetailsCache  = [{ line: 1, column: 1, seenCR: false }],\n        peg$maxFailPos       = 0,\n        peg$maxFailExpected  = [],\n        peg$silentFails      = 0,\n\n        peg$result;\n\n    if (\"startRule\" in options) {\n      if (!(options.startRule in peg$startRuleFunctions)) {\n        throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n      }\n\n      peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n    }\n\n    function text() {\n      return input.substring(peg$savedPos, peg$currPos);\n    }\n\n    function location() {\n      return peg$computeLocation(peg$savedPos, peg$currPos);\n    }\n\n    function expected(description) {\n      throw peg$buildException(\n        null,\n        [{ type: \"other\", description: description }],\n        input.substring(peg$savedPos, peg$currPos),\n        peg$computeLocation(peg$savedPos, peg$currPos)\n      );\n    }\n\n    function error(message) {\n      throw peg$buildException(\n        message,\n        null,\n        input.substring(peg$savedPos, peg$currPos),\n        peg$computeLocation(peg$savedPos, peg$currPos)\n      );\n    }\n\n    function peg$computePosDetails(pos) {\n      var details = peg$posDetailsCache[pos],\n          p, ch;\n\n      if (details) {\n        return details;\n      } else {\n        p = pos - 1;\n        while (!peg$posDetailsCache[p]) {\n          p--;\n        }\n\n        details = peg$posDetailsCache[p];\n        details = {\n          line:   details.line,\n          column: details.column,\n          seenCR: details.seenCR\n        };\n\n        while (p < pos) {\n          ch = input.charAt(p);\n          if (ch === \"\\n\") {\n            if (!details.seenCR) { details.line++; }\n            details.column = 1;\n            details.seenCR = false;\n          } else if (ch === \"\\r\" || ch === \"\\u2028\" || ch === \"\\u2029\") {\n            details.line++;\n            details.column = 1;\n            details.seenCR = true;\n          } else {\n            details.column++;\n            details.seenCR = false;\n          }\n\n          p++;\n        }\n\n        peg$posDetailsCache[pos] = details;\n        return details;\n      }\n    }\n\n    function peg$computeLocation(startPos, endPos) {\n      var startPosDetails = peg$computePosDetails(startPos),\n          endPosDetails   = peg$computePosDetails(endPos);\n\n      return {\n        start: {\n          offset: startPos,\n          line:   startPosDetails.line,\n          column: startPosDetails.column\n        },\n        end: {\n          offset: endPos,\n          line:   endPosDetails.line,\n          column: endPosDetails.column\n        }\n      };\n    }\n\n    function peg$fail(expected) {\n      if (peg$currPos < peg$maxFailPos) { return; }\n\n      if (peg$currPos > peg$maxFailPos) {\n        peg$maxFailPos = peg$currPos;\n        peg$maxFailExpected = [];\n      }\n\n      peg$maxFailExpected.push(expected);\n    }\n\n    function peg$buildException(message, expected, found, location) {\n      function cleanupExpected(expected) {\n        var i = 1;\n\n        expected.sort(function(a, b) {\n          if (a.description < b.description) {\n            return -1;\n          } else if (a.description > b.description) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n\n        while (i < expected.length) {\n          if (expected[i - 1] === expected[i]) {\n            expected.splice(i, 1);\n          } else {\n            i++;\n          }\n        }\n      }\n\n      function buildMessage(expected, found) {\n        function stringEscape(s) {\n          function hex(ch) { return ch.charCodeAt(0).toString(16).toUpperCase(); }\n\n          return s\n            .replace(/\\\\/g,   '\\\\\\\\')\n            .replace(/\"/g,    '\\\\\"')\n            .replace(/\\x08/g, '\\\\b')\n            .replace(/\\t/g,   '\\\\t')\n            .replace(/\\n/g,   '\\\\n')\n            .replace(/\\f/g,   '\\\\f')\n            .replace(/\\r/g,   '\\\\r')\n            .replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function(ch) { return '\\\\x0' + hex(ch); })\n            .replace(/[\\x10-\\x1F\\x80-\\xFF]/g,    function(ch) { return '\\\\x'  + hex(ch); })\n            .replace(/[\\u0100-\\u0FFF]/g,         function(ch) { return '\\\\u0' + hex(ch); })\n            .replace(/[\\u1000-\\uFFFF]/g,         function(ch) { return '\\\\u'  + hex(ch); });\n        }\n\n        var expectedDescs = new Array(expected.length),\n            expectedDesc, foundDesc, i;\n\n        for (i = 0; i < expected.length; i++) {\n          expectedDescs[i] = expected[i].description;\n        }\n\n        expectedDesc = expected.length > 1\n          ? expectedDescs.slice(0, -1).join(\", \")\n              + \" or \"\n              + expectedDescs[expected.length - 1]\n          : expectedDescs[0];\n\n        foundDesc = found ? \"\\\"\" + stringEscape(found) + \"\\\"\" : \"end of input\";\n\n        return \"Expected \" + expectedDesc + \" but \" + foundDesc + \" found.\";\n      }\n\n      if (expected !== null) {\n        cleanupExpected(expected);\n      }\n\n      return new peg$SyntaxError(\n        message !== null ? message : buildMessage(expected, found),\n        expected,\n        found,\n        location\n      );\n    }\n\n    function peg$parsestart() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parseline();\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parseline();\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c0();\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parseline() {\n      var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9;\n\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        if (input.substr(peg$currPos, 7) === peg$c1) {\n          s2 = peg$c1;\n          peg$currPos += 7;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c2); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsenode();\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 46) {\n              s4 = peg$c3;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c4); }\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parseportName();\n              if (s5 !== peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 58) {\n                  s6 = peg$c5;\n                  peg$currPos++;\n                } else {\n                  s6 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c6); }\n                }\n                if (s6 !== peg$FAILED) {\n                  s7 = peg$parseportName();\n                  if (s7 !== peg$FAILED) {\n                    s8 = peg$parse_();\n                    if (s8 !== peg$FAILED) {\n                      s9 = peg$parseLineTerminator();\n                      if (s9 === peg$FAILED) {\n                        s9 = null;\n                      }\n                      if (s9 !== peg$FAILED) {\n                        peg$savedPos = s0;\n                        s1 = peg$c7(s3, s5, s7);\n                        s0 = s1;\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parse_();\n        if (s1 !== peg$FAILED) {\n          if (input.substr(peg$currPos, 8) === peg$c8) {\n            s2 = peg$c8;\n            peg$currPos += 8;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c9); }\n          }\n          if (s2 !== peg$FAILED) {\n            s3 = peg$parsenode();\n            if (s3 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 46) {\n                s4 = peg$c3;\n                peg$currPos++;\n              } else {\n                s4 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c4); }\n              }\n              if (s4 !== peg$FAILED) {\n                s5 = peg$parseportName();\n                if (s5 !== peg$FAILED) {\n                  if (input.charCodeAt(peg$currPos) === 58) {\n                    s6 = peg$c5;\n                    peg$currPos++;\n                  } else {\n                    s6 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c6); }\n                  }\n                  if (s6 !== peg$FAILED) {\n                    s7 = peg$parseportName();\n                    if (s7 !== peg$FAILED) {\n                      s8 = peg$parse_();\n                      if (s8 !== peg$FAILED) {\n                        s9 = peg$parseLineTerminator();\n                        if (s9 === peg$FAILED) {\n                          s9 = null;\n                        }\n                        if (s9 !== peg$FAILED) {\n                          peg$savedPos = s0;\n                          s1 = peg$c10(s3, s5, s7);\n                          s0 = s1;\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          s1 = peg$parse_();\n          if (s1 !== peg$FAILED) {\n            if (input.substr(peg$currPos, 15) === peg$c11) {\n              s2 = peg$c11;\n              peg$currPos += 15;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c12); }\n            }\n            if (s2 !== peg$FAILED) {\n              s3 = peg$parseportName();\n              if (s3 !== peg$FAILED) {\n                s4 = peg$parse_();\n                if (s4 !== peg$FAILED) {\n                  s5 = peg$parseLineTerminator();\n                  if (s5 === peg$FAILED) {\n                    s5 = null;\n                  }\n                  if (s5 !== peg$FAILED) {\n                    peg$savedPos = s0;\n                    s1 = peg$c13(s3);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            s1 = peg$parse_();\n            if (s1 !== peg$FAILED) {\n              if (input.substr(peg$currPos, 16) === peg$c14) {\n                s2 = peg$c14;\n                peg$currPos += 16;\n              } else {\n                s2 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c15); }\n              }\n              if (s2 !== peg$FAILED) {\n                s3 = peg$parseportName();\n                if (s3 !== peg$FAILED) {\n                  s4 = peg$parse_();\n                  if (s4 !== peg$FAILED) {\n                    s5 = peg$parseLineTerminator();\n                    if (s5 === peg$FAILED) {\n                      s5 = null;\n                    }\n                    if (s5 !== peg$FAILED) {\n                      peg$savedPos = s0;\n                      s1 = peg$c16(s3);\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n            if (s0 === peg$FAILED) {\n              s0 = peg$currPos;\n              s1 = peg$parseannotation();\n              if (s1 !== peg$FAILED) {\n                s2 = peg$parsenewline();\n                if (s2 !== peg$FAILED) {\n                  peg$savedPos = s0;\n                  s1 = peg$c17(s1);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n              if (s0 === peg$FAILED) {\n                s0 = peg$currPos;\n                s1 = peg$parsecomment();\n                if (s1 !== peg$FAILED) {\n                  s2 = peg$parsenewline();\n                  if (s2 === peg$FAILED) {\n                    s2 = null;\n                  }\n                  if (s2 !== peg$FAILED) {\n                    s1 = [s1, s2];\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n                if (s0 === peg$FAILED) {\n                  s0 = peg$currPos;\n                  s1 = peg$parse_();\n                  if (s1 !== peg$FAILED) {\n                    s2 = peg$parsenewline();\n                    if (s2 !== peg$FAILED) {\n                      s1 = [s1, s2];\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                  if (s0 === peg$FAILED) {\n                    s0 = peg$currPos;\n                    s1 = peg$parse_();\n                    if (s1 !== peg$FAILED) {\n                      s2 = peg$parseconnection();\n                      if (s2 !== peg$FAILED) {\n                        s3 = peg$parse_();\n                        if (s3 !== peg$FAILED) {\n                          s4 = peg$parseLineTerminator();\n                          if (s4 === peg$FAILED) {\n                            s4 = null;\n                          }\n                          if (s4 !== peg$FAILED) {\n                            peg$savedPos = s0;\n                            s1 = peg$c18(s2);\n                            s0 = s1;\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseLineTerminator() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 44) {\n          s2 = peg$c19;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c20); }\n        }\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsecomment();\n          if (s3 === peg$FAILED) {\n            s3 = null;\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parsenewline();\n            if (s4 === peg$FAILED) {\n              s4 = null;\n            }\n            if (s4 !== peg$FAILED) {\n              s1 = [s1, s2, s3, s4];\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsenewline() {\n      var s0;\n\n      if (peg$c21.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c22); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsecomment() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 35) {\n          s2 = peg$c23;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c24); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parseanychar();\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parseanychar();\n          }\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseconnection() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      s1 = peg$parsesource();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          if (input.substr(peg$currPos, 2) === peg$c25) {\n            s3 = peg$c25;\n            peg$currPos += 2;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c26); }\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parse_();\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parseconnection();\n              if (s5 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c27(s1, s5);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsedestination();\n      }\n\n      return s0;\n    }\n\n    function peg$parsesource() {\n      var s0;\n\n      s0 = peg$parsebridge();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseoutport();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseiip();\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parsedestination() {\n      var s0;\n\n      s0 = peg$parseinport();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsebridge();\n      }\n\n      return s0;\n    }\n\n    function peg$parsebridge() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parseport__();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsenode();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parse__port();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c28(s1, s2, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parseport__();\n        if (s1 === peg$FAILED) {\n          s1 = null;\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parsenodeWithComponent();\n          if (s2 !== peg$FAILED) {\n            s3 = peg$parse__port();\n            if (s3 === peg$FAILED) {\n              s3 = null;\n            }\n            if (s3 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c28(s1, s2, s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseoutport() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parsenode();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse__port();\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c29(s1, s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseinport() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parseport__();\n      if (s1 === peg$FAILED) {\n        s1 = null;\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsenode();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c30(s1, s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseiip() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 39) {\n        s1 = peg$c31;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c32); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parseiipchar();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parseiipchar();\n        }\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 39) {\n            s3 = peg$c31;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c32); }\n          }\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c33(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parseJSON_text();\n        if (s1 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c34(s1);\n        }\n        s0 = s1;\n      }\n\n      return s0;\n    }\n\n    function peg$parsenode() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      s1 = peg$parsenodeNameAndComponent();\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c35(s1);\n      }\n      s0 = s1;\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parsenodeName();\n        if (s1 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c35(s1);\n        }\n        s0 = s1;\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          s1 = peg$parsenodeComponent();\n          if (s1 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c35(s1);\n          }\n          s0 = s1;\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parsenodeName() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      if (peg$c36.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c37); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        if (peg$c38.test(input.charAt(peg$currPos))) {\n          s4 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s4 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c39); }\n        }\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          if (peg$c38.test(input.charAt(peg$currPos))) {\n            s4 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c39); }\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c40(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsenodeNameAndComponent() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parsenodeName();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsecomponent();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c41(s1, s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsenodeComponent() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      s1 = peg$parsecomponent();\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c42(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsenodeWithComponent() {\n      var s0;\n\n      s0 = peg$parsenodeNameAndComponent();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsenodeComponent();\n      }\n\n      return s0;\n    }\n\n    function peg$parsecomponent() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s1 = peg$c43;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c44); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        if (peg$c45.test(input.charAt(peg$currPos))) {\n          s3 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c46); }\n        }\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          if (peg$c45.test(input.charAt(peg$currPos))) {\n            s3 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c46); }\n          }\n        }\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsecompMeta();\n          if (s3 === peg$FAILED) {\n            s3 = null;\n          }\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 41) {\n              s4 = peg$c47;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c48); }\n            }\n            if (s4 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c49(s2, s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsecompMeta() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 58) {\n        s1 = peg$c5;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c6); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        if (peg$c50.test(input.charAt(peg$currPos))) {\n          s3 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c51); }\n        }\n        if (s3 !== peg$FAILED) {\n          while (s3 !== peg$FAILED) {\n            s2.push(s3);\n            if (peg$c50.test(input.charAt(peg$currPos))) {\n              s3 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s3 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c51); }\n            }\n          }\n        } else {\n          s2 = peg$FAILED;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c52(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseannotation() {\n      var s0, s1, s2, s3, s4, s5, s6, s7;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 35) {\n        s1 = peg$c23;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c24); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse__();\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 64) {\n            s3 = peg$c53;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c54); }\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = [];\n            if (peg$c55.test(input.charAt(peg$currPos))) {\n              s5 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c56); }\n            }\n            if (s5 !== peg$FAILED) {\n              while (s5 !== peg$FAILED) {\n                s4.push(s5);\n                if (peg$c55.test(input.charAt(peg$currPos))) {\n                  s5 = input.charAt(peg$currPos);\n                  peg$currPos++;\n                } else {\n                  s5 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c56); }\n                }\n              }\n            } else {\n              s4 = peg$FAILED;\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parse__();\n              if (s5 !== peg$FAILED) {\n                s6 = [];\n                if (peg$c57.test(input.charAt(peg$currPos))) {\n                  s7 = input.charAt(peg$currPos);\n                  peg$currPos++;\n                } else {\n                  s7 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c58); }\n                }\n                if (s7 !== peg$FAILED) {\n                  while (s7 !== peg$FAILED) {\n                    s6.push(s7);\n                    if (peg$c57.test(input.charAt(peg$currPos))) {\n                      s7 = input.charAt(peg$currPos);\n                      peg$currPos++;\n                    } else {\n                      s7 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c58); }\n                    }\n                  }\n                } else {\n                  s6 = peg$FAILED;\n                }\n                if (s6 !== peg$FAILED) {\n                  peg$savedPos = s0;\n                  s1 = peg$c59(s4, s6);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseport() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parseportName();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseportIndex();\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c60(s1, s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseport__() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parseport();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse__();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c61(s1);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parse__port() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parse__();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseport();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c61(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseportName() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      if (peg$c36.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c37); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        if (peg$c62.test(input.charAt(peg$currPos))) {\n          s4 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s4 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c63); }\n        }\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          if (peg$c62.test(input.charAt(peg$currPos))) {\n            s4 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c63); }\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c64(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parseportIndex() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 91) {\n        s1 = peg$c65;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c66); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        if (peg$c67.test(input.charAt(peg$currPos))) {\n          s3 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c68); }\n        }\n        if (s3 !== peg$FAILED) {\n          while (s3 !== peg$FAILED) {\n            s2.push(s3);\n            if (peg$c67.test(input.charAt(peg$currPos))) {\n              s3 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s3 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c68); }\n            }\n          }\n        } else {\n          s2 = peg$FAILED;\n        }\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 93) {\n            s3 = peg$c69;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c70); }\n          }\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c71(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseanychar() {\n      var s0;\n\n      if (peg$c72.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c73); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseiipchar() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      if (peg$c74.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c75); }\n      }\n      if (s1 !== peg$FAILED) {\n        if (peg$c76.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c77); }\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c78();\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        if (peg$c79.test(input.charAt(peg$currPos))) {\n          s0 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s0 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c80); }\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parse_() {\n      var s0, s1;\n\n      s0 = [];\n      if (input.charCodeAt(peg$currPos) === 32) {\n        s1 = peg$c81;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c82); }\n      }\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        if (input.charCodeAt(peg$currPos) === 32) {\n          s1 = peg$c81;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c82); }\n        }\n      }\n      if (s0 === peg$FAILED) {\n        s0 = null;\n      }\n\n      return s0;\n    }\n\n    function peg$parse__() {\n      var s0, s1;\n\n      s0 = [];\n      if (input.charCodeAt(peg$currPos) === 32) {\n        s1 = peg$c81;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c82); }\n      }\n      if (s1 !== peg$FAILED) {\n        while (s1 !== peg$FAILED) {\n          s0.push(s1);\n          if (input.charCodeAt(peg$currPos) === 32) {\n            s1 = peg$c81;\n            peg$currPos++;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c82); }\n          }\n        }\n      } else {\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseJSON_text() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsevalue();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c83(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsebegin_array() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 91) {\n          s2 = peg$c65;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c66); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsebegin_object() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 123) {\n          s2 = peg$c84;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c85); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseend_array() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 93) {\n          s2 = peg$c69;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c70); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseend_object() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 125) {\n          s2 = peg$c86;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c87); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsename_separator() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 58) {\n          s2 = peg$c5;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c6); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsevalue_separator() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 44) {\n          s2 = peg$c19;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c20); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsews() {\n      var s0, s1;\n\n      peg$silentFails++;\n      s0 = [];\n      if (peg$c89.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c90); }\n      }\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        if (peg$c89.test(input.charAt(peg$currPos))) {\n          s1 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c90); }\n        }\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c88); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsevalue() {\n      var s0;\n\n      s0 = peg$parsefalse();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsenull();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parsetrue();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseobject();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parsearray();\n              if (s0 === peg$FAILED) {\n                s0 = peg$parsenumber();\n                if (s0 === peg$FAILED) {\n                  s0 = peg$parsestring();\n                }\n              }\n            }\n          }\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parsefalse() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 5) === peg$c91) {\n        s1 = peg$c91;\n        peg$currPos += 5;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c92); }\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c93();\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsenull() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 4) === peg$c94) {\n        s1 = peg$c94;\n        peg$currPos += 4;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c95); }\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c96();\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsetrue() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 4) === peg$c97) {\n        s1 = peg$c97;\n        peg$currPos += 4;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c98); }\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c99();\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parseobject() {\n      var s0, s1, s2, s3, s4, s5, s6, s7;\n\n      s0 = peg$currPos;\n      s1 = peg$parsebegin_object();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$currPos;\n        s3 = peg$parsemember();\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          s5 = peg$currPos;\n          s6 = peg$parsevalue_separator();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsemember();\n            if (s7 !== peg$FAILED) {\n              peg$savedPos = s5;\n              s6 = peg$c100(s3, s7);\n              s5 = s6;\n            } else {\n              peg$currPos = s5;\n              s5 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s5;\n            s5 = peg$FAILED;\n          }\n          while (s5 !== peg$FAILED) {\n            s4.push(s5);\n            s5 = peg$currPos;\n            s6 = peg$parsevalue_separator();\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parsemember();\n              if (s7 !== peg$FAILED) {\n                peg$savedPos = s5;\n                s6 = peg$c100(s3, s7);\n                s5 = s6;\n              } else {\n                peg$currPos = s5;\n                s5 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s5;\n              s5 = peg$FAILED;\n            }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s2;\n            s3 = peg$c101(s3, s4);\n            s2 = s3;\n          } else {\n            peg$currPos = s2;\n            s2 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$FAILED;\n        }\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parseend_object();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c102(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsemember() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsestring();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsename_separator();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsevalue();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c103(s1, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsearray() {\n      var s0, s1, s2, s3, s4, s5, s6, s7;\n\n      s0 = peg$currPos;\n      s1 = peg$parsebegin_array();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$currPos;\n        s3 = peg$parsevalue();\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          s5 = peg$currPos;\n          s6 = peg$parsevalue_separator();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsevalue();\n            if (s7 !== peg$FAILED) {\n              peg$savedPos = s5;\n              s6 = peg$c104(s3, s7);\n              s5 = s6;\n            } else {\n              peg$currPos = s5;\n              s5 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s5;\n            s5 = peg$FAILED;\n          }\n          while (s5 !== peg$FAILED) {\n            s4.push(s5);\n            s5 = peg$currPos;\n            s6 = peg$parsevalue_separator();\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parsevalue();\n              if (s7 !== peg$FAILED) {\n                peg$savedPos = s5;\n                s6 = peg$c104(s3, s7);\n                s5 = s6;\n              } else {\n                peg$currPos = s5;\n                s5 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s5;\n              s5 = peg$FAILED;\n            }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s2;\n            s3 = peg$c105(s3, s4);\n            s2 = s3;\n          } else {\n            peg$currPos = s2;\n            s2 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$FAILED;\n        }\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parseend_array();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c106(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsenumber() {\n      var s0, s1, s2, s3, s4;\n\n      peg$silentFails++;\n      s0 = peg$currPos;\n      s1 = peg$parseminus();\n      if (s1 === peg$FAILED) {\n        s1 = null;\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseint();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsefrac();\n          if (s3 === peg$FAILED) {\n            s3 = null;\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parseexp();\n            if (s4 === peg$FAILED) {\n              s4 = null;\n            }\n            if (s4 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c108();\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c107); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsedecimal_point() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 46) {\n        s0 = peg$c3;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c4); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsedigit1_9() {\n      var s0;\n\n      if (peg$c109.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c110); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsee() {\n      var s0;\n\n      if (peg$c111.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c112); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseexp() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      s1 = peg$parsee();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseminus();\n        if (s2 === peg$FAILED) {\n          s2 = peg$parseplus();\n        }\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parseDIGIT();\n          if (s4 !== peg$FAILED) {\n            while (s4 !== peg$FAILED) {\n              s3.push(s4);\n              s4 = peg$parseDIGIT();\n            }\n          } else {\n            s3 = peg$FAILED;\n          }\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsefrac() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsedecimal_point();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parseDIGIT();\n        if (s3 !== peg$FAILED) {\n          while (s3 !== peg$FAILED) {\n            s2.push(s3);\n            s3 = peg$parseDIGIT();\n          }\n        } else {\n          s2 = peg$FAILED;\n        }\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseint() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$parsezero();\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parsedigit1_9();\n        if (s1 !== peg$FAILED) {\n          s2 = [];\n          s3 = peg$parseDIGIT();\n          while (s3 !== peg$FAILED) {\n            s2.push(s3);\n            s3 = peg$parseDIGIT();\n          }\n          if (s2 !== peg$FAILED) {\n            s1 = [s1, s2];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseminus() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 45) {\n        s0 = peg$c113;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c114); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseplus() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 43) {\n        s0 = peg$c115;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c116); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsezero() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 48) {\n        s0 = peg$c117;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c118); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsestring() {\n      var s0, s1, s2, s3;\n\n      peg$silentFails++;\n      s0 = peg$currPos;\n      s1 = peg$parsequotation_mark();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parsechar();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsechar();\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsequotation_mark();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c120(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c119); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsechar() {\n      var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9;\n\n      s0 = peg$parseunescaped();\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parseescape();\n        if (s1 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 34) {\n            s2 = peg$c121;\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c122); }\n          }\n          if (s2 === peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 92) {\n              s2 = peg$c123;\n              peg$currPos++;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c124); }\n            }\n            if (s2 === peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 47) {\n                s2 = peg$c125;\n                peg$currPos++;\n              } else {\n                s2 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c126); }\n              }\n              if (s2 === peg$FAILED) {\n                s2 = peg$currPos;\n                if (input.charCodeAt(peg$currPos) === 98) {\n                  s3 = peg$c127;\n                  peg$currPos++;\n                } else {\n                  s3 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c128); }\n                }\n                if (s3 !== peg$FAILED) {\n                  peg$savedPos = s2;\n                  s3 = peg$c129();\n                }\n                s2 = s3;\n                if (s2 === peg$FAILED) {\n                  s2 = peg$currPos;\n                  if (input.charCodeAt(peg$currPos) === 102) {\n                    s3 = peg$c130;\n                    peg$currPos++;\n                  } else {\n                    s3 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c131); }\n                  }\n                  if (s3 !== peg$FAILED) {\n                    peg$savedPos = s2;\n                    s3 = peg$c132();\n                  }\n                  s2 = s3;\n                  if (s2 === peg$FAILED) {\n                    s2 = peg$currPos;\n                    if (input.charCodeAt(peg$currPos) === 110) {\n                      s3 = peg$c133;\n                      peg$currPos++;\n                    } else {\n                      s3 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c134); }\n                    }\n                    if (s3 !== peg$FAILED) {\n                      peg$savedPos = s2;\n                      s3 = peg$c135();\n                    }\n                    s2 = s3;\n                    if (s2 === peg$FAILED) {\n                      s2 = peg$currPos;\n                      if (input.charCodeAt(peg$currPos) === 114) {\n                        s3 = peg$c136;\n                        peg$currPos++;\n                      } else {\n                        s3 = peg$FAILED;\n                        if (peg$silentFails === 0) { peg$fail(peg$c137); }\n                      }\n                      if (s3 !== peg$FAILED) {\n                        peg$savedPos = s2;\n                        s3 = peg$c138();\n                      }\n                      s2 = s3;\n                      if (s2 === peg$FAILED) {\n                        s2 = peg$currPos;\n                        if (input.charCodeAt(peg$currPos) === 116) {\n                          s3 = peg$c139;\n                          peg$currPos++;\n                        } else {\n                          s3 = peg$FAILED;\n                          if (peg$silentFails === 0) { peg$fail(peg$c140); }\n                        }\n                        if (s3 !== peg$FAILED) {\n                          peg$savedPos = s2;\n                          s3 = peg$c141();\n                        }\n                        s2 = s3;\n                        if (s2 === peg$FAILED) {\n                          s2 = peg$currPos;\n                          if (input.charCodeAt(peg$currPos) === 117) {\n                            s3 = peg$c142;\n                            peg$currPos++;\n                          } else {\n                            s3 = peg$FAILED;\n                            if (peg$silentFails === 0) { peg$fail(peg$c143); }\n                          }\n                          if (s3 !== peg$FAILED) {\n                            s4 = peg$currPos;\n                            s5 = peg$currPos;\n                            s6 = peg$parseHEXDIG();\n                            if (s6 !== peg$FAILED) {\n                              s7 = peg$parseHEXDIG();\n                              if (s7 !== peg$FAILED) {\n                                s8 = peg$parseHEXDIG();\n                                if (s8 !== peg$FAILED) {\n                                  s9 = peg$parseHEXDIG();\n                                  if (s9 !== peg$FAILED) {\n                                    s6 = [s6, s7, s8, s9];\n                                    s5 = s6;\n                                  } else {\n                                    peg$currPos = s5;\n                                    s5 = peg$FAILED;\n                                  }\n                                } else {\n                                  peg$currPos = s5;\n                                  s5 = peg$FAILED;\n                                }\n                              } else {\n                                peg$currPos = s5;\n                                s5 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s5;\n                              s5 = peg$FAILED;\n                            }\n                            if (s5 !== peg$FAILED) {\n                              s4 = input.substring(s4, peg$currPos);\n                            } else {\n                              s4 = s5;\n                            }\n                            if (s4 !== peg$FAILED) {\n                              peg$savedPos = s2;\n                              s3 = peg$c144(s4);\n                              s2 = s3;\n                            } else {\n                              peg$currPos = s2;\n                              s2 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s2;\n                            s2 = peg$FAILED;\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n          if (s2 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c145(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseescape() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 92) {\n        s0 = peg$c123;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c124); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsequotation_mark() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 34) {\n        s0 = peg$c121;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c122); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseunescaped() {\n      var s0;\n\n      if (peg$c146.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c147); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseDIGIT() {\n      var s0;\n\n      if (peg$c67.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c68); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseHEXDIG() {\n      var s0;\n\n      if (peg$c148.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c149); }\n      }\n\n      return s0;\n    }\n\n\n      var parser, edges, nodes;\n\n      var defaultInPort = \"IN\", defaultOutPort = \"OUT\";\n\n      parser = this;\n      delete parser.properties;\n      delete parser.inports;\n      delete parser.outports;\n      delete parser.groups;\n\n      edges = parser.edges = [];\n\n      nodes = {};\n\n      var serialize, indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n      parser.validateContents = function(graph, options) {\n        // Ensure all nodes have a component\n        if (graph.processes) {\n          Object.keys(graph.processes).forEach(function (node) {\n            if (!graph.processes[node].component) {\n              throw new Error('Node \"' + node + '\" does not have a component defined');\n            }\n          });\n        }\n        // Ensure all inports point to existing nodes\n        if (graph.inports) {\n          Object.keys(graph.inports).forEach(function (port) {\n            var portDef = graph.inports[port];\n            if (!graph.processes[portDef.process]) {\n              throw new Error('Inport \"' + port + '\" is connected to an undefined target node \"' + portDef.process + '\"');\n            }\n          });\n        }\n        // Ensure all outports point to existing nodes\n        if (graph.outports) {\n          Object.keys(graph.outports).forEach(function (port) {\n            var portDef = graph.outports[port];\n            if (!graph.processes[portDef.process]) {\n              throw new Error('Outport \"' + port + '\" is connected to an undefined source node \"' + portDef.process + '\"');\n            }\n          });\n        }\n        // Ensure all edges have nodes defined\n        if (graph.connections) {\n          graph.connections.forEach(function (edge) {\n            if (edge.tgt && !graph.processes[edge.tgt.process]) {\n              if (edge.data) {\n                throw new Error('IIP containing \"' + edge.data + '\" is connected to an undefined target node \"' + edge.tgt.process + '\"');\n              }\n              throw new Error('Edge from \"' + edge.src.process + '\" port \"' + edge.src.port + '\" is connected to an undefined target node \"' + edge.tgt.process + '\"');\n            }\n            if (edge.src && !graph.processes[edge.src.process]) {\n              throw new Error('Edge to \"' + edge.tgt.process + '\" port \"' + edge.tgt.port + '\" is connected to an undefined source node \"' + edge.src.process + '\"');\n            }\n          });\n        }\n      };\n\n      parser.addNode = function (nodeName, comp) {\n        if (!nodes[nodeName]) {\n          nodes[nodeName] = {}\n        }\n        if (!!comp.comp) {\n          nodes[nodeName].component = comp.comp;\n        }\n        if (!!comp.meta) {\n          var metadata = {};\n          for (var i = 0; i < comp.meta.length; i++) {\n            var item = comp.meta[i].split('=');\n            if (item.length === 1) {\n              item = ['routes', item[0]];\n            }\n            var key = item[0];\n            var value = item[1];\n            if (key==='x' || key==='y') {\n              value = parseFloat(value);\n            }\n            metadata[key] = value;\n          }\n          nodes[nodeName].metadata=metadata;\n        }\n\n      }\n\n      var anonymousIndexes = {};\n      var anonymousNodeNames = {};\n      parser.addAnonymousNode = function(comp, offset) {\n          if (!anonymousNodeNames[offset]) {\n              var componentName = comp.comp.replace(/[^a-zA-Z0-9]+/, \"_\");\n              anonymousIndexes[componentName] = (anonymousIndexes[componentName] || 0) + 1;\n              anonymousNodeNames[offset] = \"_\" + componentName + \"_\" + anonymousIndexes[componentName];\n              this.addNode(anonymousNodeNames[offset], comp);\n          }\n          return anonymousNodeNames[offset];\n      }\n\n      parser.getResult = function () {\n        var result = {\n          inports: parser.inports || {},\n          outports: parser.outports || {},\n          groups: parser.groups || [],\n          processes: nodes || {},\n          connections: parser.processEdges()\n        };\n\n        if (parser.properties) {\n          result.properties = parser.properties;\n        }\n        result.caseSensitive = options.caseSensitive || false;\n\n        var validateSchema = parser.validateSchema; // default\n        if (typeof(options.validateSchema) !== 'undefined') { validateSchema = options.validateSchema; } // explicit option\n        if (validateSchema) {\n          if (typeof(tv4) === 'undefined') {\n            var tv4 = require(\"tv4\");\n          }\n          var schema = require(\"../schema/graph.json\");\n          var validation = tv4.validateMultiple(result, schema);\n          if (!validation.valid) {\n            throw new Error(\"fbp: Did not validate againt graph schema:\\n\" + JSON.stringify(validation.errors, null, 2));\n          }\n        }\n\n        if (typeof options.validateContents === 'undefined' || options.validateContents) {\n          parser.validateContents(result);\n        }\n\n        return result;\n      }\n\n      var flatten = function (array, isShallow) {\n        var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n        while (++index < length) {\n          var value = array[index];\n\n          if (value instanceof Array) {\n            Array.prototype.push.apply(result, isShallow ? value : flatten(value));\n          }\n          else {\n            result.push(value);\n          }\n        }\n        return result;\n      }\n\n      parser.registerAnnotation = function (key, value) {\n        if (!parser.properties) {\n          parser.properties = {};\n        }\n\n        if (key === 'runtime') {\n          parser.properties.environment = {};\n          parser.properties.environment.type = value;\n          return;\n        }\n\n        parser.properties[key] = value;\n      };\n\n      parser.registerInports = function (node, port, pub) {\n        if (!parser.inports) {\n          parser.inports = {};\n        }\n\n        if (!options.caseSensitive) {\n          pub = pub.toLowerCase();\n          port = port.toLowerCase();\n        }\n\n        parser.inports[pub] = {process:node, port:port};\n      }\n      parser.registerOutports = function (node, port, pub) {\n        if (!parser.outports) {\n          parser.outports = {};\n        }\n\n        if (!options.caseSensitive) {\n          pub = pub.toLowerCase();\n          port = port.toLowerCase();\n        }\n\n        parser.outports[pub] = {process:node, port:port};\n      }\n\n      parser.registerEdges = function (edges) {\n        if (Array.isArray(edges)) {\n          edges.forEach(function (o, i) {\n            parser.edges.push(o);\n          });\n        }\n      }\n\n      parser.processEdges = function () {\n        var flats, grouped;\n        flats = flatten(parser.edges);\n        grouped = [];\n        var current = {};\n        for (var i = 1; i < flats.length; i += 1) {\n            // skip over default ports at the beginning of lines (could also handle this in grammar)\n            if ((\"src\" in flats[i - 1] || \"data\" in flats[i - 1]) && \"tgt\" in flats[i]) {\n                flats[i - 1].tgt = flats[i].tgt;\n                grouped.push(flats[i - 1]);\n                i++;\n            }\n        }\n        return grouped;\n      }\n\n      function makeName(s) {\n        return s[0] + s[1].join(\"\");\n      }\n\n      function makePort(process, port, defaultPort) {\n        if (!options.caseSensitive) {\n          defaultPort = defaultPort.toLowerCase()\n        }\n        var p = {\n            process: process,\n            port: port ? port.port : defaultPort\n        };\n        if (port && port.index != null) {\n            p.index = port.index;\n        }\n        return p;\n    }\n\n      function makeInPort(process, port) {\n          return makePort(process, port, defaultInPort);\n      }\n      function makeOutPort(process, port) {\n          return makePort(process, port, defaultOutPort);\n      }\n\n\n    peg$result = peg$startRuleFunction();\n\n    if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n      return peg$result;\n    } else {\n      if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n        peg$fail({ type: \"end\", description: \"end of input\" });\n      }\n\n      throw peg$buildException(\n        null,\n        peg$maxFailExpected,\n        peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n        peg$maxFailPos < input.length\n          ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n          : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n      );\n    }\n  }\n\n  return {\n    SyntaxError: peg$SyntaxError,\n    parse:       peg$parse\n  };\n})();","var indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nmodule.exports = function serialize(graph, options) {\n  var conn, getInOutName, getName, i, inPort, input, len, name, namedComponents, outPort, output, process, ref, ref1, ref2, src, srcName, srcPort, srcProcess, tgt, tgtName, tgtPort, tgtProcess;\n  if (options == null) {\n    options = {};\n  }\n  if (typeof(graph) === 'string') {\n    input = JSON.parse(graph);\n  } else {\n    input = graph;\n  }\n  namedComponents = [];\n  output = \"\";\n  getName = function(name) {\n    if (input.processes[name].metadata != null) {\n      name = input.processes[name].metadata.label;\n    }\n    if (name.indexOf('/') > -1) {\n      name = name.split('/').pop();\n    }\n    return name;\n  };\n  getInOutName = function(name, data) {\n    if ((data.process != null) && (input.processes[data.process].metadata != null)) {\n      name = input.processes[data.process].metadata.label;\n    } else if (data.process != null) {\n      name = data.process;\n    }\n    if (name.indexOf('/') > -1) {\n      name = name.split('/').pop();\n    }\n    return name;\n  };\n  if (input.properties) {\n    if (input.properties.environment && input.properties.environment.type) {\n      output += \"# @runtime \" + input.properties.environment.type + \"\\n\";\n    }\n    Object.keys(input.properties).forEach(function (prop) {\n      if (!prop.match(/^[a-zA-Z0-9\\-_]+$/)) {\n        return;\n      }\n      var propval = input.properties[prop];\n      if (typeof propval !== 'string') {\n        return;\n      }\n      if (!propval.match(/^[a-zA-Z0-9\\-_\\s\\.]+$/)) {\n        return;\n      }\n      output += \"# @\" + prop + \" \" + propval + '\\n';\n    });\n  }\n  ref = input.inports;\n  for (name in ref) {\n    inPort = ref[name];\n    process = getInOutName(name, inPort);\n    name = input.caseSensitive ? name : name.toUpperCase();\n    inPort.port = input.caseSensitive ? inPort.port : inPort.port.toUpperCase();\n    output += \"INPORT=\" + process + \".\" + inPort.port + \":\" + name + \"\\n\";\n  }\n  ref1 = input.outports;\n  for (name in ref1) {\n    outPort = ref1[name];\n    process = getInOutName(name, outPort);\n    name = input.caseSensitive ? name : name.toUpperCase();\n    outPort.port = input.caseSensitive ? outPort.port : outPort.port.toUpperCase();\n    output += \"OUTPORT=\" + process + \".\" + outPort.port + \":\" + name + \"\\n\";\n  }\n  output += \"\\n\";\n  ref2 = input.connections;\n  for (i = 0, len = ref2.length; i < len; i++) {\n    conn = ref2[i];\n    if (conn.data != null) {\n      tgtPort = input.caseSensitive ? conn.tgt.port : conn.tgt.port.toUpperCase();\n      tgtName = conn.tgt.process;\n      tgtProcess = input.processes[tgtName].component;\n      tgt = getName(tgtName);\n      if (indexOf.call(namedComponents, tgtProcess) < 0) {\n        tgt += \"(\" + tgtProcess + \")\";\n        namedComponents.push(tgtProcess);\n      }\n      output += '\"' + conn.data + '\"' + (\" -> \" + tgtPort + \" \" + tgt + \"\\n\");\n    } else {\n      srcPort = input.caseSensitive ? conn.src.port : conn.src.port.toUpperCase();\n      srcName = conn.src.process;\n      srcProcess = input.processes[srcName].component;\n      src = getName(srcName);\n      if (indexOf.call(namedComponents, srcProcess) < 0) {\n        src += \"(\" + srcProcess + \")\";\n        namedComponents.push(srcProcess);\n      }\n      tgtPort = input.caseSensitive ? conn.tgt.port : conn.tgt.port.toUpperCase();\n      tgtName = conn.tgt.process;\n      tgtProcess = input.processes[tgtName].component;\n      tgt = getName(tgtName);\n      if (indexOf.call(namedComponents, tgtProcess) < 0) {\n        tgt += \"(\" + tgtProcess + \")\";\n        namedComponents.push(tgtProcess);\n      }\n      output += src + \" \" + srcPort + \" -> \" + tgtPort + \" \" + tgt + \"\\n\";\n    }\n  }\n  return output;\n}\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MemoryJournalStore = exports.JournalStore = exports.Journal = void 0;\n//     FBP Graph Journal\n//     (c) 2016-2020 Flowhub UG\n//     (c) 2014 Jon Nordby\n//     (c) 2013 Flowhub UG\n//     (c) 2011-2012 Henri Bergius, Nemein\n//     FBP Graph may be freely distributed under the MIT license\nconst events_1 = require(\"events\");\nconst clone = require(\"clone\");\nconst JournalStore_1 = require(\"./JournalStore\");\nexports.JournalStore = JournalStore_1.default;\nconst MemoryJournalStore_1 = require(\"./MemoryJournalStore\");\nexports.MemoryJournalStore = MemoryJournalStore_1.default;\nfunction entryToPrettyString(entry) {\n    const a = entry.args;\n    switch (entry.cmd) {\n        case 'addNode': return `${a.id}(${a.component})`;\n        case 'removeNode': return `DEL ${a.id}(${a.component})`;\n        case 'renameNode': return `RENAME ${a.oldId} ${a.newId}`;\n        case 'changeNode': return `META ${a.id}`;\n        case 'addEdge': return `${a.from.node} ${a.from.port} -> ${a.to.port} ${a.to.node}`;\n        case 'removeEdge': return `${a.from.node} ${a.from.port} -X> ${a.to.port} ${a.to.node}`;\n        case 'changeEdge': return `META ${a.from.node} ${a.from.port} -> ${a.to.port} ${a.to.node}`;\n        case 'addInitial': return `'${a.from.data}' -> ${a.to.port} ${a.to.node}`;\n        case 'removeInitial': return `'${a.from.data}' -X> ${a.to.port} ${a.to.node}`;\n        case 'startTransaction': return `>>> ${entry.rev}: ${a.id}`;\n        case 'endTransaction': return `<<< ${entry.rev}: ${a.id}`;\n        case 'changeProperties': return 'PROPERTIES';\n        case 'addGroup': return `GROUP ${a.name}`;\n        case 'renameGroup': return `RENAME GROUP ${a.oldName} ${a.newName}`;\n        case 'removeGroup': return `DEL GROUP ${a.name}`;\n        case 'changeGroup': return `META GROUP ${a.name}`;\n        case 'addInport': return `INPORT ${a.name}`;\n        case 'removeInport': return `DEL INPORT ${a.name}`;\n        case 'renameInport': return `RENAME INPORT ${a.oldId} ${a.newId}`;\n        case 'changeInport': return `META INPORT ${a.name}`;\n        case 'addOutport': return `OUTPORT ${a.name}`;\n        case 'removeOutport': return `DEL OUTPORT ${a.name}`;\n        case 'renameOutport': return `RENAME OUTPORT ${a.oldId} ${a.newId}`;\n        case 'changeOutport': return `META OUTPORT ${a.name}`;\n        default: throw new Error(`Unknown journal entry: ${entry.cmd}`);\n    }\n}\n// To set, not just update (append) metadata\nfunction calculateMeta(oldMeta, newMeta) {\n    const setMeta = {};\n    Object.keys(oldMeta).forEach((k) => {\n        setMeta[k] = null;\n    });\n    Object.keys(newMeta).forEach((k) => {\n        const v = newMeta[k];\n        setMeta[k] = v;\n    });\n    return setMeta;\n}\n// ## Journalling graph changes\n//\n// The Journal can follow graph changes, store them\n// and allows to recall previous revisions of the graph.\n//\n// Revisions stored in the journal follow the transactions of the graph.\n// It is not possible to operate on smaller changes than individual transactions.\n// Use startTransaction and endTransaction on Graph to structure the revisions logical changesets.\nclass Journal extends events_1.EventEmitter {\n    constructor(graph, metadata, store) {\n        super();\n        this.graph = graph;\n        // Entries added during this revision\n        this.entries = [];\n        // Whether we should respond to graph change notifications or not\n        this.subscribed = true;\n        this.store = store || new MemoryJournalStore_1.default(this.graph);\n        if (this.store.countTransactions() === 0) {\n            // Sync journal with current graph to start transaction history\n            this.currentRevision = -1;\n            this.startTransaction('initial', metadata || {});\n            this.graph.nodes.forEach((node) => {\n                this.appendCommand('addNode', node);\n            });\n            this.graph.edges.forEach((edge) => {\n                this.appendCommand('addEdge', edge);\n            });\n            this.graph.initializers.forEach((iip) => {\n                this.appendCommand('addInitial', iip);\n            });\n            if (Object.keys(this.graph.properties).length > 0) {\n                this.appendCommand('changeProperties', this.graph.properties);\n            }\n            Object.keys(this.graph.inports).forEach((name) => {\n                const port = this.graph.inports[name];\n                this.appendCommand('addInport', {\n                    name,\n                    port,\n                });\n            });\n            Object.keys(this.graph.outports).forEach((name) => {\n                const port = this.graph.outports[name];\n                this.appendCommand('addOutport', {\n                    name,\n                    port,\n                });\n            });\n            this.graph.groups.forEach((group) => {\n                this.appendCommand('addGroup', group);\n            });\n            this.endTransaction('initial', metadata || {});\n        }\n        else {\n            // Persistent store, start with its latest rev\n            this.currentRevision = this.store.lastRevision;\n        }\n        // Subscribe to graph changes\n        this.graph.on('addNode', (node) => {\n            this.appendCommand('addNode', node);\n        });\n        this.graph.on('removeNode', (node) => {\n            this.appendCommand('removeNode', node);\n        });\n        this.graph.on('renameNode', (oldId, newId) => {\n            const args = {\n                oldId,\n                newId,\n            };\n            this.appendCommand('renameNode', args);\n        });\n        this.graph.on('changeNode', (node, oldMeta) => {\n            this.appendCommand('changeNode', {\n                id: node.id,\n                new: node.metadata,\n                old: oldMeta,\n            });\n        });\n        this.graph.on('addEdge', (edge) => {\n            this.appendCommand('addEdge', edge);\n        });\n        this.graph.on('removeEdge', (edge) => {\n            this.appendCommand('removeEdge', edge);\n        });\n        this.graph.on('changeEdge', (edge, oldMeta) => {\n            this.appendCommand('changeEdge', {\n                from: edge.from,\n                to: edge.to,\n                new: edge.metadata,\n                old: oldMeta,\n            });\n        });\n        this.graph.on('addInitial', (iip) => {\n            this.appendCommand('addInitial', iip);\n        });\n        this.graph.on('removeInitial', (iip) => {\n            this.appendCommand('removeInitial', iip);\n        });\n        this.graph.on('changeProperties', (newProps, oldProps) => this.appendCommand('changeProperties', { new: newProps, old: oldProps }));\n        this.graph.on('addGroup', (group) => this.appendCommand('addGroup', group));\n        this.graph.on('renameGroup', (oldName, newName) => this.appendCommand('renameGroup', {\n            oldName,\n            newName,\n        }));\n        this.graph.on('removeGroup', (group) => this.appendCommand('removeGroup', group));\n        this.graph.on('changeGroup', (group, oldMeta) => this.appendCommand('changeGroup', { name: group.name, new: group.metadata, old: oldMeta }));\n        this.graph.on('addExport', (exported) => this.appendCommand('addExport', exported));\n        this.graph.on('removeExport', (exported) => this.appendCommand('removeExport', exported));\n        this.graph.on('addInport', (name, port) => this.appendCommand('addInport', { name, port }));\n        this.graph.on('removeInport', (name, port) => this.appendCommand('removeInport', { name, port }));\n        this.graph.on('renameInport', (oldId, newId) => this.appendCommand('renameInport', { oldId, newId }));\n        this.graph.on('changeInport', (name, port, oldMeta) => this.appendCommand('changeInport', { name, new: port.metadata, old: oldMeta }));\n        this.graph.on('addOutport', (name, port) => this.appendCommand('addOutport', { name, port }));\n        this.graph.on('removeOutport', (name, port) => this.appendCommand('removeOutport', { name, port }));\n        this.graph.on('renameOutport', (oldId, newId) => this.appendCommand('renameOutport', { oldId, newId }));\n        this.graph.on('changeOutport', (name, port, oldMeta) => this.appendCommand('changeOutport', { name, new: port.metadata, old: oldMeta }));\n        this.graph.on('startTransaction', (id, meta) => {\n            this.startTransaction(id, meta);\n        });\n        this.graph.on('endTransaction', (id, meta) => {\n            this.endTransaction(id, meta);\n        });\n    }\n    startTransaction(id, meta) {\n        if (!this.subscribed) {\n            return;\n        }\n        if (this.entries.length > 0) {\n            throw Error('Inconsistent @entries');\n        }\n        this.currentRevision += 1;\n        this.appendCommand('startTransaction', {\n            id,\n            metadata: meta,\n        }, this.currentRevision);\n    }\n    endTransaction(id, meta) {\n        if (!this.subscribed) {\n            return;\n        }\n        this.appendCommand('endTransaction', {\n            id, metadata: meta,\n        }, this.currentRevision);\n        // TODO: this would be the place to refine @entries into\n        // a minimal set of changes, like eliminating changes early in transaction\n        // which were later reverted/overwritten\n        this.store.putTransaction(this.currentRevision, this.entries);\n        this.entries = [];\n    }\n    appendCommand(cmd, args, rev = null) {\n        if (!this.subscribed) {\n            return;\n        }\n        const entry = {\n            cmd,\n            args: clone(args),\n            rev: rev,\n        };\n        this.entries.push(entry);\n    }\n    executeEntry(entry) {\n        const a = entry.args;\n        switch (entry.cmd) {\n            case 'addNode': {\n                this.graph.addNode(a.id, a.component);\n                break;\n            }\n            case 'removeNode': {\n                this.graph.removeNode(a.id);\n                break;\n            }\n            case 'renameNode': {\n                this.graph.renameNode(a.oldId, a.newId);\n                break;\n            }\n            case 'changeNode': {\n                this.graph.setNodeMetadata(a.id, calculateMeta(a.old, a.new));\n                break;\n            }\n            case 'addEdge': {\n                this.graph.addEdge(a.from.node, a.from.port, a.to.node, a.to.port);\n                break;\n            }\n            case 'removeEdge': {\n                this.graph.removeEdge(a.from.node, a.from.port, a.to.node, a.to.port);\n                break;\n            }\n            case 'changeEdge': {\n                this.graph.setEdgeMetadata(a.from.node, a.from.port, a.to.node, a.to.port, calculateMeta(a.old, a.new));\n                break;\n            }\n            case 'addInitial': {\n                if (typeof a.to.index === 'number') {\n                    this.graph.addInitialIndex(a.from.data, a.to.node, a.to.port, a.to.index, a.metadata);\n                }\n                else {\n                    this.graph.addInitial(a.from.data, a.to.node, a.to.port, a.metadata);\n                }\n                break;\n            }\n            case 'removeInitial': {\n                this.graph.removeInitial(a.to.node, a.to.port);\n                break;\n            }\n            case 'startTransaction': {\n                break;\n            }\n            case 'endTransaction': {\n                break;\n            }\n            case 'changeProperties': {\n                this.graph.setProperties(a.new);\n                break;\n            }\n            case 'addGroup': {\n                this.graph.addGroup(a.name, a.nodes, a.metadata);\n                break;\n            }\n            case 'renameGroup': {\n                this.graph.renameGroup(a.oldName, a.newName);\n                break;\n            }\n            case 'removeGroup': {\n                this.graph.removeGroup(a.name);\n                break;\n            }\n            case 'changeGroup': {\n                this.graph.setGroupMetadata(a.name, calculateMeta(a.old, a.new));\n                break;\n            }\n            case 'addInport': {\n                this.graph.addInport(a.name, a.port.process, a.port.port, a.port.metadata);\n                break;\n            }\n            case 'removeInport': {\n                this.graph.removeInport(a.name);\n                break;\n            }\n            case 'renameInport': {\n                this.graph.renameInport(a.oldId, a.newId);\n                break;\n            }\n            case 'changeInport': {\n                this.graph.setInportMetadata(a.name, calculateMeta(a.old, a.new));\n                break;\n            }\n            case 'addOutport': {\n                this.graph.addOutport(a.name, a.port.process, a.port.port, a.port.metadata(a.name));\n                break;\n            }\n            case 'removeOutport': {\n                this.graph.removeOutport(a.name);\n                break;\n            }\n            case 'renameOutport': {\n                this.graph.renameOutport(a.oldId, a.newId);\n                break;\n            }\n            case 'changeOutport': {\n                this.graph.setOutportMetadata(a.name, calculateMeta(a.old, a.new));\n                break;\n            }\n            default: throw new Error(`Unknown journal entry: ${entry.cmd}`);\n        }\n    }\n    executeEntryInversed(entry) {\n        const a = entry.args;\n        switch (entry.cmd) {\n            case 'addNode': {\n                this.graph.removeNode(a.id);\n                break;\n            }\n            case 'removeNode': {\n                this.graph.addNode(a.id, a.component);\n                break;\n            }\n            case 'renameNode': {\n                this.graph.renameNode(a.newId, a.oldId);\n                break;\n            }\n            case 'changeNode': {\n                this.graph.setNodeMetadata(a.id, calculateMeta(a.new, a.old));\n                break;\n            }\n            case 'addEdge': {\n                this.graph.removeEdge(a.from.node, a.from.port, a.to.node, a.to.port);\n                break;\n            }\n            case 'removeEdge': {\n                this.graph.addEdge(a.from.node, a.from.port, a.to.node, a.to.port);\n                break;\n            }\n            case 'changeEdge': {\n                this.graph.setEdgeMetadata(a.from.node, a.from.port, a.to.node, a.to.port, calculateMeta(a.new, a.old));\n                break;\n            }\n            case 'addInitial': {\n                this.graph.removeInitial(a.to.node, a.to.port);\n                break;\n            }\n            case 'removeInitial': {\n                if (typeof a.to.index === 'number') {\n                    this.graph.addInitialIndex(a.from.data, a.to.node, a.to.port, a.to.index, a.metadata);\n                }\n                else {\n                    this.graph.addInitial(a.from.data, a.to.node, a.to.port, a.metadata);\n                }\n                break;\n            }\n            case 'startTransaction': {\n                break;\n            }\n            case 'endTransaction': {\n                break;\n            }\n            case 'changeProperties': {\n                this.graph.setProperties(a.old);\n                break;\n            }\n            case 'addGroup': {\n                this.graph.removeGroup(a.name);\n                break;\n            }\n            case 'renameGroup': {\n                this.graph.renameGroup(a.newName, a.oldName);\n                break;\n            }\n            case 'removeGroup': {\n                this.graph.addGroup(a.name, a.nodes, a.metadata);\n                break;\n            }\n            case 'changeGroup': {\n                this.graph.setGroupMetadata(a.name, calculateMeta(a.new, a.old));\n                break;\n            }\n            case 'addInport': {\n                this.graph.removeInport(a.name);\n                break;\n            }\n            case 'removeInport': {\n                this.graph.addInport(a.name, a.port.process, a.port.port, a.port.metadata);\n                break;\n            }\n            case 'renameInport': {\n                this.graph.renameInport(a.newId, a.oldId);\n                break;\n            }\n            case 'changeInport': {\n                this.graph.setInportMetadata(a.name, calculateMeta(a.new, a.old));\n                break;\n            }\n            case 'addOutport': {\n                this.graph.removeOutport(a.name);\n                break;\n            }\n            case 'removeOutport': {\n                this.graph.addOutport(a.name, a.port.process, a.port.port, a.port.metadata);\n                break;\n            }\n            case 'renameOutport': {\n                this.graph.renameOutport(a.newId, a.oldId);\n                break;\n            }\n            case 'changeOutport': {\n                this.graph.setOutportMetadata(a.name, calculateMeta(a.new, a.old));\n                break;\n            }\n            default: throw new Error(`Unknown journal entry: ${entry.cmd}`);\n        }\n    }\n    moveToRevision(revId) {\n        if (revId === this.currentRevision) {\n            return;\n        }\n        this.subscribed = false;\n        if (revId > this.currentRevision) {\n            // Forward replay journal to revId\n            for (let start = this.currentRevision + 1, r = start, end = revId, asc = start <= end; asc ? r <= end : r >= end; asc ? r += 1 : r -= 1) {\n                this.store.fetchTransaction(r).forEach((entry) => {\n                    this.executeEntry(entry);\n                });\n            }\n        }\n        else {\n            // Move backwards, and apply inverse changes\n            for (let r = this.currentRevision, end = revId + 1; r >= end; r -= 1) {\n                // Apply entries in reverse order\n                const entries = this.store.fetchTransaction(r).slice(0);\n                entries.reverse();\n                entries.forEach((entry) => {\n                    this.executeEntryInversed(entry);\n                });\n            }\n        }\n        this.currentRevision = revId;\n        this.subscribed = true;\n    }\n    // ## Undoing & redoing\n    // Undo the last graph change\n    undo() {\n        if (!this.canUndo()) {\n            return;\n        }\n        this.moveToRevision(this.currentRevision - 1);\n    }\n    // If there is something to undo\n    canUndo() {\n        return this.currentRevision > 0;\n    }\n    // Redo the last undo\n    redo() {\n        if (!this.canRedo()) {\n            return;\n        }\n        this.moveToRevision(this.currentRevision + 1);\n    }\n    // If there is something to redo\n    canRedo() {\n        return this.currentRevision < this.store.lastRevision;\n    }\n    // # Serializing\n    // Render a pretty printed string of the journal. Changes are abbreviated\n    toPrettyString(startRev = 0, endRevParam) {\n        const endRev = endRevParam || this.store.lastRevision;\n        const lines = [];\n        for (let r = startRev, end = endRev, asc = startRev <= end; asc ? r < end : r > end; asc ? r += 1 : r -= 1) {\n            const e = this.store.fetchTransaction(r);\n            e.forEach((entry) => {\n                lines.push(entryToPrettyString(entry));\n            });\n        }\n        return lines.join('\\n');\n    }\n    // Serialize journal to JSON\n    toJSON(startRev = 0, endRevParam = null) {\n        const endRev = endRevParam || this.store.lastRevision;\n        const entries = [];\n        for (let r = startRev, end = endRev; r < end; r += 1) {\n            const e = this.store.fetchTransaction(r);\n            e.forEach((entry) => {\n                entries.push(entryToPrettyString(entry));\n            });\n        }\n        return entries;\n    }\n    save(file, callback) {\n        const json = JSON.stringify(this.toJSON(), null, 4);\n        const { writeFile } = require('fs');\n        // eslint-disable-next-line global-require\n        writeFile(`${file}.json`, json, 'utf-8', callback);\n    }\n}\nexports.Journal = Journal;\n//# sourceMappingURL=Journal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst JournalStore_1 = require(\"./JournalStore\");\n/**\n * In-memory journal storage\n *\n */\nclass MemoryJournalStore extends JournalStore_1.default {\n    constructor(graph) {\n        super(graph);\n        this.transactions = [];\n    }\n    countTransactions() {\n        return this.transactions.length;\n    }\n    putTransaction(revId, entries) {\n        super.putTransaction(revId, entries);\n        this.transactions[revId] = entries;\n    }\n    fetchTransaction(revId) {\n        return this.transactions[revId];\n    }\n}\nexports.default = MemoryJournalStore;\n//# sourceMappingURL=MemoryJournalStore.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mergeResolveTheirs = exports.equivalent = exports.loadFile = exports.loadFBP = exports.loadJSON = exports.createGraph = exports.Graph = void 0;\n//     FBP Graph\n//     (c) 2013-2020 Flowhub UG\n//     (c) 2011-2012 Henri Bergius, Nemein\n//     FBP Graph may be freely distributed under the MIT license\n//\n// FBP graphs are Event Emitters, providing signals when the graph\n// definition changes.\n/* eslint-env browser, node */\nconst events_1 = require(\"events\");\nconst clone = require(\"clone\");\nconst Platform_1 = require(\"./Platform\");\n// This class represents an abstract FBP graph containing nodes\n// connected to each other with edges.\n//\n// These graphs can be used for visualization and sketching, but\n// also are the way to start a NoFlo or other FBP network.\nclass Graph extends events_1.EventEmitter {\n    constructor(name = '', options = {}) {\n        super();\n        this.setMaxListeners(0);\n        this.name = name;\n        this.properties = {};\n        this.nodes = [];\n        this.edges = [];\n        this.initializers = [];\n        this.inports = {};\n        this.outports = {};\n        this.groups = [];\n        this.transaction = {\n            id: null,\n            depth: 0,\n        };\n        this.caseSensitive = options.caseSensitive || false;\n    }\n    getPortName(port = '') {\n        if (this.caseSensitive) {\n            return port;\n        }\n        return port.toLowerCase();\n    }\n    // ## Group graph changes into transactions\n    //\n    // If no transaction is explicitly opened, each call to\n    // the graph API will implicitly create a transaction for that change\n    startTransaction(id, metadata = {}) {\n        if (this.transaction.id) {\n            throw Error('Nested transactions not supported');\n        }\n        this.transaction.id = id;\n        this.transaction.depth = 1;\n        this.emit('startTransaction', id, metadata);\n    }\n    endTransaction(id, metadata = {}) {\n        if (!this.transaction.id) {\n            throw Error('Attempted to end non-existing transaction');\n        }\n        this.transaction.id = null;\n        this.transaction.depth = 0;\n        this.emit('endTransaction', id, metadata);\n    }\n    checkTransactionStart() {\n        if (!this.transaction.id) {\n            this.startTransaction('implicit');\n        }\n        else if (this.transaction.id === 'implicit') {\n            this.transaction.depth += 1;\n        }\n    }\n    checkTransactionEnd() {\n        if (this.transaction.id === 'implicit') {\n            this.transaction.depth -= 1;\n        }\n        if (this.transaction.depth === 0) {\n            this.endTransaction('implicit');\n        }\n    }\n    // ## Modifying Graph properties\n    //\n    // This method allows changing properties of the graph.\n    setProperties(properties) {\n        this.checkTransactionStart();\n        const before = clone(this.properties);\n        Object.keys(properties).forEach((item) => {\n            const val = properties[item];\n            this.properties[item] = val;\n        });\n        this.emit('changeProperties', this.properties, before);\n        this.checkTransactionEnd();\n    }\n    addInport(publicPort, nodeKey, portKey, metadata = {}) {\n        // Check that node exists\n        if (!this.getNode(nodeKey)) {\n            return;\n        }\n        const portName = this.getPortName(publicPort);\n        this.checkTransactionStart();\n        this.inports[portName] = {\n            process: nodeKey,\n            port: this.getPortName(portKey),\n            metadata,\n        };\n        this.emit('addInport', portName, this.inports[portName]);\n        this.checkTransactionEnd();\n    }\n    removeInport(publicPort) {\n        const portName = this.getPortName(publicPort);\n        if (!this.inports[portName]) {\n            return;\n        }\n        this.checkTransactionStart();\n        const port = this.inports[portName];\n        this.setInportMetadata(portName, {});\n        delete this.inports[portName];\n        this.emit('removeInport', portName, port);\n        this.checkTransactionEnd();\n    }\n    renameInport(oldPort, newPort) {\n        const oldPortName = this.getPortName(oldPort);\n        const newPortName = this.getPortName(newPort);\n        if (!this.inports[oldPortName]) {\n            return;\n        }\n        if (newPortName === oldPortName) {\n            return;\n        }\n        this.checkTransactionStart();\n        this.inports[newPortName] = this.inports[oldPortName];\n        delete this.inports[oldPortName];\n        this.emit('renameInport', oldPortName, newPortName);\n        this.checkTransactionEnd();\n    }\n    setInportMetadata(publicPort, metadata) {\n        const portName = this.getPortName(publicPort);\n        if (!this.inports[portName]) {\n            return;\n        }\n        this.checkTransactionStart();\n        if (!this.inports[portName].metadata) {\n            this.inports[portName].metadata = {};\n        }\n        const before = clone(this.inports[portName].metadata);\n        Object.keys(metadata).forEach((item) => {\n            const val = metadata[item];\n            const existingMeta = this.inports[portName].metadata;\n            if (!existingMeta) {\n                return;\n            }\n            if (val != null) {\n                existingMeta[item] = val;\n            }\n            else {\n                delete existingMeta[item];\n            }\n        });\n        this.emit('changeInport', portName, this.inports[portName], before, metadata);\n        this.checkTransactionEnd();\n    }\n    addOutport(publicPort, nodeKey, portKey, metadata = {}) {\n        // Check that node exists\n        if (!this.getNode(nodeKey)) {\n            return;\n        }\n        const portName = this.getPortName(publicPort);\n        this.checkTransactionStart();\n        this.outports[portName] = {\n            process: nodeKey,\n            port: this.getPortName(portKey),\n            metadata,\n        };\n        this.emit('addOutport', portName, this.outports[portName]);\n        this.checkTransactionEnd();\n    }\n    removeOutport(publicPort) {\n        const portName = this.getPortName(publicPort);\n        if (!this.outports[portName]) {\n            return;\n        }\n        this.checkTransactionStart();\n        const port = this.outports[portName];\n        this.setOutportMetadata(portName, {});\n        delete this.outports[portName];\n        this.emit('removeOutport', portName, port);\n        this.checkTransactionEnd();\n    }\n    renameOutport(oldPort, newPort) {\n        const oldPortName = this.getPortName(oldPort);\n        const newPortName = this.getPortName(newPort);\n        if (!this.outports[oldPortName]) {\n            return;\n        }\n        this.checkTransactionStart();\n        this.outports[newPortName] = this.outports[oldPortName];\n        delete this.outports[oldPortName];\n        this.emit('renameOutport', oldPortName, newPortName);\n        this.checkTransactionEnd();\n    }\n    setOutportMetadata(publicPort, metadata) {\n        const portName = this.getPortName(publicPort);\n        if (!this.outports[portName]) {\n            return;\n        }\n        this.checkTransactionStart();\n        const before = clone(this.outports[portName].metadata);\n        if (!this.outports[portName].metadata) {\n            this.outports[portName].metadata = {};\n        }\n        Object.keys(metadata).forEach((item) => {\n            const val = metadata[item];\n            const existingMeta = this.outports[portName].metadata;\n            if (!existingMeta) {\n                return;\n            }\n            if (val != null) {\n                existingMeta[item] = val;\n            }\n            else {\n                delete existingMeta[item];\n            }\n        });\n        this.emit('changeOutport', portName, this.outports[portName], before, metadata);\n        this.checkTransactionEnd();\n    }\n    // ## Grouping nodes in a graph\n    //\n    addGroup(group, nodes, metadata) {\n        this.checkTransactionStart();\n        const g = {\n            name: group,\n            nodes,\n            metadata,\n        };\n        this.groups.push(g);\n        this.emit('addGroup', g);\n        this.checkTransactionEnd();\n        return g;\n    }\n    renameGroup(oldName, newName) {\n        this.checkTransactionStart();\n        this.groups.forEach((group) => {\n            if (!group) {\n                return;\n            }\n            if (group.name !== oldName) {\n                return;\n            }\n            const g = group;\n            g.name = newName;\n            this.emit('renameGroup', oldName, newName);\n        });\n        this.checkTransactionEnd();\n    }\n    removeGroup(groupName) {\n        this.checkTransactionStart();\n        this.groups = this.groups.filter((group) => {\n            if (!group) {\n                return false;\n            }\n            if (group.name !== groupName) {\n                return true;\n            }\n            this.setGroupMetadata(group.name, {});\n            this.emit('removeGroup', group);\n            return false;\n        });\n        this.checkTransactionEnd();\n    }\n    setGroupMetadata(groupName, metadata) {\n        this.checkTransactionStart();\n        this.groups.forEach((group) => {\n            if (!group) {\n                return;\n            }\n            if (group.name !== groupName) {\n                return;\n            }\n            const before = clone(group.metadata);\n            Object.keys(metadata).forEach((item) => {\n                const val = metadata[item];\n                const g = group;\n                if (!g.metadata) {\n                    return;\n                }\n                if (val != null) {\n                    g.metadata[item] = val;\n                }\n                else {\n                    delete g.metadata[item];\n                }\n            });\n            this.emit('changeGroup', group, before, metadata);\n        });\n        this.checkTransactionEnd();\n    }\n    // ## Adding a node to the graph\n    //\n    // Nodes are identified by an ID unique to the graph. Additionally,\n    // a node may contain information on what FBP component it is and\n    // possible display coordinates.\n    //\n    // For example:\n    //\n    //     myGraph.addNode 'Read, 'ReadFile',\n    //       x: 91\n    //       y: 154\n    //\n    // Addition of a node will emit the `addNode` event.\n    addNode(id, component, metadata = {}) {\n        this.checkTransactionStart();\n        const node = {\n            id,\n            component,\n            metadata,\n        };\n        this.nodes.push(node);\n        this.emit('addNode', node);\n        this.checkTransactionEnd();\n        return node;\n    }\n    // ## Removing a node from the graph\n    //\n    // Existing nodes can be removed from a graph by their ID. This\n    // will remove the node and also remove all edges connected to it.\n    //\n    //     myGraph.removeNode 'Read'\n    //\n    // Once the node has been removed, the `removeNode` event will be\n    // emitted.\n    removeNode(id) {\n        const node = this.getNode(id);\n        if (!node) {\n            return;\n        }\n        this.checkTransactionStart();\n        this.edges.forEach((edge) => {\n            if ((edge.from.node === node.id) || (edge.to.node === node.id)) {\n                this.removeEdge(edge.from.node, edge.from.port, edge.to.node, edge.to.port);\n            }\n        });\n        this.initializers.forEach((initializer) => {\n            if (initializer.to.node === node.id) {\n                this.removeInitial(initializer.to.node, initializer.to.port);\n            }\n        });\n        Object.keys(this.inports).forEach((pub) => {\n            const priv = this.inports[pub];\n            if (priv.process === id) {\n                this.removeInport(pub);\n            }\n        });\n        Object.keys(this.outports).forEach((pub) => {\n            const priv = this.outports[pub];\n            if (priv.process === id) {\n                this.removeOutport(pub);\n            }\n        });\n        this.groups.forEach((group) => {\n            if (!group) {\n                return;\n            }\n            const index = group.nodes.indexOf(id);\n            if (index === -1) {\n                return;\n            }\n            group.nodes.splice(index, 1);\n            if (group.nodes.length === 0) {\n                // Don't leave empty groups behind\n                this.removeGroup(group.name);\n            }\n        });\n        this.setNodeMetadata(id, {});\n        this.nodes = this.nodes.filter((n) => n !== node);\n        this.emit('removeNode', node);\n        this.checkTransactionEnd();\n    }\n    // ## Getting a node\n    //\n    // Nodes objects can be retrieved from the graph by their ID:\n    //\n    //     myNode = myGraph.getNode 'Read'\n    getNode(id) {\n        const node = this.nodes.find((node) => node && node.id === id);\n        if (!node) {\n            return null;\n        }\n        return node;\n    }\n    // ## Renaming a node\n    //\n    // Nodes IDs can be changed by calling this method.\n    renameNode(oldId, newId) {\n        this.checkTransactionStart();\n        const node = this.getNode(oldId);\n        if (!node) {\n            return;\n        }\n        node.id = newId;\n        this.edges.forEach((e) => {\n            const edge = e;\n            if (!edge) {\n                return;\n            }\n            if (edge.from.node === oldId) {\n                edge.from.node = newId;\n            }\n            if (edge.to.node === oldId) {\n                edge.to.node = newId;\n            }\n        });\n        this.initializers.forEach((i) => {\n            const iip = i;\n            if (!iip) {\n                return;\n            }\n            if (iip.to.node === oldId) {\n                iip.to.node = newId;\n            }\n        });\n        Object.keys(this.inports).forEach((pub) => {\n            const priv = this.inports[pub];\n            if (priv.process === oldId) {\n                priv.process = newId;\n            }\n        });\n        Object.keys(this.outports).forEach((pub) => {\n            const priv = this.outports[pub];\n            if (priv.process === oldId) {\n                priv.process = newId;\n            }\n        });\n        this.groups.forEach((group) => {\n            if (!group) {\n                return;\n            }\n            const index = group.nodes.indexOf(oldId);\n            if (index === -1) {\n                return;\n            }\n            const g = group;\n            g.nodes[index] = newId;\n        });\n        this.emit('renameNode', oldId, newId);\n        this.checkTransactionEnd();\n    }\n    // ## Changing a node's metadata\n    //\n    // Node metadata can be set or changed by calling this method.\n    setNodeMetadata(id, metadata) {\n        const node = this.getNode(id);\n        if (!node) {\n            return;\n        }\n        this.checkTransactionStart();\n        if (!node.metadata) {\n            node.metadata = {};\n        }\n        const before = clone(node.metadata);\n        Object.keys(metadata).forEach((item) => {\n            if (!node.metadata) {\n                return;\n            }\n            const val = metadata[item];\n            if (val != null) {\n                node.metadata[item] = val;\n            }\n            else {\n                delete node.metadata[item];\n            }\n        });\n        this.emit('changeNode', node, before, metadata);\n        this.checkTransactionEnd();\n    }\n    // ## Connecting nodes\n    //\n    // Nodes can be connected by adding edges between a node's outport\n    // and another node's inport:\n    //\n    //     myGraph.addEdge 'Read', 'out', 'Display', 'in'\n    //     myGraph.addEdgeIndex 'Read', 'out', null, 'Display', 'in', 2\n    //\n    // Adding an edge will emit the `addEdge` event.\n    addEdge(outNode, outPort, inNode, inPort, metadata = {}) {\n        const outPortName = this.getPortName(outPort);\n        const inPortName = this.getPortName(inPort);\n        if (this.edges.some((edge) => {\n            // don't add a duplicate edge\n            if ((edge.from.node === outNode)\n                && (edge.from.port === outPortName)\n                && (edge.to.node === inNode)\n                && (edge.to.port === inPortName)) {\n                return true;\n            }\n            return false;\n        })) {\n            return null;\n        }\n        if (!this.getNode(outNode)) {\n            return null;\n        }\n        if (!this.getNode(inNode)) {\n            return null;\n        }\n        this.checkTransactionStart();\n        const edge = {\n            from: {\n                node: outNode,\n                port: outPortName,\n            },\n            to: {\n                node: inNode,\n                port: inPortName,\n            },\n            metadata,\n        };\n        this.edges.push(edge);\n        this.emit('addEdge', edge);\n        this.checkTransactionEnd();\n        return edge;\n    }\n    // Adding an edge will emit the `addEdge` event.\n    addEdgeIndex(outNode, outPort, outIndex, inNode, inPort, inIndex, metadata = {}) {\n        const outPortName = this.getPortName(outPort);\n        const inPortName = this.getPortName(inPort);\n        const inIndexVal = (inIndex === null) ? undefined : inIndex;\n        const outIndexVal = (outIndex === null) ? undefined : outIndex;\n        if (this.edges.some((edge) => {\n            // don't add a duplicate edge\n            if ((edge.from.node === outNode)\n                && (edge.from.port === outPortName)\n                && (edge.from.index === outIndexVal)\n                && (edge.to.node === inNode)\n                && (edge.to.port === inPortName)\n                && (edge.to.index === inIndexVal)) {\n                return true;\n            }\n            return false;\n        })) {\n            return null;\n        }\n        if (!this.getNode(outNode)) {\n            return null;\n        }\n        if (!this.getNode(inNode)) {\n            return null;\n        }\n        this.checkTransactionStart();\n        const edge = {\n            from: {\n                node: outNode,\n                port: outPortName,\n                index: outIndexVal,\n            },\n            to: {\n                node: inNode,\n                port: inPortName,\n                index: inIndexVal,\n            },\n            metadata,\n        };\n        this.edges.push(edge);\n        this.emit('addEdge', edge);\n        this.checkTransactionEnd();\n        return edge;\n    }\n    // ## Disconnected nodes\n    //\n    // Connections between nodes can be removed by providing the\n    // nodes and ports to disconnect.\n    //\n    //     myGraph.removeEdge 'Display', 'out', 'Foo', 'in'\n    //\n    // Removing a connection will emit the `removeEdge` event.\n    removeEdge(node, port, node2, port2) {\n        if (!this.getEdge(node, port, node2, port2)) {\n            return;\n        }\n        this.checkTransactionStart();\n        const outPort = this.getPortName(port);\n        const inPort = this.getPortName(port2);\n        this.edges = this.edges.filter((edge) => {\n            if (node2 && inPort) {\n                if ((edge.from.node === node)\n                    && (edge.from.port === outPort)\n                    && (edge.to.node === node2)\n                    && (edge.to.port === inPort)) {\n                    this.setEdgeMetadata(edge.from.node, edge.from.port, edge.to.node, edge.to.port, {});\n                    this.emit('removeEdge', edge);\n                    return false;\n                }\n            }\n            else if (((edge.from.node === node) && (edge.from.port === outPort))\n                || ((edge.to.node === node) && (edge.to.port === outPort))) {\n                this.setEdgeMetadata(edge.from.node, edge.from.port, edge.to.node, edge.to.port, {});\n                this.emit('removeEdge', edge);\n                return false;\n            }\n            return true;\n        });\n        this.checkTransactionEnd();\n    }\n    // ## Getting an edge\n    //\n    // Edge objects can be retrieved from the graph by the node and port IDs:\n    //\n    //     myEdge = myGraph.getEdge 'Read', 'out', 'Write', 'in'\n    getEdge(node, port, node2, port2) {\n        const outPort = this.getPortName(port);\n        const inPort = this.getPortName(port2);\n        const edge = this.edges.find((edge) => {\n            if (!edge) {\n                return false;\n            }\n            if (edge.from.node === node\n                && edge.from.port === outPort\n                && edge.to.node === node2\n                && edge.to.port === inPort) {\n                return true;\n            }\n            return false;\n        });\n        if (!edge) {\n            return null;\n        }\n        return edge;\n    }\n    // ## Changing an edge's metadata\n    //\n    // Edge metadata can be set or changed by calling this method.\n    setEdgeMetadata(node, port, node2, port2, metadata) {\n        const edge = this.getEdge(node, port, node2, port2);\n        if (!edge) {\n            return;\n        }\n        this.checkTransactionStart();\n        if (!edge.metadata) {\n            edge.metadata = {};\n        }\n        const before = clone(edge.metadata);\n        Object.keys(metadata).forEach((item) => {\n            const val = metadata[item];\n            if (!edge.metadata) {\n                edge.metadata = {};\n            }\n            if (val !== null) {\n                edge.metadata[item] = val;\n            }\n            else {\n                delete edge.metadata[item];\n            }\n        });\n        this.emit('changeEdge', edge, before, metadata);\n        this.checkTransactionEnd();\n    }\n    // ## Adding Initial Information Packets\n    //\n    // Initial Information Packets (IIPs) can be used for sending data\n    // to specified node inports without a sending node instance.\n    //\n    // IIPs are especially useful for sending configuration information\n    // to components at FBP network start-up time. This could include\n    // filenames to read, or network ports to listen to.\n    //\n    //     myGraph.addInitial 'somefile.txt', 'Read', 'source'\n    //     myGraph.addInitialIndex 'somefile.txt', 'Read', 'source', 2\n    //\n    // If inports are defined on the graph, IIPs can be applied calling\n    // the `addGraphInitial` or `addGraphInitialIndex` methods.\n    //\n    //     myGraph.addGraphInitial 'somefile.txt', 'file'\n    //     myGraph.addGraphInitialIndex 'somefile.txt', 'file', 2\n    //\n    // Adding an IIP will emit a `addInitial` event.\n    addInitial(data, node, port, metadata = {}) {\n        if (!this.getNode(node)) {\n            return null;\n        }\n        const portName = this.getPortName(port);\n        this.checkTransactionStart();\n        const initializer = {\n            from: {\n                data,\n            },\n            to: {\n                node,\n                port: portName,\n            },\n            metadata,\n        };\n        this.initializers.push(initializer);\n        this.emit('addInitial', initializer);\n        this.checkTransactionEnd();\n        return initializer;\n    }\n    addInitialIndex(data, node, port, index, metadata = {}) {\n        if (!this.getNode(node)) {\n            return null;\n        }\n        const indexVal = (index === null) ? undefined : index;\n        const portName = this.getPortName(port);\n        this.checkTransactionStart();\n        const initializer = {\n            from: {\n                data,\n            },\n            to: {\n                node,\n                port: portName,\n                index: indexVal,\n            },\n            metadata,\n        };\n        this.initializers.push(initializer);\n        this.emit('addInitial', initializer);\n        this.checkTransactionEnd();\n        return initializer;\n    }\n    addGraphInitial(data, node, metadata = {}) {\n        const inport = this.inports[node];\n        if (!inport) {\n            return null;\n        }\n        return this.addInitial(data, inport.process, inport.port, metadata);\n    }\n    addGraphInitialIndex(data, node, index, metadata = {}) {\n        const inport = this.inports[node];\n        if (!inport) {\n            return null;\n        }\n        return this.addInitialIndex(data, inport.process, inport.port, index, metadata);\n    }\n    // ## Removing Initial Information Packets\n    //\n    // IIPs can be removed by calling the `removeInitial` method.\n    //\n    //     myGraph.removeInitial 'Read', 'source'\n    //\n    // If the IIP was applied via the `addGraphInitial` or\n    // `addGraphInitialIndex` functions, it can be removed using\n    // the `removeGraphInitial` method.\n    //\n    //     myGraph.removeGraphInitial 'file'\n    //\n    // Remove an IIP will emit a `removeInitial` event.\n    removeInitial(node, port) {\n        const portName = this.getPortName(port);\n        this.checkTransactionStart();\n        this.initializers = this.initializers.filter((iip) => {\n            if (iip.to.node === node && iip.to.port === portName) {\n                this.emit('removeInitial', iip);\n                return false;\n            }\n            return true;\n        });\n        this.checkTransactionEnd();\n    }\n    removeGraphInitial(node) {\n        const inport = this.inports[node];\n        if (!inport) {\n            return;\n        }\n        this.removeInitial(inport.process, inport.port);\n    }\n    toDOT() {\n        const cleanId = (id) => id.replace(/\"/g, '\\\\\"');\n        const cleanPort = (port) => port.replace(/\\./g, '');\n        const wrapQuotes = (id) => `\"${cleanId(id)}\"`;\n        let dot = 'digraph {\\n';\n        this.nodes.forEach((node) => {\n            dot += `    ${wrapQuotes(node.id)} [label=${wrapQuotes(node.id)} shape=box]\\n`;\n        });\n        this.initializers.forEach((initializer, id) => {\n            let data;\n            if (typeof initializer.from.data === 'function') {\n                data = 'Function';\n            }\n            else {\n                data = JSON.stringify(initializer.from.data);\n            }\n            dot += `    data${id} [label=${wrapQuotes(data)} shape=plaintext]\\n`;\n            dot += `    data${id} -> ${wrapQuotes(initializer.to.node)}[headlabel=${cleanPort(initializer.to.port)} labelfontcolor=blue labelfontsize=8.0]\\n`;\n        });\n        this.edges.forEach((edge) => {\n            dot += `    ${wrapQuotes(edge.from.node)} -> ${wrapQuotes(edge.to.node)}[taillabel=${cleanPort(edge.from.port)} headlabel=${cleanPort(edge.to.port)} labelfontcolor=blue labelfontsize=8.0]\\n`;\n        });\n        dot += '}';\n        return dot;\n    }\n    toYUML() {\n        const yuml = [];\n        this.initializers.forEach((initializer) => {\n            yuml.push(`(start)[${initializer.to.port}]->(${initializer.to.node})`);\n        });\n        this.edges.forEach((edge) => {\n            yuml.push(`(${edge.from.node})[${edge.from.port}]->(${edge.to.node})`);\n        });\n        return yuml.join(',');\n    }\n    toJSON() {\n        const json = {\n            caseSensitive: this.caseSensitive,\n            properties: {\n                name: this.name,\n                ...this.properties,\n            },\n            inports: {\n                ...this.inports,\n            },\n            outports: {\n                ...this.outports,\n            },\n            groups: this.groups.map((group) => {\n                const groupData = {\n                    name: group.name,\n                    nodes: group.nodes,\n                };\n                if (group.metadata && Object.keys(group.metadata).length) {\n                    groupData.metadata = {\n                        ...group.metadata,\n                    };\n                }\n                return groupData;\n            }),\n            processes: {},\n            connections: [],\n        };\n        if (json && json.properties) {\n            delete json.properties.baseDir;\n            delete json.properties.componentLoader;\n        }\n        this.nodes.forEach((node) => {\n            if (!json.processes) {\n                json.processes = {};\n            }\n            json.processes[node.id] = {\n                component: node.component,\n            };\n            if (node.metadata) {\n                json.processes[node.id].metadata = {\n                    ...node.metadata,\n                };\n            }\n        });\n        this.edges.forEach((edge) => {\n            const connection = {\n                src: {\n                    process: edge.from.node,\n                    port: edge.from.port,\n                    index: edge.from.index,\n                },\n                tgt: {\n                    process: edge.to.node,\n                    port: edge.to.port,\n                    index: edge.to.index,\n                },\n            };\n            if (edge.metadata && Object.keys(edge.metadata).length) {\n                connection.metadata = {\n                    ...edge.metadata,\n                };\n            }\n            if (!json.connections) {\n                json.connections = [];\n            }\n            json.connections.push(connection);\n        });\n        this.initializers.forEach((initializer) => {\n            const iip = {\n                data: initializer.from.data,\n                tgt: {\n                    process: initializer.to.node,\n                    port: initializer.to.port,\n                    index: initializer.to.index,\n                },\n            };\n            if (initializer.metadata && Object.keys(initializer.metadata).length) {\n                iip.metadata = {\n                    ...initializer.metadata,\n                };\n            }\n            if (!json.connections) {\n                json.connections = [];\n            }\n            json.connections.push(iip);\n        });\n        return json;\n    }\n    save(file, callback) {\n        if (Platform_1.isBrowser()) {\n            callback(new Error('Saving graphs not supported on browser'));\n            return;\n        }\n        const json = JSON.stringify(this.toJSON(), null, 4);\n        let filename = file;\n        if (!filename.match(/\\.json$/)) {\n            filename = `${file}.json`;\n        }\n        // eslint-disable-next-line global-require\n        require('fs').writeFile(filename, json, 'utf-8', (err) => {\n            if (err) {\n                callback(err);\n                return;\n            }\n            callback(null, filename);\n        });\n    }\n}\nexports.Graph = Graph;\nfunction createGraph(name, options) {\n    return new Graph(name, options);\n}\nexports.createGraph = createGraph;\n;\nfunction loadJSON(passedDefinition, callback, metadata = {}) {\n    let definition;\n    if (typeof passedDefinition === 'string') {\n        definition = JSON.parse(passedDefinition);\n    }\n    else {\n        definition = clone(passedDefinition);\n    }\n    if (!definition.properties) {\n        definition.properties = {};\n    }\n    if (!definition.processes) {\n        definition.processes = {};\n    }\n    if (!definition.connections) {\n        definition.connections = [];\n    }\n    const graph = new Graph(definition.properties.name, {\n        caseSensitive: definition.caseSensitive || false,\n    });\n    graph.startTransaction('loadJSON', metadata);\n    const properties = {};\n    Object.keys(definition.properties).forEach((property) => {\n        if (property === 'name') {\n            return;\n        }\n        if (!definition.properties) {\n            return;\n        }\n        const value = definition.properties[property];\n        properties[property] = value;\n    });\n    graph.setProperties(properties);\n    Object.keys(definition.processes).forEach((id) => {\n        if (!definition.processes) {\n            return;\n        }\n        const def = definition.processes[id];\n        if (!def.metadata) {\n            def.metadata = {};\n        }\n        graph.addNode(id, def.component, def.metadata);\n    });\n    definition.connections.forEach((conn) => {\n        const meta = conn.metadata ? conn.metadata : {};\n        if (typeof conn.data !== 'undefined') {\n            if (typeof conn.tgt.index === 'number') {\n                graph.addInitialIndex(conn.data, conn.tgt.process, graph.getPortName(conn.tgt.port), conn.tgt.index, meta);\n            }\n            else {\n                graph.addInitial(conn.data, conn.tgt.process, graph.getPortName(conn.tgt.port), meta);\n            }\n            return;\n        }\n        if (typeof conn.src === 'undefined') {\n            return;\n        }\n        if ((typeof conn.src.index === 'number') || (typeof conn.tgt.index === 'number')) {\n            graph.addEdgeIndex(conn.src.process, graph.getPortName(conn.src.port), conn.src.index, conn.tgt.process, graph.getPortName(conn.tgt.port), conn.tgt.index, meta);\n            return;\n        }\n        graph.addEdge(conn.src.process, graph.getPortName(conn.src.port), conn.tgt.process, graph.getPortName(conn.tgt.port), meta);\n    });\n    if (definition.inports) {\n        Object.keys(definition.inports).forEach((pub) => {\n            if (!definition.inports || !definition.inports[pub]) {\n                return;\n            }\n            const priv = definition.inports[pub];\n            graph.addInport(pub, priv.process, graph.getPortName(priv.port), priv.metadata || {});\n        });\n    }\n    if (definition.outports) {\n        Object.keys(definition.outports).forEach((pub) => {\n            if (!definition.outports || !definition.outports[pub]) {\n                return;\n            }\n            const priv = definition.outports[pub];\n            graph.addOutport(pub, priv.process, graph.getPortName(priv.port), priv.metadata || {});\n        });\n    }\n    if (definition.groups) {\n        definition.groups.forEach((group) => {\n            graph.addGroup(group.name, group.nodes, group.metadata || {});\n        });\n    }\n    graph.endTransaction('loadJSON');\n    return callback(null, graph);\n}\nexports.loadJSON = loadJSON;\nfunction loadFBP(fbpData, callback, metadata = {}, caseSensitive = false) {\n    let definition;\n    try {\n        // eslint-disable-next-line global-require\n        definition = require('fbp').parse(fbpData, { caseSensitive });\n    }\n    catch (e) {\n        return callback(e);\n    }\n    return loadJSON(definition, callback, metadata);\n}\nexports.loadFBP = loadFBP;\nfunction loadHTTP(url, callback) {\n    const req = new XMLHttpRequest();\n    req.onreadystatechange = () => {\n        if (req.readyState !== 4) {\n            return;\n        }\n        if (req.status !== 200) {\n            callback(new Error(`Failed to load ${url}: HTTP ${req.status}`));\n        }\n        callback(null, req.responseText);\n    };\n    req.open('GET', url, true);\n    req.send();\n}\nfunction loadFile(file, callback, metadata = {}, caseSensitive = false) {\n    if (Platform_1.isBrowser()) {\n        // On browser we can try getting the file via AJAX\n        loadHTTP(file, (err, data) => {\n            if (err) {\n                callback(err);\n                return;\n            }\n            if (!data) {\n                callback(new Error('No data received'));\n                return;\n            }\n            if (file.split('.').pop() === 'fbp') {\n                loadFBP(data, callback, metadata);\n                return;\n            }\n            loadJSON(data, callback, metadata);\n        });\n        return;\n    }\n    // Node.js graph file\n    // eslint-disable-next-line global-require\n    require('fs').readFile(file, 'utf-8', (err, data) => {\n        if (err) {\n            callback(err);\n            return;\n        }\n        if (file.split('.').pop() === 'fbp') {\n            loadFBP(data, callback, {}, caseSensitive);\n            return;\n        }\n        loadJSON(data, callback, {});\n    });\n}\nexports.loadFile = loadFile;\n// remove everything in the graph\nfunction resetGraph(graph) {\n    // Edges and similar first, to have control over the order\n    // If we'd do nodes first, it will implicitly delete edges\n    // Important to make journal transactions invertible\n    graph.groups.reverse();\n    graph.groups.forEach((group) => {\n        if (group != null) {\n            graph.removeGroup(group.name);\n        }\n    });\n    Object.keys(graph.outports).forEach((port) => {\n        graph.removeOutport(port);\n    });\n    Object.keys(graph.inports).forEach((port) => {\n        graph.removeInport(port);\n    });\n    graph.setProperties({});\n    graph.initializers.reverse();\n    graph.initializers.forEach((iip) => {\n        graph.removeInitial(iip.to.node, iip.to.port);\n    });\n    graph.edges.reverse();\n    graph.edges.forEach((edge) => {\n        graph.removeEdge(edge.from.node, edge.from.port, edge.to.node, edge.to.port);\n    });\n    graph.nodes.reverse();\n    graph.nodes.forEach((node) => {\n        graph.removeNode(node.id);\n    });\n}\n// Note: Caller should create transaction\n// First removes everything in @base, before building it up to mirror @to\nfunction mergeResolveTheirsNaive(base, to) {\n    resetGraph(base);\n    to.nodes.forEach((node) => {\n        base.addNode(node.id, node.component, node.metadata);\n    });\n    to.edges.forEach((edge) => {\n        base.addEdge(edge.from.node, edge.from.port, edge.to.node, edge.to.port, edge.metadata);\n    });\n    to.initializers.forEach((iip) => {\n        if (typeof iip.to.index === 'number') {\n            base.addInitialIndex(iip.from.data, iip.to.node, iip.to.port, iip.to.index, iip.metadata || {});\n            return;\n        }\n        base.addInitial(iip.from.data, iip.to.node, iip.to.port, iip.metadata || {});\n    });\n    base.setProperties(to.properties);\n    Object.keys(to.inports).forEach((pub) => {\n        const priv = to.inports[pub];\n        base.addInport(pub, priv.process, priv.port, priv.metadata || {});\n    });\n    Object.keys(to.outports).forEach((pub) => {\n        const priv = to.outports[pub];\n        base.addOutport(pub, priv.process, priv.port, priv.metadata || {});\n    });\n    to.groups.forEach((group) => {\n        base.addGroup(group.name, group.nodes, group.metadata || {});\n    });\n}\nexports.mergeResolveTheirs = mergeResolveTheirsNaive;\nfunction equivalent(a, b) {\n    // TODO: add option to only compare known fields\n    // TODO: add option to ignore metadata\n    return (JSON.stringify(a) === JSON.stringify(b));\n}\nexports.equivalent = equivalent;\n//# sourceMappingURL=Graph.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isBrowser = void 0;\n//     NoFlo - Flow-Based Programming for JavaScript\n//     (c) 2014-2017 Flowhub UG\n//     NoFlo may be freely distributed under the MIT license\n//\n// Platform detection method\n/* eslint-env browser, node */\nfunction isBrowser() {\n    if ((typeof process !== 'undefined') && process.execPath && process.execPath.match(/node|iojs/)) {\n        return false;\n    }\n    return true;\n}\nexports.isBrowser = isBrowser;\n;\n//# sourceMappingURL=Platform.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Graph = exports.Journal = exports.graph = exports.journal = void 0;\nconst journal = require(\"./Journal\");\nexports.journal = journal;\nconst graph = require(\"./Graph\");\nexports.graph = graph;\nconst { Journal } = journal;\nexports.Journal = Journal;\nconst { Graph } = graph;\nexports.Graph = Graph;\n//# sourceMappingURL=index.js.map","var clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","var parser = require('./fbp');\nvar serialize = require('./serialize');\n\nmodule.exports = {\n  SyntaxError: parser.SyntaxError,\n  parse: parser.parse,\n  serialize: serialize,\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}"],"sourceRoot":""}